!function(){let e,t,n,r,o,i;var a,l,s,u,c,d,f,p,h,g,m,v=Object.create,y=Object.defineProperty,b=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,_=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,k=(e,t)=>function(){return e&&(t=(0,e[x(e)[0]])(e=0)),t},M=(e,t)=>function(){return t||(0,e[x(e)[0]])((t={exports:{}}).exports,t),t.exports},j=(e,t)=>{for(var n in t)y(e,n,{get:t[n],enumerable:!0})},S=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var o,i=x(t),a=0,l=i.length;a<l;a++)o=i[a],w.call(e,o)||o===n||y(e,o,{get:(e=>t[e]).bind(null,o),enumerable:!(r=b(t,o))||r.enumerable});return e},E=(e,t,n)=>(n=null!=e?v(_(e)):{},S(!t&&e&&e.__esModule?n:y(n,"default",{value:e,enumerable:!0}),e)),$=e=>S(y({},"__esModule",{value:!0}),e);let A={},T=Symbol(),z=Symbol("filename");Symbol("hmr");let O=null==(iC=globalThis.process)||null==(iC=iC.env)?void 0:iC.NODE_ENV;var N=O&&!O.toLowerCase().startsWith("prod"),C=Array.isArray,L=Array.prototype.indexOf,P=Array.from,D=Object.defineProperty,R=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyDescriptors,B=Object.prototype,F=Array.prototype,q=Object.getPrototypeOf,W=Object.isExtensible;function H(e){return"function"==typeof e}let U=()=>{};function Y(e){return e()}function G(e){for(var t=0;t<e.length;t++)e[t]()}function X(e,t){if(Array.isArray(e))return e;if(void 0===t||!(Symbol.iterator in e))return Array.from(e);let n=[];for(let r of e)if(n.push(r),n.length===t)break;return n}let V=Symbol("$state"),Z=Symbol("legacy props"),K=Symbol(""),J=Symbol("proxy path");function Q(e){return e===this.v}function ee(e){var t;return t=this.v,e!=e?t!=t:e===t&&(null===e||"object"!=typeof e)&&"function"!=typeof e}let et=!1;function en(e,t){return e.label=t,er(e.v,t),e}function er(e,t){var n;return null==e||null==(n=e[J])||n.call(e,t),e}function eo(e){if(N){let t=Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}throw Error("https://svelte.dev/e/lifecycle_outside_component")}let ei=null,ea=null;function el(e,t=!1,n){var r=ei={p:ei,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};et&&!t&&(ei.l={s:null,u:null,r1:[],r2:eM(!1)}),eZ(()=>{r.d=!0}),N&&(ei.function=n,ea=n)}function es(e){let t=ei;if(null!==t){void 0!==e&&(t.x=e);let s=t.e;if(null!==s){var n,r,o=tx,i=ty;t.e=null;try{for(var a=0;a<s.length;a++){var l=s[a];tx=l.effect,ty=l.reaction,eJ(l.fn)}}finally{tx=o,ty=i}}ei=t.p,N&&(ea=null!=(n=null==(r=t.p)?void 0:r.function)?n:null),t.m=!0}return e||{}}function eu(){return!et||null!==ei&&null===ei.l}let ec=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function ed(e){if("object"!=typeof e||null===e||V in e)return e;let t=q(e);if(t!==B&&t!==F)return e;var n=new Map,r=C(e),o=ej(0),i=ty,a=e=>{var t=ty;ty=i;var n=e();return ty=t,n};r&&n.set("length",ej(e.length,null));var l="";function s(e){for(let[t,r]of(l=e,en(o,`${l} version`),n))en(r,ef(l,t))}return new Proxy(e,{defineProperty(e,t,r){"value"in r&&!1!==r.configurable&&!1!==r.enumerable&&!1!==r.writable||function(){if(N){let e=Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}throw Error("https://svelte.dev/e/state_descriptors_fixed")}();var o=n.get(t);return void 0===o?o=a(()=>{var e=ej(r.value,null);return n.set(t,e),N&&"string"==typeof t&&en(e,ef(l,t)),e}):e$(o,r.value,!0),!0},deleteProperty(e,t){var i=n.get(t);if(void 0===i){if(t in e){let e=a(()=>ej(T,null));n.set(t,e),ep(o),N&&en(e,ef(l,t))}}else{if(r&&"string"==typeof t){var s=n.get("length"),u=Number(t);Number.isInteger(u)&&u<s.v&&e$(s,u)}e$(i,T),ep(o)}return!0},get(t,r,o){if(r===V)return e;if(N&&r===J)return s;var i,u=n.get(r),c=r in t;if(void 0===u&&(!c||(null==(i=R(t,r))?void 0:i.writable))&&(u=a(()=>{var e=ej(ed(c?t[r]:T),null);return N&&en(e,ef(l,r)),e}),n.set(r,u)),void 0!==u){var d=tI(u);return d===T?void 0:d}return Reflect.get(t,r,o)},getOwnPropertyDescriptor(e,t){var r=Reflect.getOwnPropertyDescriptor(e,t);if(r&&"value"in r){var o=n.get(t);o&&(r.value=tI(o))}else if(void 0===r){var i=n.get(t),a=null==i?void 0:i.v;if(void 0!==i&&a!==T)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return r},has(e,t){if(t===V)return!0;var r,o=n.get(t),i=void 0!==o&&o.v!==T||Reflect.has(e,t);return(void 0===o&&(null===tx||!!i&&(null==(r=R(e,t))?!void 0:!r.writable))||(void 0===o&&(o=a(()=>{var n=ej(i?ed(e[t]):T,null);return N&&en(n,ef(l,t)),n}),n.set(t,o)),tI(o)!==T))&&i},set(e,t,i,s){var u,c=n.get(t),d=t in e;if(r&&"length"===t)for(var f=i;f<c.v;f+=1){var p=n.get(f+"");void 0!==p?e$(p,T):f in e&&(p=a(()=>ej(T,null)),n.set(f+"",p),N&&en(p,ef(l,f)))}void 0===c?(!d||(null==(u=R(e,t))?void 0:u.writable))&&(e$(c=a(()=>ej(void 0,null)),ed(i)),n.set(t,c),N&&en(c,ef(l,t))):(d=c.v!==T,e$(c,a(()=>ed(i))));var h=Reflect.getOwnPropertyDescriptor(e,t);if((null==h?void 0:h.set)&&h.set.call(s,i),!d){if(r&&"string"==typeof t){var g=n.get("length"),m=Number(t);Number.isInteger(m)&&m>=g.v&&e$(g,m+1)}ep(o)}return!0},ownKeys(e){tI(o);var t=Reflect.ownKeys(e).filter(e=>{var t=n.get(e);return void 0===t||t.v!==T});for(var[r,i]of n)i.v===T||r in e||t.push(r);return t},setPrototypeOf(){if(N){let e=Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}throw Error("https://svelte.dev/e/state_prototype_fixed")}})}function ef(e,t){var n;return"symbol"==typeof t?`${e}[Symbol(${null!=(n=t.description)?n:""})]`:ec.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function ep(e,t=1){e$(e,e.v+t)}function eh(e){try{if(null!==e&&"object"==typeof e&&V in e)return e[V]}catch(e){}return e}function eg(e){var t=2050,n=null!==ty&&(2&ty.f)!=0?ty:null;return null===tx||null!==n&&(256&n.f)!=0?t|=256:tx.f|=1048576,{ctx:ei,deps:null,effects:null,equals:Q,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:null!=n?n:tx}}function em(e){let t=eg(e);return tw(t),t}function ev(e){let t=eg(e);return t.equals=ee,t}function ey(e){var t=e.effects;if(null!==t){e.effects=null;for(var n=0;n<t.length;n+=1)e7(t[n])}}let eb=[];function ex(e){var t,n=tx;if(tx=function(e){for(var t=e.parent;null!==t;){if((2&t.f)==0)return t;t=t.parent}return null}(e),N){let r=ew;ew=new Set;try{eb.includes(e)&&function(){if(N){let e=Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}throw Error("https://svelte.dev/e/derived_references_self")}(),eb.push(e),ey(e),t=tT(e)}finally{tx=n,ew=r,eb.pop()}}else try{ey(e),t=tT(e)}finally{tx=n}return t}function e_(e){var t=ex(e);if(e.equals(t)||(e.v=t,e.wv=++tS),!tg){var n=(t$||(256&e.f)!=0)&&null!==e.deps?4096:1024;tF(e,n)}}let ew=new Set,ek=new Map;function eM(e,t){return{f:0,v:e,reactions:null,equals:Q,rv:0,wv:0}}function ej(e,t){let n=eM(e,t);return tw(n),n}function eS(e,t=!1,n=!0){let r=eM(e);if(t||(r.equals=ee),et&&n&&null!==ei&&null!==ei.l){var o,i;(null!=(i=(o=ei.l).s)?i:o.s=[]).push(r)}return r}function eE(e,t){return e$(e,tB(()=>tI(e))),t}function e$(e,t,n=!1){null!==ty&&!tb&&eu()&&(18&ty.f)!=0&&!((null==t_?void 0:t_[1].includes(e))&&t_[0]===ty)&&function(){if(N){let e=Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}throw Error("https://svelte.dev/e/state_unsafe_mutation")}();let r=n?ed(t):t;return N&&er(r,e.label),eA(e,r)}function eA(e,t){if(!e.equals(t)){var n=e.v;if(tg?ek.set(e,t):ek.set(e,n),e.v=t,(2&e.f)!=0&&((2048&e.f)!=0&&ex(e),tF(e,(256&e.f)==0?1024:4096)),e.wv=++tS,function e(t,n){var r=t.reactions;if(null!==r)for(var o=eu(),i=r.length,a=0;a<i;a++){var l=r[a],s=l.f;if((2048&s)==0&&(o||l!==tx)){if(N&&(262144&s)!=0){ew.add(l);continue}tF(l,n),(1280&s)!=0&&((2&s)!=0?e(l,4096):tL(l))}}}(e,2048),eu()&&null!==tx&&(1024&tx.f)!=0&&(96&tx.f)==0&&(null===tj?tj=[e]:tj.push(e)),N&&ew.size>0){for(let e of Array.from(ew))(1024&e.f)!=0&&tF(e,4096),tA(e)&&tO(e);ew.clear()}}return t}var eT="font-weight: bold",ez="font-weight: normal";function eO(e){N?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,eT,ez):console.warn("https://svelte.dev/e/hydration_mismatch")}function eN(e){N?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,eT,ez):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}let eC=!1;function eL(t){if(null===t)throw eO(),A;return e=t}function eP(){return eL(eW(e))}function eD(t){if(eC){if(null!==eW(e))throw eO(),A;e=t}}function eR(){for(var t=0,n=e;;){if(8===n.nodeType){var r=n.data;if("]"===r){if(0===t)return n;t-=1}else("["===r||"[!"===r)&&(t+=1)}var o=eW(n);n.remove(),n=o}}function eI(e){if(!e||8!==e.nodeType)throw eO(),A;return e.data}function eB(){if(void 0===iL){iL=window,iP=document,iD=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;if(iR=R(t,"firstChild").get,iI=R(t,"nextSibling").get,W(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),W(n)&&(n.__t=void 0),N){e.__svelte_meta=null;let t=Array.prototype,n=Array.__svelte_cleanup;n&&n();let{indexOf:r,lastIndexOf:o,includes:i}=t;t.indexOf=function(e,t){let n=r.call(this,e,t);if(-1===n){for(let n=null!=t?t:0;n<this.length;n+=1)if(eh(this[n])===e){eN("array.indexOf(...)");break}}return n},t.lastIndexOf=function(e,t){let n=o.call(this,e,null!=t?t:this.length-1);if(-1===n){for(let n=0;n<=(null!=t?t:this.length-1);n+=1)if(eh(this[n])===e){eN("array.lastIndexOf(...)");break}}return n},t.includes=function(e,t){let n=i.call(this,e,t);if(!n){for(let t=0;t<this.length;t+=1)if(eh(this[t])===e){eN("array.includes(...)");break}}return n},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=o,t.includes=i}}}}function eF(e=""){return document.createTextNode(e)}function eq(e){return iR.call(e)}function eW(e){return iI.call(e)}function eH(t,n){if(!eC)return eq(t);var r=eq(e);if(null===r)r=e.appendChild(eF());else if(n&&3!==r.nodeType){var o=eF();return null==r||r.before(o),eL(o),o}return eL(r),r}function eU(t,n){if(!eC){var r=eq(t);return r instanceof Comment&&""===r.data?eW(r):r}if(n&&(null==e?void 0:e.nodeType)!==3){var o=eF();return null==e||e.before(o),eL(o),o}return e}function eY(t,n=1,r=!1){let o=eC?e:t;for(;n--;)i=o,o=eW(o);if(!eC)return o;var i,a=null==o?void 0:o.nodeType;if(r&&3!==a){var l=eF();return null===o?null==i||i.after(l):o.before(l),eL(l),l}return eL(o),o}function eG(e){e.textContent=""}function eX(e){null===tx&&null===ty&&function(e){if(N){let t=Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}throw Error("https://svelte.dev/e/effect_orphan")}(e),null!==ty&&(256&ty.f)!=0&&null===tx&&function(){if(N){let e=Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}throw Error("https://svelte.dev/e/effect_in_unowned_derived")}(),tg&&function(e){if(N){let t=Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}throw Error("https://svelte.dev/e/effect_in_teardown")}(e)}function eV(e,t,n,r=!0){var o=tx;if(N)for(;null!==o&&(262144&o.f)!=0;)o=o.parent;var i={ctx:ei,deps:null,nodes_start:null,nodes_end:null,f:2048|e,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(N&&(i.component_function=ea),n)try{tO(i),i.f|=32768}catch(e){throw e7(i),e}else null!==t&&tL(i);if(!(n&&null===i.deps&&null===i.first&&null===i.nodes_start&&null===i.teardown&&(1048704&i.f)==0)&&r&&(null!==o&&(null===(l=(a=o).last)?a.last=a.first=i:(l.next=i,i.prev=l,a.last=i)),null!==ty&&(2&ty.f)!=0)){var a,l,s,u=ty;(null!=(s=u.effects)?s:u.effects=[]).push(i)}return i}function eZ(e){let t=eV(8,null,!1);return tF(t,1024),t.teardown=e,t}function eK(e){eX("$effect");var t=null!==tx&&(32&tx.f)!=0&&null!==ei&&!ei.m;if(N&&D(e,"name",{value:"$effect"}),!t)return eJ(e);var n,r=ei;(null!=(n=r.e)?n:r.e=[]).push({fn:e,effect:tx,reaction:ty})}function eJ(e){return eV(4,e,!1)}function eQ(e,t){var n=ei,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=e1(()=>{e(),r.ran||(r.ran=!0,e$(n.l.r2,!0),tB(t))})}function e0(){var e=ei;e1(()=>{if(tI(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(1024&n.f)!=0&&tF(n,4096),tA(n)&&tO(n),t.ran=!1}e.l.r2.v=!1}})}function e1(e){return eV(8,e,!0)}function e2(e,t=[],n=eg){if(N)return e1(()=>{var r=()=>e(...o.map(tI));D(tx.fn,"name",{value:"{expression}"}),D(r,"name",{value:"{expression}"});let o=t.map(n);e5(r)});let r=t.map(n);return e5(()=>e(...r.map(tI)))}function e5(e,t=0){return eV(24|t,e,!0)}function e3(e,t=!0){return eV(40,e,!0,t)}function e4(e){var t,n=e.teardown;if(null!==n){let e=tg,r=ty;tg=!0,t=null,ty=null;try{n.call(null)}finally{tg=e,ty=r}}}function e8(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){var r=n.next;(64&n.f)!=0?n.parent=null:e7(n,t),n=r}}function e7(e,t=!0){var n=!1;(t||(524288&e.f)!=0)&&null!==e.nodes_start&&null!==e.nodes_end&&(e6(e.nodes_start,e.nodes_end),n=!0),e8(e,t&&!n),tz(e,0),tF(e,16384);var r=e.transitions;if(null!==r)for(let e of r)e.stop();e4(e);var o=e.parent;null!==o&&null!==o.first&&e9(e),N&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function e6(e,t){for(;null!==e;){var n=e===t?null:eW(e);e.remove(),e=n}}function e9(e){var t=e.parent,n=e.prev,r=e.next;null!==n&&(n.next=r),null!==r&&(r.prev=n),null!==t&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function te(e,t){var n=[];tn(e,n,!0),tt(n,()=>{e7(e),t&&t()})}function tt(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function tn(e,t,n){if((8192&e.f)==0){if(e.f^=8192,null!==e.transitions)for(let r of e.transitions)(r.is_global||n)&&t.push(r);for(var r=e.first;null!==r;){var o=r.next,i=(65536&r.f)!=0||(32&r.f)!=0;tn(r,t,!!i&&n),r=o}}}function tr(e,t){if((8192&e.f)!=0){e.f^=8192;for(var n=e.first;null!==n;){var r=n.next,o=(65536&n.f)!=0||(32&n.f)!=0;tr(n,!!o&&t),n=r}if(null!==e.transitions)for(let n of e.transitions)(n.is_global||t)&&n.in()}}let to=[],ti=[];function ta(){var e=to;to=[],G(e)}function tl(e){0===to.length&&queueMicrotask(ta),to.push(e)}function ts(e,t){for(;null!==t;){if((128&t.f)!=0)try{t.fn(e);return}catch(e){}t=t.parent}throw e}let tu=new WeakSet;function tc(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function td(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){tc(i,r,o,a,l,"next",e)}function l(e){tc(i,r,o,a,l,"throw",e)}a(void 0)})}}let tf=!1,tp=null,th=!1,tg=!1,tm=[],tv=[],ty=null,tb=!1,tx=null,t_=null;function tw(e){null!==ty&&2097152&ty.f&&(null===t_?t_=[ty,[e]]:t_[1].push(e))}let tk=null,tM=0,tj=null,tS=1,tE=0,t$=!1;function tA(e){var t=e.f;if((2048&t)!=0)return!0;if((4096&t)!=0){var n=e.deps,r=(256&t)!=0;if(null!==n){var o=(512&t)!=0,i=r&&null!==tx&&!t$,a=n.length;if(o||i){var l,s,u,c,d,f=e.parent;for(l=0;l<a;l++)s=n[l],!o&&(null==s||null==(u=s.reactions)?void 0:u.includes(e))||(null!=(d=(c=s).reactions)?d:c.reactions=[]).push(e);o&&(e.f^=512),i&&null!==f&&(256&f.f)==0&&(e.f^=256)}for(l=0;l<a;l++)if(tA(s=n[l])&&e_(s),s.wv>e.wv)return!0}r&&(null===tx||t$)||tF(e,1024)}return!1}function tT(e){var t=tk,n=tM,r=tj,o=ty,i=t$,a=t_,l=ei,s=tb,u=e.f;tk=null,tM=0,tj=null,t$=(256&u)!=0&&(tb||!th||null===ty),ty=(96&u)==0?e:null,t_=null,ei=e.ctx,tb=!1,tE++,e.f|=2097152;try{var c,d,f,p=(0,e.fn)(),h=e.deps;if(null!==tk){if(tz(e,tM),null!==h&&tM>0)for(c=0,h.length=tM+tk.length;c<tk.length;c++)h[tM+c]=tk[c];else e.deps=h=tk;if(!t$)for(c=tM;c<h.length;c++)(null!=(f=(d=h[c]).reactions)?f:d.reactions=[]).push(e)}else null!==h&&tM<h.length&&(tz(e,tM),h.length=tM);if(eu()&&null!==tj&&!tb&&null!==h&&(6146&e.f)==0)for(c=0;c<tj.length;c++)!function e(t,n,r=!0){var o=t.reactions;if(null!==o)for(var i=0;i<o.length;i++){var a=o[i];null!=t_&&t_[1].includes(t)&&t_[0]===ty||((2&a.f)!=0?e(a,n,!1):n===a&&(r?tF(a,2048):(1024&a.f)!=0&&tF(a,4096),tL(a)))}}(tj[c],e);return null!==o&&o!==e&&(tE++,null!==tj&&(null===r?r=tj:r.push(...tj))),p}catch(e){var g=tx;if(N&&e instanceof Error&&function(e,t){if(tu.has(e))return;tu.add(e);let n=R(e,"message");if(!n||n.configurable){for(var r,o,i=iD?"  ":"	",a=`
${i}in ${(null==(r=t.fn)?void 0:r.name)||"<unknown>"}`,l=t.ctx;null!==l;)a+=`
${i}in ${null==(o=l.function)?void 0:o[z].split("/").pop()}`,l=l.p;D(e,"message",{value:e.message+`
${a}
`}),e.stack&&D(e,"stack",{value:e.stack.split("\n").filter(e=>!e.includes("svelte/src/internal")).join("\n")})}}(e,g),(32768&g.f)==0){if((128&g.f)==0)throw e;g.fn(e)}else ts(e,g)}finally{tk=t,tM=n,tj=r,ty=o,t$=i,t_=a,ei=l,tb=s,e.f^=2097152}}function tz(e,t){var n=e.deps;if(null!==n)for(var r=t;r<n.length;r++)!function(e,t){let n=t.reactions;if(null!==n){var r=L.call(n,e);if(-1!==r){var o=n.length-1;0===o?n=t.reactions=null:(n[r]=n[o],n.pop())}}null!==n||(2&t.f)==0||null!==tk&&tk.includes(t)||(tF(t,4096),(768&t.f)==0&&(t.f^=512),ey(t),tz(t,0))}(e,n[r])}function tO(e){var t=e.f;if((16384&t)==0){tF(e,1024);var n=tx,r=th;if(tx=e,th=!0,N){var o=ea;ea=e.component_function}try{if((16&t)!=0)for(var i=e.first;null!==i;){var a=i.next;(32&i.f)==0&&e7(i),i=a}else e8(e);e4(e);var l=tT(e);e.teardown="function"==typeof l?l:null,e.wv=tS,N&&tv.push(e)}finally{th=r,tx=n,N&&(ea=o)}}}function tN(){console.error("Last ten effects were: ",tv.slice(-10).map(e=>e.fn)),tv=[]}function tC(){var e=th;try{var t=0;for(th=!0;tm.length>0;){t++>1e3&&function(){try{if(N){let e=Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}throw Error("https://svelte.dev/e/effect_update_depth_exceeded")}catch(e){if(N&&D(e,"stack",{value:""}),null!==tp)if(N)try{ts(e,tp)}catch(e){throw tN(),e}else ts(e,tp);else throw N&&tN(),e}}();var n=tm,r=n.length;tm=[];for(var o=0;o<r;o++){var i=function(e){for(var t=[],n=e;null!==n;){var r=n.f,o=(96&r)!=0;if(!(o&&(1024&r)!=0)&&(8192&r)==0){(4&r)!=0?t.push(n):o?n.f^=1024:tA(n)&&tO(n);var i=n.first;if(null!==i){n=i;continue}}var a=n.parent;for(n=n.next;null===n&&null!==a;)n=a.next,a=a.parent}return t}(n[o]);!function(e){var t=e.length;if(0!==t)for(var n=0;n<t;n++){var r=e[n];(24576&r.f)==0&&tA(r)&&(tO(r),null===r.deps&&null===r.first&&null===r.nodes_start&&(null===r.teardown?e9(r):r.fn=null))}}(i)}ek.clear()}}finally{tf=!1,th=e,tp=null,N&&(tv=[])}}function tL(e){tf||(tf=!0,queueMicrotask(tC));for(var t=tp=e;null!==t.parent;){var n=(t=t.parent).f;if((96&n)!=0){if((1024&n)==0)return;t.f^=1024}}tm.push(t)}function tP(e){var t;for(e&&(tf=!0,tC(),tf=!0,t=e());;){if(!function(){var e;to.length>0&&ta(),ti.length>0&&(e=ti,ti=[],G(e))}(),0===tm.length)return tf=!1,tp=null,N&&(tv=[]),t;tf=!0,tC()}}function tD(){return tR.apply(this,arguments)}function tR(){return(tR=td(function*(){yield Promise.resolve(),tP()})).apply(this,arguments)}function tI(e){var t=(2&e.f)!=0;if(null===ty||tb){if(t&&null===e.deps&&null===e.effects){var n=e,r=n.parent;null!==r&&(256&r.f)==0&&(n.f^=256)}}else if(!(null==t_?void 0:t_[1].includes(e))||t_[0]!==ty){var o=ty.deps;e.rv<tE&&(e.rv=tE,null===tk&&null!==o&&o[tM]===e?tM++:null===tk?tk=[e]:t$&&tk.includes(e)||tk.push(e))}return t&&tA(n=e)&&e_(n),tg&&ek.has(e)?ek.get(e):e.v}function tB(e){var t=tb;try{return tb=!0,e()}finally{tb=t}}function tF(e,t){e.f=-7169&e.f|t}function tq(e){if(!("object"!=typeof e||!e||e instanceof EventTarget)){if(V in e)tW(e);else if(!Array.isArray(e))for(let t in e){let n=e[t];"object"==typeof n&&n&&V in n&&tW(n)}}}function tW(e,t=new Set){if("object"==typeof e&&null!==e&&!(e instanceof EventTarget)&&!t.has(e)){for(let n in t.add(e),e instanceof Date&&e.getTime(),e)try{tW(e[n],t)}catch(e){}let n=q(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){let t=I(n);for(let n in t){let r=t[n].get;if(r)try{r.call(e)}catch(e){}}}}}function tH(e){var t=ty,n=tx;ty=null,tx=null;try{return e()}finally{ty=t,tx=n}}let tU=new Set,tY=new Set;function tG(e,t,n,r,o){var i={capture:r,passive:o},a=function(e,t,n,r={}){function o(e){if(r.capture||tX.call(t,e),!e.cancelBubble)return tH(()=>null==n?void 0:n.call(this,e))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?tl(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&eZ(()=>{t.removeEventListener(e,a,i)})}function tX(e){var t=this.ownerDocument,n=e.type,r=(null==(d=e.composedPath)?void 0:d.call(e))||[],o=r[0]||e.target,i=0,a=e.__root;if(a){var l=r.indexOf(a);if(-1!==l&&(this===document||this===window)){e.__root=this;return}var s=r.indexOf(this);if(-1===s)return;l<=s&&(i=l)}if((o=r[i]||e.target)!==this){D(e,"currentTarget",{configurable:!0,get:()=>o||t});var u=ty,c=tx;ty=null,tx=null;try{for(var d,f,p=[];null!==o;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var g=o["__"+n];if(null!=g&&(!o.disabled||e.target===o))if(C(g)){var[m,...v]=g;m.apply(o,[e,...v])}else g.call(o,e)}catch(e){f?p.push(e):f=e}if(e.cancelBubble||h===this||null===h)break;o=h}if(f){for(let e of p)queueMicrotask(()=>{throw e});throw f}}finally{e.__root=this,delete e.currentTarget,ty=u,tx=c}}}function tV(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3c!----\x3e"),t.content}function tZ(e,t){var n=tx;null===n.nodes_start&&(n.nodes_start=e,n.nodes_end=t)}function tK(t,n){var r,o=(1&n)!=0,i=(2&n)!=0,a=!t.startsWith("<!>");return()=>{if(eC)return tZ(e,null),e;void 0===r&&(r=tV(a?t:"<!>"+t),o||(r=eq(r)));var n=i||iD?document.importNode(r,!0):r.cloneNode(!0);return o?tZ(eq(n),n.lastChild):tZ(n,n),n}}function tJ(t,n){return function(t,n,r="svg"){var o,i=!t.startsWith("<!>"),a=(1&n)!=0,l=`<${r}>${i?t:"<!>"+t}</${r}>`;return()=>{if(eC)return tZ(e,null),e;if(!o){var t=eq(tV(l));if(a)for(o=document.createDocumentFragment();eq(t);)o.appendChild(eq(t));else o=eq(t)}var n=o.cloneNode(!0);return a?tZ(eq(n),n.lastChild):tZ(n,n),n}}(t,n,"svg")}function tQ(){if(eC)return tZ(e,null),e;var t=document.createDocumentFragment(),n=document.createComment(""),r=eF();return t.append(n,r),tZ(n,r),t}function t0(t,n){if(eC){tx.nodes_end=e,eP();return}null!==t&&t.before(n)}let t1=/\r/g,t2=["touchstart","touchmove"];function t5(e){return(t5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t3(e,t,n){var r;return(r=function(e,t){if("object"!=t5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t5(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==t5(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t4(Object(n),!0).forEach(function(t){t3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t7(e,t){var n,r=null==t?"":"object"==typeof t?t+"":t;r!==(null!=(n=e.__t)?n:e.__t=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}let t6=new Map;function t9(t,{target:n,anchor:r,props:o={},events:i,context:a,intro:l=!0}){eB();var s=new Set,u=e=>{for(var t=0;t<e.length;t++){var r=e[t];if(!s.has(r)){s.add(r);var o=t2.includes(r);n.addEventListener(r,tX,{passive:o});var i=t6.get(r);void 0===i?(document.addEventListener(r,tX,{passive:o}),t6.set(r,1)):t6.set(r,i+1)}}};u(P(tU)),tY.add(u);var c=void 0,d=function(e){let t=eV(64,e,!0);return (e={})=>new Promise(n=>{e.outro?te(t,()=>{e7(t),n(void 0)}):(e7(t),n(void 0))})}(()=>{var l=null!=r?r:n.appendChild(eF());return e3(()=>{a&&(el({}),ei.c=a),i&&(o.$$events=i),eC&&tZ(l,null),c=t(l,o)||{},eC&&(tx.nodes_end=e),a&&es()}),()=>{for(var e of s){n.removeEventListener(e,tX);var t,o=t6.get(e);0==--o?(document.removeEventListener(e,tX),t6.delete(e)):t6.set(e,o)}tY.delete(u),l!==r&&(null==(t=l.parentNode)||t.removeChild(l))}});return ne.set(c,d),c}let ne=new WeakMap;function nt(e,t){let n=ne.get(e);return n?(ne.delete(e),n(t)):(N&&(N?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,eT,ez):console.warn("https://svelte.dev/e/lifecycle_double_unmount")),Promise.resolve())}if(N){function nn(e){if(!(e in globalThis)){let t;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(void 0!==t)return t;if(N){let t=Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}throw Error("https://svelte.dev/e/rune_outside_svelte")},set:e=>{t=e}})}}nn("$state"),nn("$effect"),nn("$derived"),nn("$inspect"),nn("$props"),nn("$bindable")}function nr(e){null===ei&&eo("onMount"),et&&null!==ei.l?ni(ei).m.push(e):eK(()=>{let t=tB(e);if("function"==typeof t)return t})}function no(e){null===ei&&eo("afterUpdate"),null===ei.l&&function(e){if(N){let t=Error(`lifecycle_legacy_only
\`${e}(...)\` cannot be used in runes mode
https://svelte.dev/e/lifecycle_legacy_only`);throw t.name="Svelte error",t}throw Error("https://svelte.dev/e/lifecycle_legacy_only")}("afterUpdate"),ni(ei).a.push(e)}function ni(e){var t,n=e.l;return null!=(t=n.u)?t:n.u={a:[],b:[],m:[]}}var na=new Map;function nl(t,n,[r,o]=[0,0]){eC&&0===r&&eP();var i=t,a=null,l=null,s=T,u=!1;let c=(e,t=!0)=>{u=!0,d(t,e)},d=(e,t)=>{if(s===(s=e))return;let n=!1;if(eC&&-1!==o){if(0===r){let e=eI(i);"["===e?o=0:"[!"===e?o=1/0:(o=parseInt(e.substring(1)))!=o&&(o=s?1/0:-1)}!!s==o>r&&(eL(i=eR()),eC=!1,n=!0,o=-1)}s?(a?tr(a,!0):t&&(a=e3(()=>t(i))),l&&te(l,()=>{l=null})):(l?tr(l,!0):t&&(l=e3(()=>t(i,[r+1,o]))),a&&te(a,()=>{a=null})),n&&(eC=!0)};e5(()=>{u=!1,n(c),u||d(null,null)},65536*(r>0)),eC&&(i=e)}let ns=null;function nu(e,t){return t}function nc(t,n,r,o,i,a=null){var l=t,s={flags:n,items:new Map,first:null};(4&n)!=0&&(l=eC?eL(eq(t)):t.appendChild(eF())),eC&&eP();var u=null,c=!1,d=ev(()=>{var e=r();return C(e)?e:null==e?[]:P(e)});e5(()=>{var t=tI(d),f=t.length;if(c&&0===f)return;c=0===f;let p=!1;if(eC&&"[!"===eI(l)!=(0===f)&&(eL(l=eR()),eC=!1,p=!0),eC){for(var h,g=null,m=0;m<f;m++){if(8===e.nodeType&&"]"===e.data){l=e,p=!0,eC=!1;break}var v=t[m],y=o(v,m);h=nd(e,s,g,null,v,y,m,i,n,r),s.items.set(y,h),g=h}f>0&&eL(eR())}eC||function(e,t,n,r,o,i,a){var l=(8&o)!=0,s=(3&o)!=0,u=e.length,c=t.items,d=t.first,f=null,p=[],h=[];if(l)for(M=0;M<u;M+=1)w=i(_=e[M],M),void 0!==(k=c.get(w))&&(null==(j=k.a)||j.measure(),(null!=(S=x)?S:x=new Set).add(k));for(M=0;M<u;M+=1){if(w=i(_=e[M],M),void 0===(k=c.get(w))){f=nd(d?d.e.nodes_start:n,t,f,null===f?t.first:f.next,_,w,M,r,o,a),c.set(w,f),p=[],h=[],d=f.next;continue}if(s&&(g=k,m=_,v=M,(1&(y=o))!=0&&eA(g.v,m),(2&y)!=0?eA(g.i,v):g.i=v),(8192&k.e.f)!=0&&(tr(k.e,!0),l&&(null==(E=k.a)||E.unfix(),(null!=($=x)?$:x=new Set).delete(k))),k!==d){if(void 0!==b&&b.has(k)){if(p.length<h.length){var g,m,v,y,b,x,_,w,k,M,j,S,E,$,A,T,z=h[0];f=z.prev;var O=p[0],N=p[p.length-1];for(T=0;T<p.length;T+=1)nf(p[T],z,n);for(T=0;T<h.length;T+=1)b.delete(h[T]);np(t,O.prev,N.next),np(t,f,O),np(t,N,z),d=z,f=N,M-=1,p=[],h=[]}else b.delete(k),nf(k,d,n),np(t,k.prev,k.next),np(t,k,null===f?t.first:f.next),np(t,f,k),f=k;continue}for(p=[],h=[];null!==d&&d.k!==w;)(8192&d.e.f)==0&&(null!=(A=b)?A:b=new Set).add(d),h.push(d),d=d.next;if(null===d)continue;k=d}p.push(k),f=k,d=k.next}if(null!==d||void 0!==b){for(var C=void 0===b?[]:P(b);null!==d;)(8192&d.e.f)==0&&C.push(d),d=d.next;var L=C.length;if(L>0){var D,R,I=(4&o)!=0&&0===u?n:null;if(l){for(M=0;M<L;M+=1)null==(D=C[M].a)||D.measure();for(M=0;M<L;M+=1)null==(R=C[M].a)||R.fix()}!function(e,t,n,r){for(var o=[],i=t.length,a=0;a<i;a++)tn(t[a].e,o,!0);var l=i>0&&0===o.length&&null!==n;if(l){var s=n.parentNode;eG(s),s.append(n),r.clear(),np(e,t[0].prev,t[i-1].next)}tt(o,()=>{for(var n=0;n<i;n++){var o=t[n];l||(r.delete(o.k),np(e,o.prev,o.next)),e7(o.e,!l)}})}(t,C,I,c)}}l&&tl(()=>{if(void 0!==x)for(k of x){var e;null==(e=k.a)||e.apply()}}),tx.first=t.first&&t.first.e,tx.last=f&&f.e}(t,s,l,i,n,o,r),null!==a&&(0===f?u?tr(u,!0):u=e3(()=>a(l)):null!==u&&te(u,()=>{u=null})),p&&(eC=!0),tI(d)}),eC&&(l=e)}function nd(e,t,n,r,o,i,a,l,s,u){var c=ns,d=(1&s)!=0,f=d?(16&s)==0?eS(o,!1,!1):eM(o):o,p=(2&s)==0?a:eM(a);N&&d&&(f.trace=()=>{var e="number"==typeof p?a:p.v;u()[e]});var h={i:p,v:f,k:i,a:null,e:null,prev:n,next:r};ns=h;try{return h.e=e3(()=>l(e,f,p,u),eC),h.e.prev=n&&n.e,h.e.next=r&&r.e,null===n?t.first=h:(n.next=h,n.e.next=h.e),null!==r&&(r.prev=h,r.e.prev=h.e),h}finally{ns=c}}function nf(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var a=eW(i);o.before(i),i=a}}function np(e,t,n){null===t?e.first=n:(t.next=n,t.e.next=n&&n.e),null!==n&&(n.prev=t,n.e.prev=t&&t.e)}function nh(t,n,r=!1,o=!1,i=!1){var a=t,l="";e2(()=>{var t,s=tx;if(l===(l=null!=(t=n())?t:"")){eC&&eP();return}if(null!==s.nodes_start&&(e6(s.nodes_start,s.nodes_end),s.nodes_start=s.nodes_end=null),""!==l){if(eC){for(var u=e.data,c=eP(),d=c;null!==c&&(8!==c.nodeType||""!==c.data);)d=c,c=eW(c);if(null===c)throw eO(),A;N&&!i&&function(e,t,n){var r,o,i;let a;if(!t||t===function(e){e=e.replace(t1,"");let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return(t>>>0).toString(36)}(String(null!=n?n:"")))return;let l=null==(r=e.__svelte_meta)?void 0:r.loc;l?a=`near ${l.file}:${l.line}:${l.column}`:(null==ea?void 0:ea[z])&&(a=`in ${ea[z]}`),i=null==(o=a)?void 0:o.replace(/\//g,"/â"),N?console.warn(`%c[svelte] hydration_html_changed
%c${i?`The value of an \`{@html ...}\` block ${i} changed between server and client renders. The client value will be ignored in favour of the server value`:"The value of an `{@html ...}` block changed between server and client renders. The client value will be ignored in favour of the server value"}
https://svelte.dev/e/hydration_html_changed`,eT,ez):console.warn("https://svelte.dev/e/hydration_html_changed")}(c.parentNode,u,l),tZ(e,d),a=eL(c);return}var f=l+"";r?f=`<svg>${f}</svg>`:o&&(f=`<math>${f}</math>`);var p=tV(f);if((r||o)&&(p=eq(p)),tZ(eq(p),p.lastChild),r||o)for(;eq(p);)a.before(eq(p));else a.before(p)}})}function ng(e,t,n,r,o){eC&&eP();var i,a=null==(i=t.$$slots)?void 0:i[n],l=!1;!0===a&&(a=t["default"===n?"children":n],l=!0),void 0===a?null!==o&&o(e):a(e,l?()=>r:r)}function nm(e,t){tl(()=>{var n,r,o,i=e.getRootNode(),a=i.host?i:null!=(o=i.head)?o:i.ownerDocument.head;if(!a.querySelector("#"+t.hash)){let e=document.createElement("style");e.id=t.hash,e.textContent=t.code,a.appendChild(e),N&&(n=t.hash,(r=na.get(n))||(r=new Set,na.set(n,r)),r.add(e))}})}function nv(e){return"object"==typeof e?function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}(e))&&(r&&(r+=" "),r+=t);return r}(e):null!=e?e:""}let ny=[..." 	\n\r\f\xa0\v\uFEFF"];function nb(e,t=!1){var n=t?" !important;":";",r="";for(var o in e){var i=e[o];null!=i&&""!==i&&(r+=" "+o+": "+i+n)}return r}function nx(e){return"-"!==e[0]||"-"!==e[1]?e.toLowerCase():e}function n_(e,t,n,r,o,i){var a=e.__className;if(eC||a!==n||void 0===a){var l=function(e,t,n){var r=null==e?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var i=o.length,a=0;(a=r.indexOf(o,a))>=0;){var l=a+i;(0===a||ny.includes(r[a-1]))&&(l===r.length||ny.includes(r[l]))?r=(0===a?"":r.substring(0,a))+r.substring(l+1):a=l}}return""===r?null:r}(n,r,i);eC&&l===e.getAttribute("class")||(null==l?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l)),e.__className=n}else if(i&&o!==i)for(var s in i){var u=!!i[s];(null==o||!!o[s]!==u)&&e.classList.toggle(s,u)}return i}function nw(e,t={},n,r){for(var o in n){var i=n[o];t[o]!==i&&(null==n[o]?e.style.removeProperty(o):e.style.setProperty(o,i,r))}}function nk(e,t,n,r){var o=e.__style;if(eC||o!==t){var i=function(e,t){if(t){var n,r,o="";if(Array.isArray(t)?(n=t[0],r=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,l=!1,s=[];n&&s.push(...Object.keys(n).map(nx)),r&&s.push(...Object.keys(r).map(nx));var u=0,c=-1;let t=e.length;for(var d=0;d<t;d++){var f=e[d];if(l?"/"===f&&"*"===e[d-1]&&(l=!1):i?i===f&&(i=!1):"/"===f&&"*"===e[d+1]?l=!0:'"'===f||"'"===f?i=f:"("===f?a++:")"===f&&a--,!l&&!1===i&&0===a){if(":"===f&&-1===c)c=d;else if(";"===f||d===t-1){if(-1!==c){var p=nx(e.substring(u,c).trim());s.includes(p)||(";"!==f&&d++,o+=" "+e.substring(u,d).trim()+";")}u=d+1,c=-1}}}}return n&&(o+=nb(n)),r&&(o+=nb(r,!0)),""===(o=o.trim())?null:o}return null==e?null:String(e)}(t,r);eC&&i===e.getAttribute("style")||(null==i?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else r&&(Array.isArray(r)?(nw(e,null==n?void 0:n[0],r[0]),nw(e,null==n?void 0:n[1],r[1],"important")):nw(e,n,r));return r}Symbol("class"),Symbol("style");let nM=Symbol("is custom element"),nj=Symbol("is html");function nS(e,t,n,r){var o,i,a=null!=(i=(o=e).__attributes)?i:o.__attributes={[nM]:o.nodeName.includes("-"),[nj]:"http://www.w3.org/1999/xhtml"===o.namespaceURI};if(eC&&(a[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)){r||function(e,t,n){var r,o,i,a,l,s,u;!(!N||"srcset"===t&&(a=e,l=n,s=nA(a.srcset),(u=nA(l)).length===s.length&&u.every(([e,t],n)=>t===s[n][1]&&(n$(s[n][0],e)||n$(e,s[n][0])))))&&(n$(null!=(r=e.getAttribute(t))?r:"",n)||(o=e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),i=String(n),N?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${t}\` attribute on \`${o}\` changed its value between server and client renders. The client value, \`${i}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,eT,ez):console.warn("https://svelte.dev/e/hydration_attribute_changed")))}(e,t,null!=n?n:"");return}a[t]!==(a[t]=n)&&("loading"===t&&(e[K]=n),null==n?e.removeAttribute(t):"string"!=typeof n&&(function(e){var t,n=nE.get(e.nodeName);if(n)return n;nE.set(e.nodeName,n=[]);for(var r=e,o=Element.prototype;o!==r;){for(var i in t=I(r))t[i].set&&n.push(i);r=q(r)}return n})(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var nE=new Map;function n$(e,t){return e===t||new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function nA(e){return e.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function nT(e,t,n){var r=R(e,t);r&&r.set&&(e[t]=n,eZ(()=>{e[t]=null}))}function nz(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function nO(e,t,n){nz(e,t),t.set(e,n)}function nN(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw TypeError("Private element is not present on this object")}function nC(e,t,n){return e.set(nN(e,t),n),n}function nL(e,t){return e.get(nN(e,t))}var nP=new WeakMap,nD=new WeakMap,nR=new WeakMap,nI=new WeakSet,nB=class{constructor(e){nz(this,nI),nI.add(this),nO(this,nP,new WeakMap),nO(this,nD,void 0),nO(this,nR,void 0),nC(nR,this,e)}observe(e,t){var n=nL(nP,this).get(e)||new Set;return n.add(t),nL(nP,this).set(e,n),nN(nI,this,nF).call(this).observe(e,nL(nR,this)),()=>{var n=nL(nP,this).get(e);n.delete(t),0===n.size&&(nL(nP,this).delete(e),nL(nD,this).unobserve(e))}}};function nF(){var e;return null!=(e=nL(nD,this))?e:nC(nD,this,new ResizeObserver(e=>{for(var t of e)for(var n of(nB.entries.set(t.target,t),nL(nP,this).get(t.target)||[]))n(t)}))}function nq(e,t){return e===t||(null==e?void 0:e[V])===t}function nW(e={},t,n,r){return eJ(()=>{var o,i;return e1(()=>{o=i,i=(null==r?void 0:r())||[],tB(()=>{e!==n(...i)&&(t(e,...i),o&&nq(n(...o),e)&&t(null,...o))})}),()=>{tl(()=>{i&&nq(n(...i),e)&&t(null,...i)})}}),e}function nH(e,t){!function(e,t,n,r=!0){for(var o of(r&&n(),t))e.addEventListener(o,n);eZ(()=>{for(var r of t)e.removeEventListener(r,n)})}(window,["resize"],()=>tH(()=>t(window[e])))}function nU(e){return function(...t){return t[0].stopPropagation(),null==e?void 0:e.apply(this,t)}}function nY(e=!1){var t;let n=ei,r=n.l.u;if(!r)return;let o=()=>tq(n.s);if(e){let e=0,t={},r=eg(()=>{let r=!1,o=n.s;for(let e in o)o[e]!==t[e]&&(t[e]=o[e],r=!0);return r&&e++,e});o=()=>tI(r)}r.b.length&&(t=()=>{nG(n,o),G(r.b)},eX("$effect.pre"),N&&D(t,"name",{value:"$effect.pre"}),e1(t)),eK(()=>{let e=tB(()=>r.m.map(Y));return()=>{for(let t of e)"function"==typeof t&&t()}}),r.a.length&&eK(()=>{nG(n,o),G(r.a)})}function nG(e,t){if(e.l.s)for(let t of e.l.s)tI(t);t()}function nX(e,t){var n,r=null==(n=e.$$events)?void 0:n[t.type];for(var o of C(r)?r.slice():null==r?[]:[r])o.call(this,t)}function nV(e,t,n){if(null==e)return t(void 0),n&&n(void 0),U;let r=tB(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}t3(nB,"entries",new WeakMap);let nZ=!1,nK=Symbol();function nJ(e,t,n){var r;let o=null!=(r=n[t])?r:n[t]={store:null,source:eS(void 0),unsubscribe:U};if(o.store!==e&&!(nK in n))if(o.unsubscribe(),o.store=null!=e?e:null,null==e)o.source.v=void 0,o.unsubscribe=U;else{var i=!0;o.unsubscribe=nV(e,e=>{i?o.source.v=e:e$(o.source,e)}),i=!1}if(e&&nK in n){let t;return nV(e,e=>t=e)(),t}return tI(o.source)}function nQ(e,t){return e.set(t),t}function n0(){let e={};return[e,function(){eZ(()=>{for(var t in e)e[t].unsubscribe();D(e,nK,{enumerable:!1,value:!0})})}]}let n1={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(H(r)&&(r=r()),"object"==typeof r&&null!==r&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let o=e.props[r];H(o)&&(o=o());let i=R(o,t);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(H(r)&&(r=r()),"object"==typeof r&&null!==r&&t in r){let e=R(r,t);return e&&!e.configurable&&(e.configurable=!0),e}}},has(e,t){if(t===V||t===Z)return!1;for(let n of e.props)if(H(n)&&(n=n()),null!=n&&t in n)return!0;return!1},ownKeys(e){let t=[];for(let n of e.props)if(H(n)&&(n=n()),n){for(let e in n)t.includes(e)||t.push(e);for(let e of Object.getOwnPropertySymbols(n))t.includes(e)||t.push(e)}return t}};function n2(e){var t,n;return null!=(t=null==(n=e.ctx)?void 0:n.d)&&t}function n5(e,t,n,r){var o,i,a,l,s=(1&n)!=0,u=!et||(2&n)!=0,c=(8&n)!=0,d=(16&n)!=0,f=!1;c?[a,f]=function(e){var t=nZ;try{return nZ=!1,[e(),nZ]}finally{nZ=t}}(()=>e[t]):a=e[t];var p=V in e||Z in e,h=c&&(null!=(o=null==(i=R(e,t))?void 0:i.set)?o:p&&t in e&&(n=>e[t]=n))||void 0,g=r,m=!0,v=!1,y=()=>(v=!0,m&&(m=!1,g=d?tB(r):r),g);if(void 0===a&&void 0!==r&&(h&&u&&function(e){if(N){let t=Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}throw Error("https://svelte.dev/e/props_invalid_value")}(t),a=y(),h&&h(a)),u)l=()=>{var n=e[t];return void 0===n?y():(m=!0,v=!1,n)};else{var b=(s?eg:ev)(()=>e[t]);b.f|=131072,l=()=>{var e=tI(b);return void 0!==e&&(g=void 0),void 0===e?g:e}}if((4&n)==0&&u)return l;if(h){var x=e.$$legacy;return function(e,t){return arguments.length>0?((!u||!t||x||f)&&h(t?l():e),e):l()}}var _=!1,w=!1,k=eS(a),M=eg(()=>{var e=l(),t=tI(k);return _?(_=!1,t):k.v=e});return c&&tI(M),s||(M.equals=ee),function(e,t){if(arguments.length>0){let n=t?tI(M):u&&c?ed(e):e;if(!M.equals(n)){if(_=!0,e$(k,n),v&&void 0!==g&&(g=n),n2(M))return e;tB(()=>tI(M))}return e}return n2(M)?M.v:tI(M)}}var n3=new WeakMap,n4=new WeakMap;"function"==typeof HTMLElement&&HTMLElement;var n8="http://www.w3.org/1999/xhtml",n7={svg:"http://www.w3.org/2000/svg",xhtml:n8,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n6(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),n7.hasOwnProperty(t)?{space:n7[t],local:e}:e}function n9(e){var t=n6(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===n8&&t.documentElement.namespaceURI===n8?t.createElement(e):t.createElementNS(n,e)}})(t)}function re(){}function rt(e){return null==e?re:function(){return this.querySelector(e)}}function rn(){return[]}function rr(e){return null==e?rn:function(){return this.querySelectorAll(e)}}function ro(e){return function(){return this.matches(e)}}function ri(e){return Array(e.length)}function ra(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function rl(e,t,n,r,o,i){for(var a,l=0,s=t.length,u=i.length;l<u;++l)(a=t[l])?(a.__data__=i[l],r[l]=a):n[l]=new ra(e,i[l]);for(;l<s;++l)(a=t[l])&&(o[l]=a)}function rs(e,t,n,r,o,i,a){var l,s,u,c={},d=t.length,f=i.length,p=Array(d);for(l=0;l<d;++l)(s=t[l])&&(p[l]=u="$"+a.call(s,s.__data__,l,t),u in c?o[l]=s:c[u]=s);for(l=0;l<f;++l)(s=c[u="$"+a.call(e,i[l],l,i)])?(r[l]=s,s.__data__=i[l],c[u]=null):n[l]=new ra(e,i[l]);for(l=0;l<d;++l)(s=t[l])&&c[p[l]]===s&&(o[l]=s)}function ru(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function rd(e,t){return e.style.getPropertyValue(t)||rc(e).getComputedStyle(e,null).getPropertyValue(t)}function rf(e){return e.trim().split(/^|\s+/)}function rp(e){return e.classList||new rh(e)}function rh(e){this._node=e,this._names=rf(e.getAttribute("class")||"")}function rg(e,t){for(var n=rp(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function rm(e,t){for(var n=rp(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function rv(){this.textContent=""}function ry(){this.innerHTML=""}function rb(){this.nextSibling&&this.parentNode.appendChild(this)}function rx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r_(){return null}function rw(){var e=this.parentNode;e&&e.removeChild(this)}function rk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}ra.prototype={constructor:ra,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},rh.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var rj={},rS=null;function rE(e,t,n){return e=r$(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function r$(e,t,n){return function(r){var o=rS;rS=r;try{e.call(this,this.__data__,t,n)}finally{rS=o}}}function rA(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function rT(e,t,n){var r=rj.hasOwnProperty(e.type)?rE:r$;return function(o,i,a){var l,s=this.__on,u=r(t,i,a);if(s){for(var c=0,d=s.length;c<d;++c)if((l=s[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=n),l.value=t;return}}this.addEventListener(e.type,u,n),l={type:e.type,name:e.name,value:t,listener:u,capture:n},s?s.push(l):this.__on=[l]}}function rz(e,t,n){var r=rc(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(rj={mouseenter:"mouseover",mouseleave:"mouseout"}));var rO=[null];function rN(e,t){this._groups=e,this._parents=t}function rC(){return new rN([[document.documentElement]],rO)}function rL(e){return"string"==typeof e?new rN([[document.querySelector(e)]],[document.documentElement]):new rN([[e]],rO)}function rP(){for(var e,t=rS;e=t.sourceEvent;)t=e;return t}function rD(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function rR(e){var t=rP();return t.changedTouches&&(t=t.changedTouches[0]),rD(e,t)}function rI(e,t,n){arguments.length<3&&(n=t,t=rP().changedTouches);for(var r,o=0,i=t?t.length:0;o<i;++o)if((r=t[o]).identifier===n)return rD(e,r);return null}function rB(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}rN.prototype=rC.prototype={constructor:rN,select:function(e){"function"!=typeof e&&(e=rt(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,l=t[o],s=l.length,u=r[o]=Array(s),c=0;c<s;++c)(i=l[c])&&(a=e.call(i,i.__data__,c,l))&&("__data__"in i&&(a.__data__=i.__data__),u[c]=a);return new rN(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=rr(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,l=t[i],s=l.length,u=0;u<s;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),o.push(a));return new rN(r,o)},filter:function(e){"function"!=typeof e&&(e=ro(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,s=r[o]=[],u=0;u<l;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&s.push(i);return new rN(r,this._parents)},data:function(e,t){if(!e)return p=Array(this.size()),u=-1,this.each(function(e){p[++u]=e}),p;var n=t?rs:rl,r=this._parents,o=this._groups;"function"!=typeof e&&(v=e,e=function(){return v});for(var i=o.length,a=Array(i),l=Array(i),s=Array(i),u=0;u<i;++u){var c=r[u],d=o[u],f=d.length,p=e.call(c,c&&c.__data__,u,r),h=p.length,g=l[u]=Array(h),m=a[u]=Array(h);n(c,d,g,m,s[u]=Array(f),p,t);for(var v,y,b,x=0,_=0;x<h;++x)if(y=g[x]){for(x>=_&&(_=x+1);!(b=m[_])&&++_<h;);y._next=b||null}}return(a=new rN(a,r))._enter=l,a._exit=s,a},enter:function(){return new rN(this._enter||this._groups.map(ri),this._parents)},exit:function(){return new rN(this._exit||this._groups.map(ri),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),l=0;l<i;++l)for(var s,u=t[l],c=n[l],d=u.length,f=a[l]=Array(d),p=0;p<d;++p)(s=u[p]||c[p])&&(f[p]=s);for(;l<r;++l)a[l]=t[l];return new rN(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ru);for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i){for(var a,l=n[i],s=l.length,u=o[i]=Array(s),c=0;c<s;++c)(a=l[c])&&(u[c]=a);u.sort(t)}return new rN(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,l=i.length;a<l;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=n6(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):rd(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=rf(e+"");if(arguments.length<2){for(var r=rp(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?rg:rm)(this,e)}}:t?function(e){return function(){rg(this,e)}}:function(e){return function(){rm(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?rv:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ry:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(rb)},lower:function(){return this.each(rx)},append:function(e){var t="function"==typeof e?e:n9(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:n9(e),r=null==t?r_:"function"==typeof t?t:rt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(rw)},clone:function(e){return this.select(e?rM:rk)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var l=this.node().__on;if(l){for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value}return}for(l=t?rT:rA,null==n&&(n=!1),r=0;r<a;++r)this.each(l(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return rz(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return rz(this,e,t)}})(e,t))}};var rF=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/ascending.js":()=>{}});function rq(e){var t;let n=e,r=e;function o(e,t,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){let i=n+o>>>1;0>r(e[i],t)?n=i+1:o=i}return n}return 1===e.length&&(n=(t,n)=>e(t)-n,t=e,r=(e,n)=>rB(t(e),n)),{left:o,center:function(e,t,r,i){null==r&&(r=0),null==i&&(i=e.length);let a=o(e,t,r,i-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,t,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){let i=n+o>>>1;r(e[i],t)>0?o=i:n=i+1}return n}}}var rW=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/bisector.js":()=>{rF()}});function rH(e){return null===e?NaN:+e}var rU=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/number.js":()=>{}}),rY=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/bisect.js":()=>{rF(),rW(),rU(),iF=(iB=rq(rB)).right,iB.left,rq(rH).center,iq=iF}}),rG=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/fsum.js":()=>{iW=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let t=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let o=t[r],i=e+o,a=Math.abs(e)<Math.abs(o)?e-(i-o):o-(i-e);a&&(t[n++]=a),e=i}return t[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,t=this._n,n,r,o,i=0;if(t>0){for(i=e[--t];t>0&&(i=(n=i)+(r=e[--t]),!(o=r-(i-n))););t>0&&(o<0&&e[t-1]<0||o>0&&e[t-1]>0)&&(n=i+(r=2*o),r==n-i&&(i=n))}return i}}}});function rX({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function rV(e){return null!==e&&"object"==typeof e?e.valueOf():e}var rZ=k({"../../node_modules/.pnpm/internmap@1.0.1/node_modules/internmap/src/index.js":()=>{iH=class extends Map{constructor(e,t=rV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,n]of e)this.set(t,n)}get(e){return super.get(rX(this,e))}has(e){return super.has(rX(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}(this,e))}}}});function rK(e,t,n){var r,o,i,a,l=-1;if(n*=1,(e*=1)==(t*=1)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=rJ(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,i=Array(o=r-n+1);++l<o;)i[l]=(n+l)*a}else{let n=Math.round(e*(a=-a)),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,i=Array(o=r-n+1);++l<o;)i[l]=(n+l)/a}return r&&i.reverse(),i}function rJ(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=iU?10:i>=iY?5:i>=iG?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=iU?10:i>=iY?5:i>=iG?2:1)}function rQ(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=iU?o*=10:i>=iY?o*=5:i>=iG&&(o*=2),t<e?-o:o}var r0=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/ticks.js":()=>{iU=Math.sqrt(50),iY=Math.sqrt(10),iG=Math.sqrt(2)}});function r1(e,t,n=rH){if(r=e.length){if((t*=1)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e);return a+(n(e[i+1],i+1,e)-a)*(o-i)}}var r2=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/quantile.js":()=>{rU()}});function r5(e){return Array.from(function*(e){for(let t of e)yield*t}(e))}var r3=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/merge.js":()=>{}});function r4(e,t,n){e*=1,t*=1,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=Array(o);++r<o;)i[r]=e+r*n;return i}var r8=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/range.js":()=>{}}),r7=k({"../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/index.js":()=>{rY(),rG(),r3(),r2(),r8(),r0(),rZ()}});function r6(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}r7();let r9=Symbol("implicit");function oe(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ot(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function on(){}var or="\\s*([+-]?\\d+)\\s*",oo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oa=RegExp("^#([0-9a-f]{3,8})$",""),ol=RegExp("^rgb\\("+[or,or,or]+"\\)$"),os=RegExp("^rgb\\("+[oi,oi,oi]+"\\)$"),ou=RegExp("^rgba\\("+[or,or,or,oo]+"\\)$"),oc=RegExp("^rgba\\("+[oi,oi,oi,oo]+"\\)$"),od=RegExp("^hsl\\("+[oo,oi,oi]+"\\)$"),of=RegExp("^hsla\\("+[oo,oi,oi,oo]+"\\)$"),op={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function oh(){return this.rgb().formatHex()}function og(){return this.rgb().formatRgb()}function om(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=oa.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ov(t):3===n?new o_(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?oy(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?oy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ol.exec(e))?new o_(t[1],t[2],t[3],1):(t=os.exec(e))?new o_(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ou.exec(e))?oy(t[1],t[2],t[3],t[4]):(t=oc.exec(e))?oy(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=od.exec(e))?oj(t[1],t[2]/100,t[3]/100,1):(t=of.exec(e))?oj(t[1],t[2]/100,t[3]/100,t[4]):op.hasOwnProperty(e)?ov(op[e]):"transparent"===e?new o_(NaN,NaN,NaN,0):null}function ov(e){return new o_(e>>16&255,e>>8&255,255&e,1)}function oy(e,t,n,r){return r<=0&&(e=t=n=NaN),new o_(e,t,n,r)}function ob(e){return(e instanceof on||(e=om(e)),e)?new o_((e=e.rgb()).r,e.g,e.b,e.opacity):new o_}function ox(e,t,n,r){return 1==arguments.length?ob(e):new o_(e,t,n,null==r?1:r)}function o_(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ow(){return"#"+oM(this.r)+oM(this.g)+oM(this.b)}function ok(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function oM(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function oj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new o$(e,t,n,r)}function oS(e){if(e instanceof o$)return new o$(e.h,e.s,e.l,e.opacity);if(e instanceof on||(e=om(e)),!e)return new o$;if(e instanceof o$)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=t===i?(n-r)/l+(n<r)*6:n===i?(r-t)/l+2:(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new o$(a,l,s,e.opacity)}function oE(e,t,n,r){return 1==arguments.length?oS(e):new o$(e,t,n,null==r?1:r)}function o$(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function oA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}oe(on,om,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:oh,formatHex:oh,formatHsl:function(){return oS(this).formatHsl()},formatRgb:og,toString:og}),oe(o_,ox,ot(on,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new o_(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new o_(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ow,formatHex:ow,formatRgb:ok,toString:ok})),oe(o$,oE,ot(on,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new o$(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new o$(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new o_(oA(e>=240?e-240:e+120,o,r),oA(e,o,r),oA(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var oT=Math.PI/180,oz=180/Math.PI,oO=4/29,oN=6/29,oC=6/29*3*(6/29),oL=6/29*(6/29)*(6/29);function oP(e){if(e instanceof oR)return new oR(e.l,e.a,e.b,e.opacity);if(e instanceof oW)return oH(e);e instanceof o_||(e=ob(e));var t,n,r=oq(e.r),o=oq(e.g),i=oq(e.b),a=oI((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?t=n=a:(t=oI((.4360747*r+.3850649*o+.1430804*i)/.96422),n=oI((.0139322*r+.0971045*o+.7141733*i)/.82521)),new oR(116*a-16,500*(t-a),200*(a-n),e.opacity)}function oD(e,t,n,r){return 1==arguments.length?oP(e):new oR(e,t,n,null==r?1:r)}function oR(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function oI(e){return e>oL?Math.pow(e,1/3):e/oC+oO}function oB(e){return e>oN?e*e*e:oC*(e-oO)}function oF(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function oq(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function oW(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function oH(e){if(isNaN(e.h))return new oR(e.l,0,0,e.opacity);var t=e.h*oT;return new oR(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function oU(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}oe(oR,oD,ot(on,{brighter:function(e){return new oR(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new oR(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=.96422*oB(t),new o_(oF(3.1338561*t-1.6168667*(e=+oB(e))-.4906146*(n=.82521*oB(n))),oF(-.9787684*t+1.9161415*e+.033454*n),oF(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),oe(oW,function(e,t,n,r){return 1==arguments.length?function(e){if(e instanceof oW)return new oW(e.h,e.c,e.l,e.opacity);if(e instanceof oR||(e=oP(e)),0===e.a&&0===e.b)return new oW(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*oz;return new oW(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new oW(e,t,n,null==r?1:r)},ot(on,{brighter:function(e){return new oW(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new oW(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return oH(this).rgb()}}));var oY=e=>()=>e;function oG(e,t){var n=t-e;return n?function(t){return e+t*n}:oY(isNaN(e)?t:e)}var oX=function e(t){var n,r=1==(n=+t)?oG:function(e,t){var r,o,i;return t-e?(r=e,o=t,r=Math.pow(r,i=n),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):oY(isNaN(e)?t:e)};function o(e,t){var n=r((e=ox(e)).r,(t=ox(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),a=oG(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function oV(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),l=Array(o);for(n=0;n<o;++n)r=ox(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}function oZ(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}oV(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return oU((n-r/t)*t,a,o,i,l)}}),oV(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return oU((n-r/t)*t,o,i,a,l)}});var oK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oJ=RegExp(oK.source,"g");function oQ(e,t){return e*=1,t*=1,function(n){return Math.round(e*(1-n)+t*n)}}function o0(e){return+e}r7();var o1=[0,1];function o2(e){return e}function o5(e,t){var n;return(t-=e*=1)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function o3(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=o5(o,r),i=n(a,i)):(r=o5(r,o),i=n(i,a)),function(e){return i(r(e))}}function o4(e,t,n){var r=Math.min(e.length,t.length)-1,o=Array(r),i=Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=o5(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=iq(e,t,1,r)-1;return i[n](o[n](t))}}function o8(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function o7(e){return(e=o8(Math.abs(e)))?e[1]:NaN}var o6=RegExp("^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$","i");function o9(e){var t;if(!(t=o6.exec(e)))throw Error("invalid format: "+e);return new ie({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ie(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function it(e,t){var n=o8(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+Array(o-r.length+2).join("0")}o9.prototype=ie.prototype,ie.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ir={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>it(100*e,t),r:it,s:function(e,t){var n=o8(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(iX=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+Array(1-i).join("0")+o8(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function io(e){return e}var ii=Array.prototype.map,ia=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function il(){var e,t=(function(){var e,t,n,r,o,i,a=o1,l=o1,s=function e(t,n){var r,o,i=typeof n;return null==n||"boolean"===i?oY(n):("number"===i?oZ:"string"===i?(o=om(n))?(n=o,oX):function(e,t){var n,r,o,i,a,l=oK.lastIndex=oJ.lastIndex=0,s=-1,u=[],c=[];for(e+="",t+="";(o=oK.exec(e))&&(i=oJ.exec(t));)(a=i.index)>l&&(a=t.slice(l,a),u[s]?u[s]+=a:u[++s]=a),(o=o[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:oZ(o,i)})),l=oJ.lastIndex;return l<t.length&&(a=t.slice(l),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})}:n instanceof om?oX:n instanceof Date?function(e,t){var n=new Date;return e*=1,t*=1,function(r){return n.setTime(e*(1-r)+t*r),n}}:!ArrayBuffer.isView(r=n)||r instanceof DataView?Array.isArray(n)?function(t,n){var r,o=n?n.length:0,i=t?Math.min(o,t.length):0,a=Array(i),l=Array(o);for(r=0;r<i;++r)a[r]=e(t[r],n[r]);for(;r<o;++r)l[r]=n[r];return function(e){for(r=0;r<i;++r)l[r]=a[r](e);return l}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var r,o={},i={};for(r in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)r in t?o[r]=e(t[r],n[r]):i[r]=n[r];return function(e){for(r in o)i[r]=o[r](e);return i}}:oZ:function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}})(t,n)},u=o2;function c(){var e,t,n,s=Math.min(a.length,l.length);return u!==o2&&(e=a[0],t=a[s-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=s>2?o4:o3,o=i=null,d}function d(t){return null==t||isNaN(t*=1)?n:(o||(o=r(a.map(e),l,s)))(e(u(t)))}return d.invert=function(n){return u(t((i||(i=r(l,a.map(e),oZ)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,o0),c()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),c()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),s=oQ,c()},d.clamp=function(e){return arguments.length?(u=!!e||o2,c()):u!==o2},d.interpolate=function(e){return arguments.length?(s=e,c()):s},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}})()(o2,o2);return t.copy=function(){return il().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())},r6.apply(t,arguments),e=t.domain,t.ticks=function(t){var n=e();return rK(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(e,t,n,r){var o,i,a,l=rQ(e,t,n);switch((r=o9(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o7(s)/3)))-o7(Math.abs(l))))||(r.precision=a),iK(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Math.max(0,o7(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(o=Math.abs(o=l)))-o7(o))+1)||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Math.max(0,-o7(Math.abs(l))))||(r.precision=a-("%"===r.type)*2)}return iZ(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,l=i.length-1,s=i[a],u=i[l],c=10;for(u<s&&(o=s,s=u,u=o,o=a,a=l,l=o);c-- >0;){if((o=rJ(s,u,n))===r)return i[a]=s,i[l]=u,e(i);if(o>0)s=Math.floor(s/o)*o,u=Math.ceil(u/o)*o;else if(o<0)s=Math.ceil(s*o)/o,u=Math.floor(u*o)/o;else break;r=o}return t},t}iZ=(iV=function(e){var t,n,r,o=void 0===e.grouping||void 0===e.thousands?io:(t=ii.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,l=t[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(e.substring(o-=l,o+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?io:(r=ii.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return r[+e]})}),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"â":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=o9(e)).fill,n=e.align,r=e.sign,f=e.symbol,p=e.zero,h=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):ir[y]||(void 0===m&&(m=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?a:/[%p]/.test(y)?u:"",_=ir[y],w=/[defgprs%]/.test(y);function k(e){var i,a,u,f=b,k=x;if("c"===y)k=_(e)+k,e="";else{var M=(e*=1)<0||1/e<0;if(e=isNaN(e)?d:_(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==r&&(M=!1),f=(M?"("===r?r:c:"-"===r||"("===r?"":r)+f,k=("s"===y?ia[8+iX/3]:"")+k+(M&&"("===r?")":""),w){for(i=-1,a=e.length;++i<a;)if(48>(u=e.charCodeAt(i))||u>57){k=(46===u?l+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}}g&&!p&&(e=o(e,1/0));var j=f.length+e.length+k.length,S=j<h?Array(h-j+1).join(t):"";switch(g&&p&&(e=o(S+e,S.length?h-k.length:1/0),S=""),n){case"<":e=f+e+k+S;break;case"=":e=f+S+e+k;break;case"^":e=S.slice(0,j=S.length>>1)+f+e+k+S.slice(j);break;default:e=S+f+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=o9(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(o7(t)/3))),o=Math.pow(10,-r),i=ia[8+r/3];return function(e){return n(o*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,iK=iV.formatPrefix,r7(),r7();var is={value:function(){}};function iu(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new ic(r)}function ic(e){this._=e}function id(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=is,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function ip(){rS.preventDefault(),rS.stopImmediatePropagation()}function ih(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function ig(e){return function(){return e}}function im(e,t){var n=t-e;return n?function(t){return e+t*n}:ig(isNaN(e)?t:e)}ic.prototype=iu.prototype={constructor:ic,on:function(e,t){var n,r=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((n=(e=o[i]).type)&&(n=function(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=id(r[n],e.name,t);else if(null==t)for(n in r)r[n]=id(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ic(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var iv=function e(t){var n,r=1==(n=+t)?im:function(e,t){var r,o,i;return t-e?(r=e,o=t,r=Math.pow(r,i=n),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):ig(isNaN(e)?t:e)};function o(e,t){var n=r((e=ox(e)).r,(t=ox(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),a=im(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function iy(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),l=Array(o);for(n=0;n<o;++n)r=ox(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}function ib(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}iy(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return ih((n-r/t)*t,a,o,i,l)}}),iy(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return ih((n-r/t)*t,o,i,a,l)}});var ix=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i_=RegExp(ix.source,"g");function iw(e,t){var n,r,o,i,a,l=ix.lastIndex=i_.lastIndex=0,s=-1,u=[],c=[];for(e+="",t+="";(o=ix.exec(e))&&(i=i_.exec(t));)(a=i.index)>l&&(a=t.slice(l,a),u[s]?u[s]+=a:u[++s]=a),(o=o[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:ib(o,i)})),l=i_.lastIndex;return l<t.length&&(a=t.slice(l),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})}function ik(e,t){return e*=1,t*=1,function(n){return Math.round(e*(1-n)+t*n)}}var iM=180/Math.PI,ij={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iS(e,t,n,r,o,i){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*iM,skewX:Math.atan(s)*iM,scaleX:a,scaleY:l}}function iE(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var l,s,u,c,d=[],f=[];return i=e(i),a=e(a),!function(e,r,o,i,a,l){if(e!==o||r!==i){var s=a.push("translate(",null,t,null,n);l.push({i:s-4,x:ib(e,o)},{i:s-2,x:ib(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,d,f),l=i.rotate,s=a.rotate,l!==s?(l-s>180?s+=360:s-l>180&&(l+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ib(l,s)})):s&&d.push(o(d)+"rotate("+s+r),u=i.skewX,c=a.skewX,u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ib(u,c)}):c&&d.push(o(d)+"skewX("+c+r),!function(e,t,n,r,i,a){if(e!==n||t!==r){var l=i.push(o(i)+"scale(",null,",",null,")");a.push({i:l-4,x:ib(e,n)},{i:l-2,x:ib(t,r)})}else(1!==n||1!==r)&&i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,d,f),i=a=null,function(e){for(var t,n=-1,r=f.length;++n<r;)d[(t=f[n]).i]=t.x(e);return d.join("")}}}var i$=iE(function(e){return"none"===e?ij:(iJ||(iJ=document.createElement("DIV"),iQ=document.documentElement,i0=document.defaultView),iJ.style.transform=e,e=i0.getComputedStyle(iQ.appendChild(iJ),null).getPropertyValue("transform"),iQ.removeChild(iJ),iS(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),iA=iE(function(e){return null==e?ij:(i1||(i1=document.createElementNS("http://www.w3.org/2000/svg","g")),i1.setAttribute("transform",e),e=i1.transform.baseVal.consolidate())?iS((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ij},", ",")",")"),iT=Math.SQRT2;function iz(e){return((e=Math.exp(e))+1/e)/2}function iO(e,t){var n,r,o=e[0],i=e[1],a=e[2],l=t[0],s=t[1],u=t[2],c=l-o,d=s-i,f=c*c+d*d;if(f<1e-12)r=Math.log(u/a)/iT,n=function(e){return[o+e*c,i+e*d,a*Math.exp(iT*e*r)]};else{var p=Math.sqrt(f),h=(u*u-a*a+4*f)/(2*a*2*p),g=(u*u-a*a-4*f)/(2*u*2*p),m=Math.log(Math.sqrt(h*h+1)-h);r=(Math.log(Math.sqrt(g*g+1)-g)-m)/iT,n=function(e){var t,n,l=e*r,s=iz(m),u=a/(2*p)*(s*(((t=Math.exp(2*(t=iT*l+m)))-1)/(t+1))-((n=Math.exp(n=m))-1/n)/2);return[o+u*c,i+u*d,a*s/iz(iT*l+m)]}}return n.duration=1e3*r,n}function iN(e,t){var n=im((e=oD(e)).l,(t=oD(t)).l),r=im(e.a,t.a),o=im(e.b,t.b),i=im(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=o(t),e.opacity=i(t),e+""}}var iC,iL,iP,iD,iR,iI,iB,iF,iq,iW,iH,iU,iY,iG,iX,iV,iZ,iK,iJ,iQ,i0,i1,i2,i5,i3=0,i4=0,i8=0,i7=0,i6=0,i9=0,ae="object"==typeof performance&&performance.now?performance:Date,at="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function an(){return i6||(at(ar),i6=ae.now()+i9)}function ar(){i6=0}function ao(){this._call=this._time=this._next=null}function ai(e,t,n){var r=new ao;return r.restart(e,t,n),r}function aa(){i6=(i7=ae.now())+i9,i3=i4=0;try{an(),++i3;for(var e,t=i2;t;)(e=i6-t._time)>=0&&t._call.call(null,e),t=t._next;--i3}finally{i3=0,function(){for(var e,t,n=i2,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:i2=t);i5=e,as(r)}(),i6=0}}function al(){var e=ae.now(),t=e-i7;t>1e3&&(i9-=t,i7=e)}function as(e){!i3&&(i4&&(i4=clearTimeout(i4)),e-i6>24?(e<1/0&&(i4=setTimeout(aa,e-ae.now()-i9)),i8&&(i8=clearInterval(i8))):(i8||(i7=ae.now(),i8=setInterval(al,1e3)),i3=1,at(aa)))}function au(e,t,n){var r=new ao;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r}ao.prototype=ai.prototype={constructor:ao,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?an():+n)+(null==t?0:+t),this._next||i5===this||(i5?i5._next=this:i2=this,i5=this),this._call=e,this._time=n,as()},stop:function(){this._call&&(this._call=null,this._time=1/0,as())}};var ac=iu("start","end","cancel","interrupt"),ad=[];function af(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(s){var u,c,d,f;if(1!==n.state)return l();for(u in o)if((f=o[u]).name===n.name){if(3===f.state)return au(i);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[u])}if(au(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(s))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(d=n.tween.length),c=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=ai(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:o,on:ac,tween:ad,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function ap(e,t){var n=ag(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function ah(e,t){var n=ag(e,t);if(n.state>3)throw Error("too late; already running");return n}function ag(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function am(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i){if((n=i[o]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]}a&&delete e.__transition}}function av(e,t,n){var r=e._id;return e.each(function(){var e=ah(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return ag(e,r).value[t]}}function ay(e,t){var n;return("number"==typeof t?ib:t instanceof om?iv:(n=om(t))?(t=n,iv):iw)(e,t)}var ab=rC.prototype.constructor;function ax(e){return function(){this.style.removeProperty(e)}}var a_=0;function aw(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ak(e){return rC().transition(e)}var aM=rC.prototype;aw.prototype=ak.prototype={constructor:aw,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=rt(e));for(var r=this._groups,o=r.length,i=Array(o),a=0;a<o;++a)for(var l,s,u=r[a],c=u.length,d=i[a]=Array(c),f=0;f<c;++f)(l=u[f])&&(s=e.call(l,l.__data__,f,u))&&("__data__"in l&&(s.__data__=l.__data__),d[f]=s,af(d[f],t,n,f,d,ag(l,n)));return new aw(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=rr(e));for(var r=this._groups,o=r.length,i=[],a=[],l=0;l<o;++l)for(var s,u=r[l],c=u.length,d=0;d<c;++d)if(s=u[d]){for(var f,p=e.call(s,s.__data__,d,u),h=ag(s,n),g=0,m=p.length;g<m;++g)(f=p[g])&&af(f,t,n,g,p,h);i.push(p),a.push(s)}return new aw(i,a,t,n)},filter:function(e){"function"!=typeof e&&(e=ro(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,s=r[o]=[],u=0;u<l;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&s.push(i);return new aw(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),l=0;l<i;++l)for(var s,u=t[l],c=n[l],d=u.length,f=a[l]=Array(d),p=0;p<d;++p)(s=u[p]||c[p])&&(f[p]=s);for(;l<r;++l)a[l]=t[l];return new aw(a,this._parents,this._name,this._id)},selection:function(){return new ab(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++a_,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],s=l.length,u=0;u<s;++u)if(a=l[u]){var c=ag(a,t);af(a,e,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new aw(r,this._parents,e,n)},call:aM.call,nodes:aM.nodes,node:aM.node,size:aM.size,empty:aM.empty,each:aM.each,on:function(e,t){var n,r,o,i,a,l,s=this._id;return arguments.length<2?ag(this.node(),s).on.on(e):this.each((n=s,r=e,o=t,l=(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?ap:ah,function(){var e=l(this,n),t=e.on;t!==i&&(a=(i=t).copy()).on(r,o),e.on=a}))},attr:function(e,t){var n=n6(e),r="transform"===n?iA:ay;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}:function(e,t,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttribute(e):(a=this.getAttribute(e))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}})(n,r,av(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}:function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=n6(e);return this.tween(n,(r.local?function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttributeNS(e.space,e.local,o.call(this,t))}),n}return o._value=t,o}:function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttribute(e,o.call(this,t))}),n}return o._value=t,o})(r,t))},style:function(e,t,n){var r,o,i,a,l,s,u,c,d,f,p,h,g,m,v,y,b,x,_,w,k,M="transform"==(e+="")?i$:ay;return null==t?this.styleTween(e,(r=e,function(){var e=rd(this,r),t=(this.style.removeProperty(r),rd(this,r));return e===t?null:e===o&&t===i?a:a=M(o=e,i=t)})).on("end.style."+e,ax(e)):"function"==typeof t?this.styleTween(e,(l=e,s=av(this,"style."+e,t),function(){var e=rd(this,l),t=s(this),n=t+"";return null==t&&(this.style.removeProperty(l),n=t=rd(this,l)),e===n?null:e===u&&n===c?d:(c=n,d=M(u=e,t))})).each((f=this._id,b="end."+(y="style."+(p=e)),function(){var e=ah(this,f),t=e.on,n=null==e.value[y]?v||(v=ax(p)):void 0;(t!==h||m!==n)&&(g=(h=t).copy()).on(b,m=n),e.on=g})):this.styleTween(e,(x=e,k=t+"",function(){var e=rd(this,x);return e===k?null:e===_?w:w=M(_=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t){this.style.setProperty(e,i.call(this,t),n)}),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=av(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=ag(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=ah(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw Error();return function(){var i=ah(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var l={name:t,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===t){o[s]=l;break}s===u&&o.push(l)}i.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){ap(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){ap(this,e).delay=t}})(t,e)):ag(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){ah(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){ah(this,e).duration=t}})(t,e)):ag(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){ah(this,e).ease=t}}(t,e)):ag(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var l={value:a},s={value:function(){0==--o&&i()}};n.each(function(){var n=ah(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t})})}};var aj={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function aS(e){return function(){return e}}function aE(e,t,n){this.target=e,this.type=t,this.transform=n}function a$(e,t,n){this.k=e,this.x=t,this.y=n}rC.prototype.interrupt=function(e){return this.each(function(){am(this,e)})},rC.prototype.transition=function(e){e instanceof aw?(o=e._id,e=e._name):(o=++a_,(i=aj).time=an(),e=null==e?null:e+"");for(var t=this._groups,n=t.length,r=0;r<n;++r)for(var o,i,a,l=t[r],s=l.length,u=0;u<s;++u)(a=l[u])&&af(a,e,o,u,l,i||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return aj.time=an(),aj;return n}(a,o));return new aw(t,this._parents,e,o)},a$.prototype={constructor:a$,scale:function(e){return 1===e?this:new a$(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new a$(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var aA=new a$(1,0,0);function aT(e){for(;!e.__zoom;)if(!(e=e.parentNode))return aA;return e.__zoom}function az(){rS.stopImmediatePropagation()}function aO(){rS.preventDefault(),rS.stopImmediatePropagation()}function aN(){return!rS.ctrlKey&&!rS.button}function aC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function aL(){return this.__zoom||aA}function aP(){return-rS.deltaY*(1===rS.deltaMode?.05:rS.deltaMode?1:.002)}function aD(){return navigator.maxTouchPoints||"ontouchstart"in this}function aR(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function aI(){}function aB(e,t){var n=new aI;if(e instanceof aI)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(null==t)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t(r=e[o],o,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function aF(){}aT.prototype=a$.prototype,aI.prototype=aB.prototype={constructor:aI,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var aq=aB.prototype;function aW(e){var t=[];for(var n in e)t.push(e[n]);return t}function aH(){for(var e=arguments,t=0,n=e.length;t<n;)("string"==typeof e[t]||"number"==typeof e[t])&&(e[t]=function(e){return function(t){return t[e]}}(e[t])),t++;return function(t){for(var n=0,r=e.length;n++<r;)t=e[n-1].call(this,t);return t}}aF.prototype=(function(e,t){var n=new aF;if(e instanceof aF)e.each(function(e){n.add(e)});else if(e){var r=-1,o=e.length;if(null==t)for(;++r<o;)n.add(e[r]);else for(;++r<o;)n.add(t(e[r],r,e))}return n}).prototype={constructor:aF,has:aq.has,add:function(e){return this["$"+(e+="")]=e,this},remove:aq.remove,clear:aq.clear,values:aq.keys,size:aq.size,empty:aq.empty,each:aq.each},aH.not=function(e){return!e},aH.run=function(e){return e()},aH.objToFn=function(e,t){return 1==arguments.length&&(t=void 0),function(n){return void 0!==e[n]?e[n]:t}};let aU=RegExp("^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$","");function aY(e,t){if("object"!=typeof e)return 1==arguments.length?this.attr(e):this.attr(e,t);for(var n in e)this.attr(aU.test(n)?n:n.replace(RegExp("([a-z\\d])([A-Z])","g"),"$1-$2").toLowerCase(),e[n]);return this}function aG(e){if("string"==typeof e){var t,n={},r=e.split(RegExp("([\\.#])","g"));for(e=r.shift();t=r.shift();)"."==t?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==t&&(n.id=r.shift());return{tag:e,attr:n}}return e}function aX(e){var t,n="function"==typeof e?e:n9((t=aG(e)).tag),r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(t)for(var o in t.attr)r.attr(o,t.attr[o]);return r}function aV(e,t){var n=this.node();return n?n.getBBox?this.attr("transform",function(n,r){var o="function"==typeof e?e.call(this,n,r):e;return 0===t?o=[o,0]:1===t&&(o=[0,o]),"translate("+o[0]+","+o[1]+")"}):this.style("transform",function(n,r){var o="function"==typeof e?e.call(this,n,r):e;return 0===t?o=[o,0]:1===t&&(o=[0,o]),"translate("+o[0]+"px,"+o[1]+"px)"}):this}function aZ(e,t){return this.selectAll("tspan").data(function(t,n){return("function"==typeof e?e.call(this,t,n):e).map(function(e){return{line:e,parent:t}})}).enter().append("tspan").text(function(e){return e.line}).attr("x",0).attr("dy",function(e,n){return n?("function"==typeof t?t.call(this,e.parent,e.line,n):t)||15:0})}function aK(e){return e>1?0:e<-1?fl:Math.acos(e)}function aJ(e){return e>1?fs:e<-1?-fs:Math.asin(e)}var aQ=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/math.js":()=>{fi=1e-6,fa=1e-12,fs=(fl=Math.PI)/2,fu=fl/4,fc=2*fl,fd=180/fl,ff=fl/180,fp=Math.abs,fh=Math.atan,fg=Math.atan2,fm=Math.cos,fv=Math.ceil,fy=Math.exp,fb=Math.hypot,fx=Math.log,f_=Math.pow,fw=Math.sin,fk=Math.sign||function(e){return e>0?1:e<0?-1:0},fM=Math.sqrt,fj=Math.tan}});function a0(){}var a1=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/noop.js":()=>{}});function a2(e,t){e&&fE.hasOwnProperty(e.type)&&fE[e.type](e,t)}function a5(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function a3(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)a5(e[n],t,1);t.polygonEnd()}function a4(e,t){e&&fS.hasOwnProperty(e.type)?fS[e.type](e,t):a2(e,t)}var a8=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/stream.js":()=>{fS={Feature:function(e,t){a2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)a2(n[r].geometry,t)}},fE={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){a5(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)a5(n[r],t,0)},Polygon:function(e,t){a3(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)a3(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)a2(n[r],t)}}}});function a7(){fL.point=a9}function a6(){le(fT,fz)}function a9(e,t){fL.point=le,fT=e,fz=t,e*=ff,t*=ff,fO=e,fN=fm(t=t/2+fu),fC=fw(t)}function le(e,t){e*=ff,t*=ff;var n=e-fO,r=n>=0?1:-1,o=r*n,i=fm(t=t/2+fu),a=fw(t),l=fC*a,s=fN*i+l*fm(o),u=l*r*fw(o);f$.add(fg(u,s)),fO=e,fN=i,fC=a}function lt(e){return fA=new iW,a4(e,fL),2*fA}var ln=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/area.js":()=>{r7(),aQ(),a1(),a8(),f$=new iW,fA=new iW,fL={point:a0,lineStart:a0,lineEnd:a0,polygonStart:function(){f$=new iW,fL.lineStart=a7,fL.lineEnd=a6},polygonEnd:function(){var e=+f$;fA.add(e<0?fc+e:e),this.lineStart=this.lineEnd=this.point=a0},sphere:function(){fA.add(fc)}}}});function lr(e){return[fg(e[1],e[0]),aJ(e[2])]}function lo(e){var t=e[0],n=e[1],r=fm(n);return[r*fm(t),r*fw(t),fw(n)]}function li(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function la(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ll(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ls(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function lu(e){var t=fM(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var lc=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/cartesian.js":()=>{aQ()}});function ld(e,t){fU.push(fY=[fP=e,fR=e]),t<fD&&(fD=t),t>fI&&(fI=t)}function lf(e,t){var n=lo([e*ff,t*ff]);if(fW){var r=la(fW,n),o=la([r[1],-r[0],0],r);lu(o),o=lr(o);var i,a=e-fB,l=a>0?1:-1,s=o[0]*fd*l,u=fp(a)>180;u^(l*fB<s&&s<l*e)?(i=o[1]*fd)>fI&&(fI=i):u^(l*fB<(s=(s+360)%360-180)&&s<l*e)?(i=-o[1]*fd)<fD&&(fD=i):(t<fD&&(fD=t),t>fI&&(fI=t)),u?e<fB?ly(fP,e)>ly(fP,fR)&&(fR=e):ly(e,fR)>ly(fP,fR)&&(fP=e):fR>=fP?(e<fP&&(fP=e),e>fR&&(fR=e)):e>fB?ly(fP,e)>ly(fP,fR)&&(fR=e):ly(e,fR)>ly(fP,fR)&&(fP=e)}else fU.push(fY=[fP=e,fR=e]);t<fD&&(fD=t),t>fI&&(fI=t),fW=n,fB=e}function lp(){fG.point=lf}function lh(){fY[0]=fP,fY[1]=fR,fG.point=ld,fW=null}function lg(e,t){if(fW){var n=e-fB;fH.add(fp(n)>180?n+(n>0?360:-360):n)}else fF=e,fq=t;fL.point(e,t),lf(e,t)}function lm(){fL.lineStart()}function lv(){lg(fF,fq),fL.lineEnd(),fp(fH)>fi&&(fP=-(fR=180)),fY[0]=fP,fY[1]=fR,fW=null}function ly(e,t){return(t-=e)<0?t+360:t}function lb(e,t){return e[0]-t[0]}function lx(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function l_(e){var t,n,r,o,i,a,l;if(fI=fR=-(fP=fD=1/0),fU=[],a4(e,fG),n=fU.length){for(fU.sort(lb),t=1,i=[r=fU[0]];t<n;++t)lx(r,(o=fU[t])[0])||lx(r,o[1])?(ly(r[0],o[1])>ly(r[0],r[1])&&(r[1]=o[1]),ly(o[0],r[1])>ly(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,n=i.length-1,t=0,r=i[n];t<=n;r=o,++t)o=i[t],(l=ly(r[1],o[0]))>a&&(a=l,fP=o[0],fR=r[1])}return fU=fY=null,fP===1/0||fD===1/0?[[NaN,NaN],[NaN,NaN]]:[[fP,fD],[fR,fI]]}var lw=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/bounds.js":()=>{r7(),ln(),lc(),aQ(),a8(),fG={point:ld,lineStart:lp,lineEnd:lh,polygonStart:function(){fG.point=lg,fG.lineStart=lm,fG.lineEnd=lv,fH=new iW,fL.polygonStart()},polygonEnd:function(){fL.polygonEnd(),fG.point=ld,fG.lineStart=lp,fG.lineEnd=lh,f$<0?(fP=-(fR=180),fD=-(fI=90)):fH>fi?fI=90:fH<-fi&&(fD=-90),fY[0]=fP,fY[1]=fR},sphere:function(){fP=-(fR=180),fD=-(fI=90)}}}});function lk(e,t){e*=ff,t*=ff;var n=fm(t);lM(n*fm(e),n*fw(e),fw(t))}function lM(e,t,n){++fX,fZ+=(e-fZ)/fX,fK+=(t-fK)/fX,fJ+=(n-fJ)/fX}function lj(){pe.point=lS}function lS(e,t){e*=ff,t*=ff;var n=fm(t);f7=n*fm(e),f6=n*fw(e),f9=fw(t),pe.point=lE,lM(f7,f6,f9)}function lE(e,t){e*=ff,t*=ff;var n=fm(t),r=n*fm(e),o=n*fw(e),i=fw(t),a=fg(fM((a=f6*i-f9*o)*a+(a=f9*r-f7*i)*a+(a=f7*o-f6*r)*a),f7*r+f6*o+f9*i);fV+=a,fQ+=a*(f7+(f7=r)),f0+=a*(f6+(f6=o)),f1+=a*(f9+(f9=i)),lM(f7,f6,f9)}function l$(){pe.point=lk}function lA(){pe.point=lz}function lT(){lO(f4,f8),pe.point=lk}function lz(e,t){f4=e,f8=t,e*=ff,t*=ff,pe.point=lO;var n=fm(t);f7=n*fm(e),f6=n*fw(e),f9=fw(t),lM(f7,f6,f9)}function lO(e,t){e*=ff,t*=ff;var n=fm(t),r=n*fm(e),o=n*fw(e),i=fw(t),a=f6*i-f9*o,l=f9*r-f7*i,s=f7*o-f6*r,u=fb(a,l,s),c=aJ(u),d=u&&-c/u;f2.add(d*a),f5.add(d*l),f3.add(d*s),fV+=c,fQ+=c*(f7+(f7=r)),f0+=c*(f6+(f6=o)),f1+=c*(f9+(f9=i)),lM(f7,f6,f9)}function lN(e){fX=fV=fZ=fK=fJ=fQ=f0=f1=0,f2=new iW,f5=new iW,f3=new iW,a4(e,pe);var t=+f2,n=+f5,r=+f3,o=fb(t,n,r);return o<fa&&(t=fQ,n=f0,r=f1,fV<fi&&(t=fZ,n=fK,r=fJ),(o=fb(t,n,r))<fa)?[NaN,NaN]:[fg(n,t)*fd,aJ(r/o)*fd]}var lC=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/centroid.js":()=>{r7(),aQ(),a1(),a8(),pe={sphere:a0,point:lk,lineStart:lj,lineEnd:l$,polygonStart:function(){pe.lineStart=lA,pe.lineEnd=lT},polygonEnd:function(){pe.lineStart=lj,pe.lineEnd=l$}}}});function lL(e){return function(){return e}}var lP=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/constant.js":()=>{}});function lD(e,t){function n(n,r){return t((n=e(n,r))[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}var lR=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/compose.js":()=>{}});function lI(e,t){return[fp(e)>fl?e+Math.round(-e/fc)*fc:e,t]}function lB(e,t,n){return(e%=fc)?t||n?lD(lq(e),lW(t,n)):lq(e):t||n?lW(t,n):lI}function lF(e){return function(t,n){return[(t+=e)>fl?t-fc:t<-fl?t+fc:t,n]}}function lq(e){var t=lF(e);return t.invert=lF(-e),t}function lW(e,t){var n=fm(e),r=fw(e),o=fm(t),i=fw(t);function a(e,t){var a=fm(t),l=fm(e)*a,s=fw(e)*a,u=fw(t),c=u*n+l*r;return[fg(s*o-c*i,l*n-u*r),aJ(c*o+s*i)]}return a.invert=function(e,t){var a=fm(t),l=fm(e)*a,s=fw(e)*a,u=fw(t),c=u*o-s*i;return[fg(s*o+u*i,l*n+c*r),aJ(c*n-l*r)]},a}function lH(e){function t(t){return t=e(t[0]*ff,t[1]*ff),t[0]*=fd,t[1]*=fd,t}return e=lB(e[0]*ff,e[1]*ff,e.length>2?e[2]*ff:0),t.invert=function(t){return t=e.invert(t[0]*ff,t[1]*ff),t[0]*=fd,t[1]*=fd,t},t}var lU=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/rotation.js":()=>{lR(),aQ(),lI.invert=lI}});function lY(e,t,n,r,o,i){if(n){var a=fm(t),l=fw(t),s=r*n;null==o?(o=t+r*fc,i=t-s/2):(o=lG(a,o),i=lG(a,i),(r>0?o<i:o>i)&&(o+=r*fc));for(var u,c=o;r>0?c>i:c<i;c-=s)u=lr([a,-l*fm(c),-l*fw(c)]),e.point(u[0],u[1])}}function lG(e,t){t=lo(t),t[0]-=e,lu(t);var n=aK(-t[1]);return((0>-t[2]?-n:n)+fc-fi)%fc}function lX(){var e,t,n=lL([0,0]),r=lL(90),o=lL(6),i={point:function(n,r){e.push(n=t(n,r)),n[0]*=fd,n[1]*=fd}};function a(){var a=n.apply(this,arguments),l=r.apply(this,arguments)*ff,s=o.apply(this,arguments)*ff;return e=[],t=lB(-a[0]*ff,-a[1]*ff,0).invert,lY(i,l,s,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:lL([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:lL(+e),a):r},a.precision=function(e){return arguments.length?(o="function"==typeof e?e:lL(+e),a):o},a}var lV=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/circle.js":()=>{lc(),lP(),aQ(),lU()}});function lZ(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:a0,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}var lK=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/buffer.js":()=>{a1()}});function lJ(e,t){return fp(e[0]-t[0])<fi&&fp(e[1]-t[1])<fi}var lQ=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/pointEqual.js":()=>{aQ()}});function l0(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function l1(e,t,n,r,o){var i,a,l=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(lJ(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd();return}a[0]+=2*fi}l.push(n=new l0(r,e,null,!0)),s.push(n.o=new l0(r,null,n,!1)),l.push(n=new l0(a,e,null,!1)),s.push(n.o=new l0(a,null,n,!0))}}),l.length){for(s.sort(t),l2(l),l2(s),i=0,a=s.length;i<a;++i)s[i].e=n=!n;for(var u,c,d=l[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;u=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(i=0,a=u.length;i<a;++i)o.point((c=u[i])[0],c[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(p)for(i=(u=f.p.z).length-1;i>=0;--i)o.point((c=u[i])[0],c[1]);else r(f.x,f.p.x,-1,o);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);o.lineEnd()}}}function l2(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}var l5=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/rejoin.js":()=>{lQ(),aQ()}});function l3(e){return fp(e[0])<=fl?e[0]:fk(e[0])*((fp(e[0])+fl)%fc-fl)}function l4(e,t){var n=l3(t),r=t[1],o=fw(r),i=[fw(n),-fm(n),0],a=0,l=0,s=new iW;1===o?r=fs+fi:-1===o&&(r=-fs-fi);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,p=d[f-1],h=l3(p),g=p[1]/2+fu,m=fw(g),v=fm(g),y=0;y<f;++y,h=x,m=w,v=k,p=b){var b=d[y],x=l3(b),_=b[1]/2+fu,w=fw(_),k=fm(_),M=x-h,j=M>=0?1:-1,S=j*M,E=S>fl,$=m*w;if(s.add(fg($*j*fw(S),v*k+$*fm(S))),a+=E?M+j*fc:M,E^h>=n^x>=n){var A=la(lo(p),lo(b));lu(A);var T=la(i,A);lu(T);var z=(E^M>=0?-1:1)*aJ(T[2]);(r>z||r===z&&(A[0]||A[1]))&&(l+=E^M>=0?1:-1)}}return(a<-fi||a<fi&&s<-fa)^1&l}var l8=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/polygonContains.js":()=>{r7(),lc(),aQ()}});function l7(e,t,n,r){return function(o){var i,a,l,s=t(o),u=lZ(),c=t(u),d=!1,f={point:p,lineStart:g,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=b,a=[],i=[]},polygonEnd:function(){f.point=p,f.lineStart=g,f.lineEnd=m,a=r5(a);var e=l4(i,r);a.length?(d||(o.polygonStart(),d=!0),l1(a,l9,e,n,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(t,n){e(t,n)&&o.point(t,n)}function h(e,t){s.point(e,t)}function g(){f.point=h,s.lineStart()}function m(){f.point=p,s.lineEnd()}function v(e,t){l.push([e,t]),c.point(e,t)}function y(){c.lineStart(),l=[]}function b(){v(l[0][0],l[0][1]),c.lineEnd();var e,t,n,r,s=c.clean(),f=u.result(),p=f.length;if(l.pop(),i.push(l),l=null,p){if(1&s){if((t=(n=f[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}return}p>1&&2&s&&f.push(f.pop().concat(f.shift())),a.push(f.filter(l6))}}return f}}function l6(e){return e.length>1}function l9(e,t){return((e=e.x)[0]<0?e[1]-fs-fi:fs-e[1])-((t=t.x)[0]<0?t[1]-fs-fi:fs-t[1])}var se=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/index.js":()=>{lK(),l5(),aQ(),l8(),r7()}});function st(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var l,s,u,c,d,f,p,h=i>0?fl:-fl,g=fp(i-n);fp(g-fl)<fi?(e.point(n,r=(r+a)/2>0?fs:-fs),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(h,r),e.point(i,r),t=0):o!==h&&g>=fl&&(fp(n-o)<fi&&(n-=o*fi),fp(i-h)<fi&&(i-=h*fi),l=n,s=r,u=i,c=a,p=fw(l-u),r=fp(p)>fi?fh((fw(s)*(f=fm(c))*fw(u)-fw(c)*(d=fm(s))*fw(l))/(d*f*p)):(s+c)/2,e.point(o,r),e.lineEnd(),e.lineStart(),e.point(h,r),t=0),e.point(n=i,r=a),o=h},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function sn(e,t,n,r){var o;if(null==e)o=n*fs,r.point(-fl,o),r.point(0,o),r.point(fl,o),r.point(fl,0),r.point(fl,-o),r.point(0,-o),r.point(-fl,-o),r.point(-fl,0),r.point(-fl,o);else if(fp(e[0]-t[0])>fi){var i=e[0]<t[0]?fl:-fl;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}var sr=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/antimeridian.js":()=>{se(),aQ(),pt=l7(function(){return!0},st,sn,[-fl,-fs])}});function so(e){var t=fm(e),n=6*ff,r=t>0,o=fp(t)>fi;function i(e,n){return fm(e)*fm(n)>t}function a(e,n,r){var o=lo(e),i=lo(n),a=[1,0,0],l=la(o,i),s=li(l,l),u=l[0],c=s-u*u;if(!c)return!r&&e;var d=la(a,l),f=ls(a,t*s/c);ll(f,ls(l,-t*u/c));var p=li(f,d),h=li(d,d),g=p*p-h*(li(f,f)-1);if(!(g<0)){var m=fM(g),v=ls(d,(-p-m)/h);if(ll(v,f),v=lr(v),!r)return v;var y,b=e[0],x=n[0],_=e[1],w=n[1];x<b&&(y=b,b=x,x=y);var k=x-b,M=fp(k-fl)<fi,j=M||k<fi;if(!M&&w<_&&(y=_,_=w,w=y),j?M?_+w>0^v[1]<(fp(v[0]-b)<fi?_:w):_<=v[1]&&v[1]<=w:k>fl^(b<=v[0]&&v[0]<=x)){var S=ls(d,(-p+m)/h);return ll(S,f),[v,lr(S)]}}}function l(t,n){var o=r?e:fl-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return l7(i,function(e){var t,n,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(d,f){var p,h,g=[d,f],m=i(d,f),v=r?m?0:l(d,f):m?l(d+(d<0?fl:-fl),f):0;!t&&(u=s=m)&&e.lineStart(),m!==s&&(!(h=a(t,g))||lJ(t,h)||lJ(g,h))&&(g[2]=1),m!==s?(c=0,m?(e.lineStart(),h=a(g,t),e.point(h[0],h[1])):(h=a(t,g),e.point(h[0],h[1],2),e.lineEnd()),t=h):o&&t&&r^m&&!(v&n)&&(p=a(g,t,!0))&&(c=0,r?(e.lineStart(),e.point(p[0][0],p[0][1]),e.point(p[1][0],p[1][1]),e.lineEnd()):(e.point(p[1][0],p[1][1]),e.lineEnd(),e.lineStart(),e.point(p[0][0],p[0][1],3))),!m||t&&lJ(t,g)||e.point(g[0],g[1]),t=g,s=m,n=v},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return c|(u&&s)<<1}}},function(t,r,o,i){lY(i,e,n,o,t,r)},r?[0,-e]:[-fl,e-fl])}var si=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/circle.js":()=>{lc(),lV(),aQ(),lQ(),se()}}),sa=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/line.js":()=>{}});function sl(e,t,n,r){function o(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function i(o,i,l,u){var c=0,d=0;if(null==o||(c=a(o,l))!==(d=a(i,l))||0>s(o,i)^l>0)do u.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+l+4)%4)!==d);else u.point(i[0],i[1])}function a(r,o){return fp(r[0]-e)<fi?o>0?0:3:fp(r[0]-n)<fi?o>0?2:1:fp(r[1]-t)<fi?+(o>0):o>0?3:2}function l(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,u,c,d,f,p,h,g,m,v,y,b=a,x=lZ(),_={point:w,lineStart:function(){_.point=k,u&&u.push(c=[]),v=!0,m=!1,h=g=NaN},lineEnd:function(){s&&(k(d,f),p&&m&&x.rejoin(),s.push(x.result())),_.point=w,m&&b.lineEnd()},polygonStart:function(){b=x,s=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,o=u.length;n<o;++n)for(var i,a,l=u[n],s=1,c=l.length,d=l[0],f=d[0],p=d[1];s<c;++s)i=f,a=p,f=(d=l[s])[0],p=d[1],a<=r?p>r&&(f-i)*(r-a)>(p-a)*(e-i)&&++t:p<=r&&(f-i)*(r-a)<(p-a)*(e-i)&&--t;return t}(),n=y&&t,o=(s=r5(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&l1(s,l,t,i,a),a.polygonEnd()),b=a,s=u=c=null}};function w(e,t){o(e,t)&&b.point(e,t)}function k(i,a){var l=o(i,a);if(u&&c.push([i,a]),v)d=i,f=a,p=l,v=!1,l&&(b.lineStart(),b.point(i,a));else if(l&&m)b.point(i,a);else{var s=[h=Math.max(pr,Math.min(pn,h)),g=Math.max(pr,Math.min(pn,g))],x=[i=Math.max(pr,Math.min(pn,i)),a=Math.max(pr,Math.min(pn,a))];!function(e,t,n,r,o,i){var a,l=e[0],s=e[1],u=t[0],c=t[1],d=0,f=1,p=u-l,h=c-s;if(a=n-l,!p&&a>0)return;if(a/=p,p<0){if(a<d)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<f&&(f=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}return d>0&&(e[0]=l+d*p,e[1]=s+d*h),f<1&&(t[0]=l+f*p,t[1]=s+f*h),!0}}}}(s,x,e,t,n,r)?l&&(b.lineStart(),b.point(i,a),y=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),l||b.lineEnd(),y=!1)}h=i,g=a,m=l}return _}}var ss=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/rectangle.js":()=>{aQ(),lK(),sa(),l5(),r7(),pr=-(pn=1e9)}});function su(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=sl(r,o,i,a)(t=n)},extent:function(l){return arguments.length?(r=+l[0][0],o=+l[0][1],i=+l[1][0],a=+l[1][1],e=t=null,n):[[r,o],[i,a]]}}}var sc=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/clip/extent.js":()=>{ss()}});function sd(){ps.point=sp,ps.lineEnd=sf}function sf(){ps.point=ps.lineEnd=a0}function sp(e,t){e*=ff,t*=ff,pi=e,pa=fw(t),pl=fm(t),ps.point=sh}function sh(e,t){e*=ff,t*=ff;var n=fw(t),r=fm(t),o=fp(e-pi),i=fm(o),a=r*fw(o),l=pl*n-pa*r*i,s=pa*n+pl*r*i;po.add(fg(fM(a*a+l*l),s)),pi=e,pa=n,pl=r}function sg(e){return po=new iW,a4(e,ps),+po}var sm=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/length.js":()=>{r7(),aQ(),a1(),a8(),ps={sphere:a0,point:a0,lineStart:sd,lineEnd:a0,polygonStart:a0,polygonEnd:a0}}});function sv(e,t){return pu[0]=e,pu[1]=t,sg(pc)}var sy=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/distance.js":()=>{sm(),pc={type:"LineString",coordinates:pu=[null,null]}}});function sb(e,t){return!!(e&&pf.hasOwnProperty(e.type))&&pf[e.type](e,t)}function sx(e,t){for(var n,r,o,i=0,a=e.length;i<a;i++){if(0===(r=sv(e[i],t))||i>0&&(o=sv(e[i],e[i-1]))>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<fa*o)return!0;n=r}return!1}function s_(e,t){return!!l4(e.map(sw),sk(t))}function sw(e){return(e=e.map(sk)).pop(),e}function sk(e){return[e[0]*ff,e[1]*ff]}function sM(e,t){return(e&&pd.hasOwnProperty(e.type)?pd[e.type]:sb)(e,t)}var sj=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/contains.js":()=>{l8(),sy(),aQ(),pd={Feature:function(e,t){return sb(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)if(sb(n[r].geometry,t))return!0;return!1}},pf={Sphere:function(){return!0},Point:function(e,t){return 0===sv(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(0===sv(n[r],t))return!0;return!1},LineString:function(e,t){return sx(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(sx(n[r],t))return!0;return!1},Polygon:function(e,t){return s_(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(s_(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)if(sb(n[r],t))return!0;return!1}}}});function sS(e,t,n){var r=r4(e,t-fi,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function sE(e,t,n){var r=r4(e,t-fi,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function s$(){var e,t,n,r,o,i,a,l,s,u,c,d,f=10,p=10,h=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return r4(fv(r/h)*h,n,h).map(c).concat(r4(fv(l/g)*g,a,g).map(d)).concat(r4(fv(t/f)*f,e,f).filter(function(e){return fp(e%h)>fi}).map(s)).concat(r4(fv(i/p)*p,o,p).filter(function(e){return fp(e%g)>fi}).map(u))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(d(a).slice(1),c(n).reverse().slice(1),d(l).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),v.precision(m)):[[r,l],[n,a]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),i>o&&(n=i,i=o,o=n),v.precision(m)):[[t,i],[e,o]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(h=+e[0],g=+e[1],v):[h,g]},v.stepMinor=function(e){return arguments.length?(f=+e[0],p=+e[1],v):[f,p]},v.precision=function(f){return arguments.length?(m=+f,s=sS(i,o,90),u=sE(t,e,m),c=sS(l,a,90),d=sE(r,n,m),v):m},v.extentMajor([[-180,-90+fi],[180,90-fi]]).extentMinor([[-180,-80-fi],[180,80+fi]])}function sA(){return s$()()}var sT=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/graticule.js":()=>{r7(),aQ()}});function sz(e,t){var n,r,o=e[0]*ff,i=e[1]*ff,a=t[0]*ff,l=t[1]*ff,s=fm(i),u=fw(i),c=fm(l),d=fw(l),f=s*fm(o),p=s*fw(o),h=c*fm(a),g=c*fw(a),m=2*aJ(fM((n=fw((n=l-i)/2))*n+s*c*((r=fw((r=a-o)/2))*r))),v=fw(m),y=m?function(e){var t=fw(e*=m)/v,n=fw(m-e)/v,r=n*f+t*h,o=n*p+t*g;return[fg(o,r)*fd,fg(n*u+t*d,fM(r*r+o*o))*fd]}:function(){return[o*fd,i*fd]};return y.distance=m,y}var sO=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/interpolate.js":()=>{aQ()}}),sN=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/identity.js":()=>{pp=e=>e}});function sC(){px.point=sL}function sL(e,t){px.point=sP,pm=py=e,pv=pb=t}function sP(e,t){pg.add(pb*e-py*t),py=e,pb=t}function sD(){sP(pm,pv)}var sR=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/path/area.js":()=>{r7(),aQ(),a1(),ph=new iW,pg=new iW,p_=px={point:a0,lineStart:a0,lineEnd:a0,polygonStart:function(){px.lineStart=sC,px.lineEnd=sD},polygonEnd:function(){px.lineStart=px.lineEnd=px.point=a0,ph.add(fp(pg)),pg=new iW},result:function(){var e=ph/2;return ph=new iW,e}}}});function sI(e,t){e<pw&&(pw=e),e>pM&&(pM=e),t<pk&&(pk=t),t>pj&&(pj=t)}var sB=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/path/bounds.js":()=>{a1(),pk=pw=1/0,pj=pM=-pw,pS={point:sI,lineStart:a0,lineEnd:a0,polygonStart:a0,polygonEnd:a0,result:function(){var e=[[pw,pk],[pM,pj]];return pM=pj=-(pk=pw=1/0),e}}}});function sF(e,t){pE+=e,p$+=t,++pA}function sq(){pB.point=sW}function sW(e,t){pB.point=sH,sF(pR=e,pI=t)}function sH(e,t){var n=e-pR,r=t-pI,o=fM(n*n+r*r);pT+=o*(pR+e)/2,pz+=o*(pI+t)/2,pO+=o,sF(pR=e,pI=t)}function sU(){pB.point=sF}function sY(){pB.point=sX}function sG(){sV(pP,pD)}function sX(e,t){pB.point=sV,sF(pP=pR=e,pD=pI=t)}function sV(e,t){var n=e-pR,r=t-pI,o=fM(n*n+r*r);pT+=o*(pR+e)/2,pz+=o*(pI+t)/2,pO+=o,pN+=(o=pI*e-pR*t)*(pR+e),pC+=o*(pI+t),pL+=3*o,sF(pR=e,pI=t)}var sZ=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/path/centroid.js":()=>{aQ(),pE=0,p$=0,pA=0,pT=0,pz=0,pO=0,pN=0,pC=0,pL=0,pF=pB={point:sF,lineStart:sq,lineEnd:sU,polygonStart:function(){pB.lineStart=sY,pB.lineEnd=sG},polygonEnd:function(){pB.point=sF,pB.lineStart=sq,pB.lineEnd=sU},result:function(){var e=pL?[pN/pL,pC/pL]:pO?[pT/pO,pz/pO]:pA?[pE/pA,p$/pA]:[NaN,NaN];return pE=p$=pA=pT=pz=pO=pN=pC=pL=0,e}}}});function sK(e){this._context=e}var sJ=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/path/context.js":()=>{aQ(),a1(),sK.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,fc)}},result:a0}}});function sQ(e,t){pX.point=s0,pH=pY=e,pU=pG=t}function s0(e,t){pY-=e,pG-=t,pq.add(fM(pY*pY+pG*pG)),pY=e,pG=t}var s1=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/path/measure.js":()=>{r7(),aQ(),a1(),pq=new iW,pV=pX={point:a0,lineStart:function(){pX.point=sQ},lineEnd:function(){pW&&s0(pH,pU),pX.point=a0},polygonStart:function(){pW=!0},polygonEnd:function(){pW=null},result:function(){var e=+pq;return pq=new iW,e}}}});function s2(){this._string=[]}function s5(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var s3=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/path/string.js":()=>{s2.prototype={_radius:4.5,_circle:s5(4.5),pointRadius:function(e){return(e*=1)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=s5(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(!this._string.length)return null;var e=this._string.join("");return this._string=[],e}}}});function s4(e,t){var n,r,o=4.5;function i(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),a4(e,n(r))),r.result()}return i.area=function(e){return a4(e,n(p_)),p_.result()},i.measure=function(e){return a4(e,n(pV)),pV.result()},i.bounds=function(e){return a4(e,n(pS)),pS.result()},i.centroid=function(e){return a4(e,n(pF)),pF.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,pp):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new s2):new sK(t=e),"function"!=typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),i):o},i.projection(e).context(t)}var s8=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/path/index.js":()=>{sN(),a8(),sR(),sB(),sZ(),sJ(),s1(),s3()}});function s7(e){return{stream:s6(e)}}function s6(e){return function(t){var n=new s9;for(var r in e)n[r]=e[r];return n.stream=t,n}}function s9(){}var ue=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/transform.js":()=>{s9.prototype={constructor:s9,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}}});function ut(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),a4(n,e.stream(pS)),t(pS.result()),null!=r&&e.clipExtent(r),e}function un(e,t,n){return ut(e,function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(o-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,l])},n)}function ur(e,t,n){return un(e,[[0,0],t],n)}function uo(e,t,n){return ut(e,function(n){var r=+t,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([i,a])},n)}function ui(e,t,n){return ut(e,function(n){var r=+t,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([i,a])},n)}var ua=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/fit.js":()=>{a8(),sB()}});function ul(e,t){var n;return+t?function(e,t){function n(r,o,i,a,l,s,u,c,d,f,p,h,g,m){var v=u-r,y=c-o,b=v*v+y*y;if(b>4*t&&g--){var x=a+f,_=l+p,w=s+h,k=fM(x*x+_*_+w*w),M=aJ(w/=k),j=fp(fp(w)-1)<fi||fp(i-d)<fi?(i+d)/2:fg(_,x),S=e(j,M),E=S[0],$=S[1],A=E-r,T=$-o,z=y*A-v*T;(z*z/b>t||fp((v*A+y*T)/b-.5)>.3||a*f+l*p+s*h<pK)&&(n(r,o,i,a,l,s,E,$,j,x/=k,_/=k,w,g,m),m.point(E,$),n(E,$,j,x,_,w,u,c,d,f,p,h,g,m))}}return function(t){var r,o,i,a,l,s,u,c,d,f,p,h,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=x},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){c=NaN,g.point=y,t.lineStart()}function y(r,o){var i=lo([r,o]),a=e(r,o);n(c,d,u,f,p,h,c=a[0],d=a[1],u=r,f=i[0],p=i[1],h=i[2],pZ,t),t.point(c,d)}function b(){g.point=m,t.lineEnd()}function x(){v(),g.point=_,g.lineEnd=w}function _(e,t){y(r=e,t),o=c,i=d,a=f,l=p,s=h,g.point=y}function w(){n(c,d,u,f,p,h,o,i,r,a,l,s,pZ,t),g.lineEnd=b,b()}return g}}(e,t):(n=e,s6({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}}))}var us=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/resample.js":()=>{lc(),aQ(),ue(),pZ=16,pK=fm(30*ff)}});function uu(e,t,n,r,o,i){if(!i){function a(i,a){return[t+e*(i*=r),n-e*(a*=o)]}return a.invert=function(i,a){return[(i-t)/e*r,(n-a)/e*o]},a}var l=fm(i),s=fw(i),u=l*e,c=s*e,d=l/e,f=s/e,p=(s*n-l*t)/e,h=(s*t+l*n)/e;function g(e,i){return[u*(e*=r)-c*(i*=o)+t,n-c*e-u*i]}return g.invert=function(e,t){return[r*(d*e-f*t+p),o*(h-f*e-d*t)]},g}function uc(e){return ud(function(){return e})()}function ud(e){var t,n,r,o,i,a,l,s,u,c,d=150,f=480,p=250,h=0,g=0,m=0,v=0,y=0,b=0,x=1,_=1,w=null,k=pt,M=null,j=pp,S=.5;function E(e){return s(e[0]*ff,e[1]*ff)}function $(e){return(e=s.invert(e[0],e[1]))&&[e[0]*fd,e[1]*fd]}function A(){var e=uu(d,0,0,x,_,b).apply(null,t(h,g)),r=uu(d,f-e[0],p-e[1],x,_,b);return n=lB(m,v,y),l=lD(t,r),s=lD(n,l),a=ul(l,S),T()}function T(){return u=c=null,E}return E.stream=function(e){var t;return u&&c===e?u:u=pJ((t=n,s6({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}}))(k(a(j(c=e)))))},E.preclip=function(e){return arguments.length?(k=e,w=void 0,T()):k},E.postclip=function(e){return arguments.length?(j=e,M=r=o=i=null,T()):j},E.clipAngle=function(e){return arguments.length?(k=+e?so(w=e*ff):(w=null,pt),T()):w*fd},E.clipExtent=function(e){return arguments.length?(j=null==e?(M=r=o=i=null,pp):sl(M=+e[0][0],r=+e[0][1],o=+e[1][0],i=+e[1][1]),T()):null==M?null:[[M,r],[o,i]]},E.scale=function(e){return arguments.length?(d=+e,A()):d},E.translate=function(e){return arguments.length?(f=+e[0],p=+e[1],A()):[f,p]},E.center=function(e){return arguments.length?(h=e[0]%360*ff,g=e[1]%360*ff,A()):[h*fd,g*fd]},E.rotate=function(e){return arguments.length?(m=e[0]%360*ff,v=e[1]%360*ff,y=e.length>2?e[2]%360*ff:0,A()):[m*fd,v*fd,y*fd]},E.angle=function(e){return arguments.length?(b=e%360*ff,A()):b*fd},E.reflectX=function(e){return arguments.length?(x=e?-1:1,A()):x<0},E.reflectY=function(e){return arguments.length?(_=e?-1:1,A()):_<0},E.precision=function(e){return arguments.length?(a=ul(l,S=e*e),T()):fM(S)},E.fitExtent=function(e,t){return un(E,e,t)},E.fitSize=function(e,t){return ur(E,e,t)},E.fitWidth=function(e,t){return uo(E,e,t)},E.fitHeight=function(e,t){return ui(E,e,t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&$,A()}}var uf=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/index.js":()=>{sr(),si(),ss(),lR(),sN(),aQ(),lU(),ue(),ua(),us(),pJ=s6({point:function(e,t){this.stream.point(e*ff,t*ff)}})}});function up(e){var t=0,n=fl/3,r=ud(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*ff,n=e[1]*ff):[t*fd,n*fd]},o}var uh=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/conic.js":()=>{aQ(),uf()}}),ug=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/cylindricalEqualArea.js":()=>{aQ()}});function um(e,t){var n=fw(e),r=(n+fw(t))/2;if(fp(r)<fi){var o=fm(e);function i(e,t){return[e*o,fw(t)/o]}return i.invert=function(e,t){return[e/o,aJ(t*o)]},i}var a=1+n*(2*r-n),l=fM(a)/r;function s(e,t){var n=fM(a-2*r*fw(t))/r;return[n*fw(e*=r),l-n*fm(e)]}return s.invert=function(e,t){var n=l-t,o=fg(e,fp(n))*fk(n);return n*r<0&&(o-=fl*fk(e)*fk(n)),[o/r,aJ((a-(e*e+n*n)*r*r)/(2*r))]},s}function uv(){return up(um).scale(155.424).center([0,33.6442])}var uy=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/conicEqualArea.js":()=>{aQ(),uh(),ug()}});function ub(){return uv().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ux=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/albers.js":()=>{uy()}});function u_(){var e,t,n,r,o,i,a=ub(),l=uv().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=uv().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){i=[e,t]}};function c(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function d(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?l:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:a).invert(e)},c.stream=function(n){var r,o;return e&&t===n?e:(o=(r=[a.stream(t=n),l.stream(n),s.stream(n)]).length,e={point:function(e,t){for(var n=-1;++n<o;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)r[e].polygonEnd()}})},c.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),s.precision(e),d()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),s.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),i=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[i-.455*t,c-.238*t],[i+.455*t,c+.238*t]]).stream(u),r=l.translate([i-.307*t,c+.201*t]).clipExtent([[i-.425*t+fi,c+.12*t+fi],[i-.214*t-fi,c+.234*t-fi]]).stream(u),o=s.translate([i-.205*t,c+.212*t]).clipExtent([[i-.214*t+fi,c+.166*t+fi],[i-.115*t-fi,c+.234*t-fi]]).stream(u),d()},c.fitExtent=function(e,t){return un(c,e,t)},c.fitSize=function(e,t){return ur(c,e,t)},c.fitWidth=function(e,t){return uo(c,e,t)},c.fitHeight=function(e,t){return ui(c,e,t)},c.scale(1070)}var uw=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/albersUsa.js":()=>{aQ(),ux(),uy(),ua()}});function uk(e){return function(t,n){var r=fm(t),o=fm(n),i=e(r*o);return i===1/0?[2,0]:[i*o*fw(t),i*fw(n)]}}function uM(e){return function(t,n){var r=fM(t*t+n*n),o=e(r),i=fw(o),a=fm(o);return[fg(t*i,r*a),aJ(r&&n*i/r)]}}var uj=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/azimuthal.js":()=>{aQ()}});function uS(){return uc(pQ).scale(124.75).clipAngle(179.999)}var uE=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/azimuthalEqualArea.js":()=>{aQ(),uj(),uf(),(pQ=uk(function(e){return fM(2/(1+e))})).invert=uM(function(e){return 2*aJ(e/2)})}});function u$(){return uc(p0).scale(79.4188).clipAngle(179.999)}var uA=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/azimuthalEquidistant.js":()=>{aQ(),uj(),uf(),(p0=uk(function(e){return(e=aK(e))&&e/fw(e)})).invert=uM(function(e){return e})}});function uT(e,t){return[e,fx(fj((fs+t)/2))]}function uz(){return uO(uT).scale(961/fc)}function uO(e){var t,n,r,o=uc(e),i=o.center,a=o.scale,l=o.translate,s=o.clipExtent,u=null;function c(){var i=fl*a(),l=o(lH(o.rotate()).invert([0,0]));return s(null==u?[[l[0]-i,l[1]-i],[l[0]+i,l[1]+i]]:e===uT?[[Math.max(l[0]-i,u),t],[Math.min(l[0]+i,n),r]]:[[u,Math.max(l[1]-i,t)],[n,Math.min(l[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),c()):a()},o.translate=function(e){return arguments.length?(l(e),c()):l()},o.center=function(e){return arguments.length?(i(e),c()):i()},o.clipExtent=function(e){return arguments.length?(null==e?u=t=n=r=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==u?null:[[u,t],[n,r]]},c()}var uN=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/mercator.js":()=>{aQ(),lU(),uf(),uT.invert=function(e,t){return[e,2*fh(fy(t))-fs]}}});function uC(e){return fj((fs+e)/2)}function uL(e,t){var n=fm(e),r=e===t?fw(e):fx(n/fm(t))/fx(uC(t)/uC(e)),o=n*f_(uC(e),r)/r;if(!r)return uT;function i(e,t){o>0?t<-fs+fi&&(t=-fs+fi):t>fs-fi&&(t=fs-fi);var n=o/f_(uC(t),r);return[n*fw(r*e),o-n*fm(r*e)]}return i.invert=function(e,t){var n=o-t,i=fk(r)*fM(e*e+n*n),a=fg(e,fp(n))*fk(n);return n*r<0&&(a-=fl*fk(e)*fk(n)),[a/r,2*fh(f_(o/i,1/r))-fs]},i}function uP(){return up(uL).scale(109.5).parallels([30,30])}var uD=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/conicConformal.js":()=>{aQ(),uh(),uN()}});function uR(e,t){return[e,t]}function uI(){return uc(uR).scale(152.63)}var uB=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/equirectangular.js":()=>{uf(),uR.invert=uR}});function uF(e,t){var n=fm(e),r=e===t?fw(e):(n-fm(t))/(t-e),o=n/r+e;if(fp(r)<fi)return uR;function i(e,t){var n=o-t,i=r*e;return[n*fw(i),o-n*fm(i)]}return i.invert=function(e,t){var n=o-t,i=fg(e,fp(n))*fk(n);return n*r<0&&(i-=fl*fk(e)*fk(n)),[i/r,o-fk(r)*fM(e*e+n*n)]},i}function uq(){return up(uF).scale(131.154).center([0,13.9389])}var uW=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/conicEquidistant.js":()=>{aQ(),uh(),uB()}});function uH(e,t){var n=aJ(p4*fw(t)),r=n*n,o=r*r*r;return[e*fm(n)/(p4*(p1+3*p2*r+o*(7*p5+9*p3*r))),n*(p1+p2*r+o*(p5+p3*r))]}function uU(){return uc(uH).scale(177.158)}var uY=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/equalEarth.js":()=>{uf(),aQ(),p1=1.340264,p2=-.081106,p5=893e-6,p3=.003796,p4=fM(3)/2,uH.invert=function(e,t){for(var n,r,o=t,i=o*o,a=i*i*i,l=0;l<12&&(r=o*(p1+p2*i+a*(p5+p3*i))-t,o-=n=r/(p1+3*p2*i+a*(7*p5+9*p3*i)),a=(i=o*o)*i*i,!(fp(n)<fa));++l);return[p4*e*(p1+3*p2*i+a*(7*p5+9*p3*i))/fm(o),aJ(fw(o)/p4)]}}});function uG(e,t){var n=fm(t),r=fm(e)*n;return[n*fw(e)/r,fw(t)/r]}function uX(){return uc(uG).scale(144.049).clipAngle(60)}var uV=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/gnomonic.js":()=>{aQ(),uj(),uf(),uG.invert=uM(fh)}});function uZ(){var e,t,n,r,o,i,a,l=1,s=0,u=0,c=1,d=1,f=0,p=null,h=1,g=1,m=s6({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),v=pp;function y(){return h=l*c,g=l*d,i=a=null,b}function b(n){var r=n[0]*h,o=n[1]*g;if(f){var i=o*e-r*t;r=r*e+o*t,o=i}return[r+s,o+u]}return b.invert=function(n){var r=n[0]-s,o=n[1]-u;if(f){var i=o*e+r*t;r=r*e-o*t,o=i}return[r/h,o/g]},b.stream=function(e){return i&&a===e?i:i=m(v(a=e))},b.postclip=function(e){return arguments.length?(v=e,p=n=r=o=null,y()):v},b.clipExtent=function(e){return arguments.length?(v=null==e?(p=n=r=o=null,pp):sl(p=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),y()):null==p?null:[[p,n],[r,o]]},b.scale=function(e){return arguments.length?(l=+e,y()):l},b.translate=function(e){return arguments.length?(s=+e[0],u=+e[1],y()):[s,u]},b.angle=function(n){return arguments.length?(t=fw(f=n%360*ff),e=fm(f),y()):f*fd},b.reflectX=function(e){return arguments.length?(c=e?-1:1,y()):c<0},b.reflectY=function(e){return arguments.length?(d=e?-1:1,y()):d<0},b.fitExtent=function(e,t){return un(b,e,t)},b.fitSize=function(e,t){return ur(b,e,t)},b.fitWidth=function(e,t){return uo(b,e,t)},b.fitHeight=function(e,t){return ui(b,e,t)},b}var uK=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/identity.js":()=>{ss(),sN(),ue(),ua(),aQ()}});function uJ(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function uQ(){return uc(uJ).scale(175.295)}var u0=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/naturalEarth1.js":()=>{uf(),aQ(),uJ.invert=function(e,t){var n,r=t,o=25;do{var i=r*r,a=i*i;r-=n=(r*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-t)/(1.007226+i*(.045255+a*(-.311325+.259866*i-.005916*11*a)))}while(fp(n)>fi&&--o>0);return[e/(.8707+(i=r*r)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),r]}}});function u1(e,t){return[fm(t)*fw(e),fw(t)]}function u2(){return uc(u1).scale(249.5).clipAngle(90+fi)}var u5=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/orthographic.js":()=>{aQ(),uj(),uf(),u1.invert=uM(aJ)}});function u3(e,t){var n=fm(t),r=1+fm(e)*n;return[n*fw(e)/r,fw(t)/r]}function u4(){return uc(u3).scale(250).clipAngle(142)}var u8=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/stereographic.js":()=>{aQ(),uj(),uf(),u3.invert=uM(function(e){return 2*fh(e)})}});function u7(e,t){return[fx(fj((fs+t)/2)),-e]}function u6(){var e=uO(u7),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}var u9=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/projection/transverseMercator.js":()=>{aQ(),uN(),u7.invert=function(e,t){return[-t,2*fh(fy(e))-fs]}}}),ce={};j(ce,{geoAlbers:()=>ub,geoAlbersUsa:()=>u_,geoArea:()=>lt,geoAzimuthalEqualArea:()=>uS,geoAzimuthalEqualAreaRaw:()=>pQ,geoAzimuthalEquidistant:()=>u$,geoAzimuthalEquidistantRaw:()=>p0,geoBounds:()=>l_,geoCentroid:()=>lN,geoCircle:()=>lX,geoClipAntimeridian:()=>pt,geoClipCircle:()=>so,geoClipExtent:()=>su,geoClipRectangle:()=>sl,geoConicConformal:()=>uP,geoConicConformalRaw:()=>uL,geoConicEqualArea:()=>uv,geoConicEqualAreaRaw:()=>um,geoConicEquidistant:()=>uq,geoConicEquidistantRaw:()=>uF,geoContains:()=>sM,geoDistance:()=>sv,geoEqualEarth:()=>uU,geoEqualEarthRaw:()=>uH,geoEquirectangular:()=>uI,geoEquirectangularRaw:()=>uR,geoGnomonic:()=>uX,geoGnomonicRaw:()=>uG,geoGraticule:()=>s$,geoGraticule10:()=>sA,geoIdentity:()=>uZ,geoInterpolate:()=>sz,geoLength:()=>sg,geoMercator:()=>uz,geoMercatorRaw:()=>uT,geoNaturalEarth1:()=>uQ,geoNaturalEarth1Raw:()=>uJ,geoOrthographic:()=>u2,geoOrthographicRaw:()=>u1,geoPath:()=>s4,geoProjection:()=>uc,geoProjectionMutator:()=>ud,geoRotation:()=>lH,geoStereographic:()=>u4,geoStereographicRaw:()=>u3,geoStream:()=>a4,geoTransform:()=>s7,geoTransverseMercator:()=>u6,geoTransverseMercatorRaw:()=>u7});var ct=k({"../../node_modules/.pnpm/d3-geo@2.0.2/node_modules/d3-geo/src/index.js":()=>{ln(),lw(),lC(),lV(),sr(),si(),sc(),ss(),sj(),sy(),sT(),sO(),sm(),s8(),ux(),uw(),uE(),uA(),uD(),uy(),uW(),uY(),uB(),uV(),uK(),uf(),uN(),u0(),u5(),u8(),u9(),lU(),a8(),ue()}}),cn=M({"../../node_modules/.pnpm/geo-albers-usa-territories@0.1.0_d3-geo@2.0.2/node_modules/geo-albers-usa-territories/dist/geo-albers-usa-territories.js":(e,t)=>{var n,r;n=e,r=function(e,t){"use strict";e.geoAlbersUsaTerritories=function(){var e,n,r,o,i,a,l,s,u,c=t.geoAlbers(),d=t.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=t.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),p=t.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),h=t.geoConicEqualArea().rotate([-145,0]).center([0,16]).parallels([10,20]),g=t.geoConicEqualArea().rotate([170,0]).center([0,-14]).parallels([-14,0]),m={point:function(e,t){u=[e,t]}};function v(e){var t=e[0],n=e[1];return u=null,r.point(t,n),u||(o.point(t,n),u)||(i.point(t,n),u)||(a.point(t,n),u)||(l.point(t,n),u)||(s.point(t,n),u)}function y(){return e=n=null,v}return v.invert=function(e){var t=c.scale(),n=c.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.225&&r<-.185?d:o>=.166&&o<.234&&r>=-.185&&r<-.08?f:o>=.204&&o<.234&&r>=.3&&r<.38?p:o>=.05&&o<.204&&r>=-.415&&r<-.225?h:o>=.18&&o<.234&&r>=-.415&&r<-.225?g:c).invert(e)},v.stream=function(t){var r;return e&&n===t?e:(r=[c.stream(n=t),d.stream(t),f.stream(t),p.stream(t),h.stream(t),g.stream(t)],e={point(e,t){for(let n of r)n.point(e,t)},sphere(){for(let e of r)e.sphere()},lineStart(){for(let e of r)e.lineStart()},lineEnd(){for(let e of r)e.lineEnd()},polygonStart(){for(let e of r)e.polygonStart()},polygonEnd(){for(let e of r)e.polygonEnd()}})},v.precision=function(e){return arguments.length?(c.precision(e),d.precision(e),f.precision(e),p.precision(e),h.precision(e),g.precision(e),y()):c.precision()},v.scale=function(e){return arguments.length?(c.scale(e),d.scale(.35*e),f.scale(e),p.scale(e),h.scale(e),g.scale(e),v.translate(c.translate())):c.scale()},v.translate=function(e){if(!arguments.length)return c.translate();var t=c.scale(),n=+e[0],u=+e[1];return r=c.translate(e).clipExtent([[n-.455*t,u-.238*t],[n+.455*t,u+.238*t]]).stream(m),o=d.translate([n-.275*t,u+.201*t]).clipExtent([[n-.425*t+1e-6,u+.12*t+1e-6],[n-.185*t-1e-6,u+.234*t-1e-6]]).stream(m),i=f.translate([n-.18*t,u+.212*t]).clipExtent([[n-.185*t+1e-6,u+.166*t+1e-6],[n-.08*t-1e-6,u+.234*t-1e-6]]).stream(m),a=p.translate([n+.335*t,u+.224*t]).clipExtent([[n+.3*t,u+.204*t],[n+.38*t,u+.234*t]]).stream(m),l=h.translate([n-.415*t,u+.14*t]).clipExtent([[n-.45*t,u+.05*t],[n-.39*t,u+.21*t]]).stream(m),s=g.translate([n-.415*t,u+.215*t]).clipExtent([[n-.45*t,u+.21*t],[n-.39*t,u+.234*t]]).stream(m),y()},v.scale(1070)},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof e&&void 0!==t?r(e,(ct(),$(ce))):"function"==typeof define&&define.amd?define(["exports","d3-geo"],r):r((n="undefined"!=typeof globalThis?globalThis:n||self).geoAlbersUsaTerritories={},n.d3)}});function cr(e){return e}function co(e){if(null==e)return cr;var t,n,r=e.scale[0],o=e.scale[1],i=e.translate[0],a=e.translate[1];return function(e,l){l||(t=n=0);var s=2,u=e.length,c=Array(u);for(c[0]=(t+=e[0])*r+i,c[1]=(n+=e[1])*o+a;s<u;)c[s]=e[s],++s;return c}}function ci(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return ca(e,t)})}:ca(e,t)}function ca(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,i=cl(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function cl(e,t){var n=co(e.transform),r=e.arcs;function o(e){return n(e)}function i(e){for(var t=[],o=0,i=e.length;o<i;++o)!function(e,t){t.length&&t.pop();for(var o=r[e<0?~e:e],i=0,a=o.length;i<a;++i)t.push(n(o[i],i));e<0&&function(e,t){for(var n,r=e.length,o=r-t;o<--r;)n=e[o],e[o++]=e[r],e[r]=n}(t,a)}(e[o],t);return t.length<2&&t.push(t[0]),t}function a(e){for(var t=i(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(a)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=i(t.arcs);break;case"MultiLineString":n=t.arcs.map(i);break;case"Polygon":n=l(t.arcs);break;case"MultiPolygon":n=t.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(t)}function cs(e,t,n){var r,o,i;if(arguments.length>1)r=function(e,t,n){var r,o=[],i=[];function a(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function l(e){e.forEach(a)}function s(e){e.forEach(l)}return!function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":l(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":t.arcs.forEach(s)}}(t),i.forEach(null==n?function(e){o.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}(0,t,n);else for(o=0,r=Array(i=e.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:function(e,t){var n={},r={},o={},i=[],a=-1;function l(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach(function(e){n[e<0?~e:e]=1}),i.push(o)}}return t.forEach(function(n,r){var o,i=e.arcs[n<0?~n:n];!(i.length<3)||i[1][0]||i[1][1]||(o=t[++a],t[a]=n,t[r]=o)}),t.forEach(function(t){var n,i,a,l,s,u,c=(n=t,l=(a=e.arcs[n<0?~n:n])[0],e.transform?(i=[0,0],a.forEach(function(e){i[0]+=e[0],i[1]+=e[1]})):i=a[a.length-1],n<0?[i,l]:[l,i]),d=c[0],f=c[1];if(s=o[d])if(delete o[s.end],s.push(t),s.end=f,u=r[f]){delete r[u.start];var p=u===s?s:s.concat(u);r[p.start=s.start]=o[p.end=u.end]=p}else r[s.start]=o[s.end]=s;else if(s=r[f])if(delete r[s.start],s.unshift(t),s.start=d,u=o[d]){delete o[u.end];var h=u===s?s:u.concat(s);r[h.start=u.start]=o[h.end=s.end]=h}else r[s.start]=o[s.end]=s;else r[(s=[t]).start=d]=o[s.end=f]=s}),l(o,r),l(r,o),t.forEach(function(e){n[e<0?~e:e]||i.push([e])}),i}(e,r)}}function cu(e){var t=e[0],n=e[1],r=e[2];return Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))/2}function cc(e,t){return e[1][2]-t[1][2]}function cd(e){return[e[0],e[1],0]}var cf=M({"../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/dayjs.min.js":(e,t)=>{var n,r;n=e,r=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",o="week",i="month",a="quarter",l="year",s="date",u="Invalid Date",c=RegExp("^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$",""),d=RegExp("\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS","g"),f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p="en",h={};h[p]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}};var g="$isDayjsObject",m=function(e){return e instanceof x||!(!e||!e[g])},v=function e(t,n,r){var o;if(!t)return p;if("string"==typeof t){var i=t.toLowerCase();h[i]&&(o=i),n&&(h[i]=n,o=i);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var l=t.name;h[l]=t,o=l}return!r&&o&&(p=o),o||!r&&p},y=function(e,t){if(m(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new x(n)},b={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,i),a=n-o<0,l=t.clone().add(r+(a?-1:1),i);return+(-(r+(n-o)/(a?o-l:l-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return({M:i,y:l,w:o,d:"day",D:s,h:r,m:n,s:t,ms:e,Q:a})[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};b.l=v,b.i=m,b.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function f(e){this.$L=v(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var p=f.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(c);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return b},p.isValid=function(){return this.$d.toString()!==u},p.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return y(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<y(e)},p.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,a){var u=this,c=!!b.u(a)||a,d=b.p(e),f=function(e,t){var n=b.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return c?n:n.endOf("day")},p=function(e,t){return b.w(u.toDate()[e].apply(u.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},h=this.$W,g=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case l:return c?f(1,0):f(31,11);case i:return c?f(1,g):f(0,g+1);case o:var y=this.$locale().weekStart||0,x=(h<y?h+7:h)-y;return f(c?m-x:m+(6-x),g);case"day":case s:return p(v+"Hours",0);case r:return p(v+"Minutes",1);case n:return p(v+"Seconds",2);case t:return p(v+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(o,a){var u,c=b.p(o),d="set"+(this.$u?"UTC":""),f=((u={}).day=d+"Date",u[s]=d+"Date",u[i]=d+"Month",u[l]=d+"FullYear",u[r]=d+"Hours",u[n]=d+"Minutes",u[t]=d+"Seconds",u[e]=d+"Milliseconds",u)[c],p="day"===c?this.$D+(a-this.$W):a;if(c===i||c===l){var h=this.clone().set(s,1);h.$d[f](p),h.init(),this.$d=h.set(s,Math.min(this.$D,h.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[b.p(e)]()},p.add=function(e,a){var s,u=this;e=Number(e);var c=b.p(a),d=function(t){var n=y(u);return b.w(n.date(n.date()+Math.round(t*e)),u)};if(c===i)return this.set(i,this.$M+e);if(c===l)return this.set(l,this.$y+e);if("day"===c)return d(1);if(c===o)return d(7);var f=((s={})[n]=6e4,s[r]=36e5,s[t]=1e3,s)[c]||1,p=this.$d.getTime()+e*f;return b.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=b.z(this),i=this.$H,a=this.$m,l=this.$M,s=n.weekdays,c=n.months,f=n.meridiem,p=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},h=function(e){return b.s(i%12||12,e,"0")},g=f||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return b.s(t.$y,4,"0");case"M":return l+1;case"MM":return b.s(l+1,2,"0");case"MMM":return p(n.monthsShort,l,c,3);case"MMMM":return p(c,l);case"D":return t.$D;case"DD":return b.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(n.weekdaysMin,t.$W,s,2);case"ddd":return p(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(i);case"HH":return b.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return g(i,a,!0);case"A":return g(i,a,!1);case"m":return String(a);case"mm":return b.s(a,2,"0");case"s":return String(t.$s);case"ss":return b.s(t.$s,2,"0");case"SSS":return b.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")})},p.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},p.diff=function(e,s,u){var c,d=this,f=b.p(s),p=y(e),h=(p.utcOffset()-this.utcOffset())*6e4,g=this-p,m=function(){return b.m(d,p)};switch(f){case l:c=m()/12;break;case i:c=m();break;case a:c=m()/3;break;case o:c=(g-h)/6048e5;break;case"day":c=(g-h)/864e5;break;case r:c=g/36e5;break;case n:c=g/6e4;break;case t:c=g/1e3;break;default:c=g}return u?c:b.a(c)},p.daysInMonth=function(){return this.endOf(i).$D},p.$locale=function(){return h[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=v(e,t,!0);return r&&(n.$L=r),n},p.clone=function(){return b.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),_=x.prototype;return y.prototype=_,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W","day"],["$M",i],["$y",l],["$D",s]].forEach(function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e.$i||(e(t,x,y),e.$i=!0),y},y.locale=v,y.isDayjs=m,y.unix=function(e){return y(1e3*e)},y.en=h[p],y.Ls=h,y.p={},y},"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs=r()}}),cp=M({"../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/advancedFormat.js":(e,t)=>{var n,r;n=e,r=function(){return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var o=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(RegExp("\\[([^\\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S","g"),function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return o.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return o.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return o.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return r.bind(this)(i)}}},"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_advancedFormat=r()}}),ch=M({"../../node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/localizedFormat.js":(e,t)=>{var n,r;n=e,r=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var o=n.prototype,i=o.format;r.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n,r,o=this.$locale().formats,a=(n=t,r=void 0===o?{}:o,n.replace(RegExp("(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})","g"),function(t,n,o){var i=o&&o.toUpperCase();return n||r[o]||e[o]||r[i].replace(RegExp("(\\[[^\\]]+])|(MMMM|MM|DD|dddd)","g"),function(e,t,n){return t||n.slice(1)})}));return i.call(this,a)}}},"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs_plugin_localizedFormat=r()}}),cg=function(e,t=null,n=null){if(!t)return e;let r=Array.isArray(t)?t:t.split("."),o=e;for(let e=0;e<r.length&&null!=o;e++)o=o[r[e]];return null==o?n:o},cm=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js":(e,t)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}}),cv=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js":(e,t)=>{t.exports="object"==typeof global&&global&&global.Object===Object&&global}}),cy=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js":(e,t)=>{var n=cv(),r="object"==typeof self&&self&&self.Object===Object&&self;t.exports=n||r||Function("return this")()}}),cb=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js":(e,t)=>{t.exports=cy().Symbol}}),cx=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js":(e,t)=>{var n=cb(),r=Object.prototype,o=r.hasOwnProperty,i=r.toString,a=n?n.toStringTag:void 0;t.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var l=i.call(e);return r&&(t?e[a]=n:delete e[a]),l}}}),c_=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js":(e,t)=>{var n=Object.prototype.toString;t.exports=function(e){return n.call(e)}}}),cw=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js":(e,t)=>{var n=cb(),r=cx(),o=c_(),i=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):o(e)}}}),ck=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js":(e,t)=>{var n=cw(),r=cm();t.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}}}),cM=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js":(e,t)=>{t.exports=cy()["__core-js_shared__"]}}),cj=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js":(e,t)=>{var n,r=cM(),o=(n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(e){return!!o&&o in e}}}),cS=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js":(e,t)=>{var n=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}}}),cE=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js":(e,t)=>{var n=ck(),r=cj(),o=cm(),i=cS(),a=/^\[object .+?Constructor\]$/,l=Object.prototype,s=Function.prototype.toString,u=l.hasOwnProperty,c=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(RegExp("hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])","g"),"$1.*?")+"$");t.exports=function(e){return!(!o(e)||r(e))&&(n(e)?c:a).test(i(e))}}}),c$=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js":(e,t)=>{t.exports=function(e,t){return null==e?void 0:e[t]}}}),cA=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js":(e,t)=>{var n=cE(),r=c$();t.exports=function(e,t){var o=r(e,t);return n(o)?o:void 0}}}),cT=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_defineProperty.js":(e,t)=>{var n=cA();t.exports=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()}}),cz=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignValue.js":(e,t)=>{var n=cT();t.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}}}),cO=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js":(e,t)=>{t.exports=function(e,t){return e===t||e!=e&&t!=t}}}),cN=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignValue.js":(e,t)=>{var n=cz(),r=cO(),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,i){var a=e[t];o.call(e,t)&&r(a,i)&&(void 0!==i||t in e)||n(e,t,i)}}}),cC=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js":(e,t)=>{t.exports=Array.isArray}}),cL=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js":(e,t)=>{t.exports=function(e){return null!=e&&"object"==typeof e}}}),cP=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js":(e,t)=>{var n=cw(),r=cL();t.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}}}),cD=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKey.js":(e,t)=>{var n=cC(),r=cP(),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(e,t){if(n(e))return!1;var a=typeof e;return!!("number"==a||"symbol"==a||"boolean"==a||null==e||r(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}}}),cR=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js":(e,t)=>{t.exports=cA()(Object,"create")}}),cI=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js":(e,t)=>{var n=cR();t.exports=function(){this.__data__=n?n(null):{},this.size=0}}}),cB=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js":(e,t)=>{t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}}}),cF=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js":(e,t)=>{var n=cR(),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(n){var o=t[e];return"__lodash_hash_undefined__"===o?void 0:o}return r.call(t,e)?t[e]:void 0}}}),cq=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js":(e,t)=>{var n=cR(),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}}}),cW=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js":(e,t)=>{var n=cR();t.exports=function(e,t){var r=this.__data__;return this.size+=+!this.has(e),r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}}}),cH=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js":(e,t)=>{var n=cI(),r=cB(),o=cF(),i=cq(),a=cW();function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=a,t.exports=l}}),cU=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js":(e,t)=>{t.exports=function(){this.__data__=[],this.size=0}}}),cY=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js":(e,t)=>{var n=cO();t.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return -1}}}),cG=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js":(e,t)=>{var n=cY(),r=Array.prototype.splice;t.exports=function(e){var t=this.__data__,o=n(t,e);return!(o<0)&&(o==t.length-1?t.pop():r.call(t,o,1),--this.size,!0)}}}),cX=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js":(e,t)=>{var n=cY();t.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}}}),cV=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js":(e,t)=>{var n=cY();t.exports=function(e){return n(this.__data__,e)>-1}}}),cZ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js":(e,t)=>{var n=cY();t.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}}}),cK=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js":(e,t)=>{var n=cU(),r=cG(),o=cX(),i=cV(),a=cZ();function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=a,t.exports=l}}),cJ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js":(e,t)=>{t.exports=cA()(cy(),"Map")}}),cQ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js":(e,t)=>{var n=cH(),r=cK(),o=cJ();t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||r),string:new n}}}}),c0=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js":(e,t)=>{t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}}}),c1=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js":(e,t)=>{var n=c0();t.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}}}),c2=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js":(e,t)=>{var n=c1();t.exports=function(e){var t=n(this,e).delete(e);return this.size-=!!t,t}}}),c5=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js":(e,t)=>{var n=c1();t.exports=function(e){return n(this,e).get(e)}}}),c3=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js":(e,t)=>{var n=c1();t.exports=function(e){return n(this,e).has(e)}}}),c4=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js":(e,t)=>{var n=c1();t.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=+(r.size!=o),this}}}),c8=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js":(e,t)=>{var n=cQ(),r=c2(),o=c5(),i=c3(),a=c4();function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=a,t.exports=l}}),c7=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/memoize.js":(e,t)=>{var n=c8();function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var o=function(){var n=arguments,r=t?t.apply(this,n):n[0],i=o.cache;if(i.has(r))return i.get(r);var a=e.apply(this,n);return o.cache=i.set(r,a)||i,a};return o.cache=new(r.Cache||n),o}r.Cache=n,t.exports=r}}),c6=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_memoizeCapped.js":(e,t)=>{var n=c7();t.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}}}),c9=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringToPath.js":(e,t)=>{var n=c6(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=RegExp("\\\\(\\\\)?","g");t.exports=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t})}}),de=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js":(e,t)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}}}),dt=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseToString.js":(e,t)=>{var n=cb(),r=de(),o=cC(),i=cP(),a=1/0,l=n?n.prototype:void 0,s=l?l.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(i(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}}}),dn=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toString.js":(e,t)=>{var n=dt();t.exports=function(e){return null==e?"":n(e)}}}),dr=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castPath.js":(e,t)=>{var n=cC(),r=cD(),o=c9(),i=dn();t.exports=function(e,t){return n(e)?e:r(e,t)?[e]:o(i(e))}}}),di=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js":(e,t)=>{var n=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var r=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}}}),da=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toKey.js":(e,t)=>{var n=cP(),r=1/0;t.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}}}),dl=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSet.js":(e,t)=>{var n=cN(),r=dr(),o=di(),i=cm(),a=da();t.exports=function(e,t,l,s){if(!i(e))return e;t=r(t,e);for(var u=-1,c=t.length,d=c-1,f=e;null!=f&&++u<c;){var p=a(t[u]),h=l;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(u!=d){var g=f[p];void 0===(h=s?s(g,p,f):void 0)&&(h=i(g)?g:o(t[u+1])?[]:{})}n(f,p,h),f=f[p]}return e}}}),ds=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/setWith.js":(e,t)=>{var n=dl();t.exports=function(e,t,r,o){return o="function"==typeof o?o:void 0,null==e?e:n(e,t,r,o)}}}),du=E(cm(),1),dc=E(ds(),1);let dd=e=>Array.isArray(e);function df(e,t,n){if(!(dd(t)?[...t]:t.split(".")).length)throw Error("Key should not be empty");(0,dc.default)(e,t,n,e=>(0,du.default)(e)?e:{})}var dp=function(e){if(!e||"object"!=typeof e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}};let dh={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};function dg(e){if("string"==typeof e){var t,n={},r=e.split(RegExp("([\\.#])","g"));for(e=r.shift();t=r.shift();)"."==t?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==t&&(n.id=r.shift());return{tag:e,attr:n}}return e}function dm(){return null}let dv=RegExp("^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$","");rC.prototype.translate=function(e,t){var n=this.node();return n?n.getBBox?this.attr("transform",function(n,r){var o="function"==typeof e?e.call(this,n,r):e;return 0===t?o=[o,0]:1===t&&(o=[0,o]),"translate("+o[0]+","+o[1]+")"}):this.style("transform",function(n,r){var o="function"==typeof e?e.call(this,n,r):e;return 0===t?o=[o,0]:1===t&&(o=[0,o]),"translate("+o[0]+"px,"+o[1]+"px)"}):this},rC.prototype.append=function(e){var t,n="function"==typeof e?e:n9((t=dg(e)).tag),r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(t)for(var o in t.attr)r.attr(o,t.attr[o]);return r},rC.prototype.insert=function(e,t){var n=dg(e),r=n9(n.tag),o=null==t?dm:"function"==typeof t?t:rt(t),i=this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)});for(var a in n.attr)i.attr(a,n.attr[a]);return i},rC.prototype.parent=function(){var e=[];return this.filter(function(){return!(e.indexOf(this.parentNode)>-1)&&(e.push(this.parentNode),!0)}).select(function(){return this.parentNode})},rC.prototype.selectAppend=function(e){var t,n=rt(e),r=dg(e);for(var o in e=n9(r.tag),t=this.select(function(){return n.apply(this,arguments)||this.appendChild(e.apply(this,arguments))}),r.attr)t.attr(o,r.attr[o]);return t},rC.prototype.tspans=function(e,t){return this.selectAll("tspan").data(function(t,n){return("function"==typeof e?e.call(this,t,n):e).map(function(e){return{line:e,parent:t}})}).enter().append("tspan").text(function(e){return e.line}).attr("x",0).attr("dy",function(e,n){return n?("function"==typeof t?t.call(this,e.parent,e.line,n):t)||15:0})},rC.prototype.appendMany=function(e,t){if("string"==typeof t){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=t;t=e,e=n}return this.selectAll(null).data(t).enter().append(e)},rC.prototype.at=function(e,t){if("object"!=typeof e)return 1==arguments.length?this.attr(e):this.attr(e,t);for(var n in e)this.attr(dv.test(n)?n:n.replace(RegExp("([a-z\\d])([A-Z])","g"),"$1-$2").toLowerCase(),e[n]);return this},rC.prototype.st=function(e,t){if("object"!=typeof e)return 1==arguments.length?this.style(e):r(this,e,t);for(var n in e)r(this,n,e[n]);return this;function r(e,t,n){var r;return t=t.replace(RegExp("([a-z\\d])([A-Z])","g"),"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(t)?e.style(t,"function"==typeof n?(r=n,function(){var e=r.apply(this,arguments);return o(e)}):o(n)):e.style(t,n),e}function o(e){return e.match?e:e+"px"}},rC.prototype.prop=rC.prototype.property;var dy=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let t=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let o=t[r],i=e+o,a=Math.abs(e)<Math.abs(o)?e-(i-o):o-(i-e);a&&(t[n++]=a),e=i}return t[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,t=this._n,n,r,o,i=0;if(t>0){for(i=e[--t];t>0&&(i=(n=i)+(r=e[--t]),!(o=r-(i-n))););t>0&&(o<0&&e[t-1]<0||o>0&&e[t-1]>0)&&(n=i+(r=2*o),r==n-i&&(i=n))}return i}};function db(e){return Array.from(function*(e){for(let t of e)yield*t}(e))}function dx(e,t,n){e*=1,t*=1,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=Array(o);++r<o;)i[r]=e+r*n;return i}var d_=Math.PI,dk=d_/2,dM=d_/4,dj=2*d_,dS=180/d_,dE=d_/180,d$=Math.abs,dA=Math.atan,dT=Math.atan2,dz=Math.cos,dO=Math.ceil,dN=Math.sin,dC=Math.sign||function(e){return e>0?1:e<0?-1:0},dL=Math.sqrt;function dP(e){return e>1?dk:e<-1?-dk:Math.asin(e)}function dD(){}function dR(e,t){e&&dB.hasOwnProperty(e.type)&&dB[e.type](e,t)}var dI={Feature:function(e,t){dR(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)dR(n[r].geometry,t)}},dB={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){dF(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)dF(n[r],t,0)},Polygon:function(e,t){dq(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)dq(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)dR(n[r],t)}};function dF(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function dq(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)dF(e[n],t,1);t.polygonEnd()}function dW(e,t){e&&dI.hasOwnProperty(e.type)?dI[e.type](e,t):dR(e,t)}function dH(e){return[dT(e[1],e[0]),dP(e[2])]}function dU(e){var t=e[0],n=e[1],r=dz(n);return[r*dz(t),r*dN(t),dN(n)]}function dY(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dG(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function dX(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function dV(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function dZ(e){var t=dL(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function dK(e,t){function n(n,r){return t((n=e(n,r))[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function dJ(e,t){return d$(e)>d_&&(e-=Math.round(e/dj)*dj),[e,t]}function dQ(e){return function(t,n){return d$(t+=e)>d_&&(t-=Math.round(t/dj)*dj),[t,n]}}function d0(e){var t=dQ(e);return t.invert=dQ(-e),t}function d1(e,t){var n=dz(e),r=dN(e),o=dz(t),i=dN(t);function a(e,t){var a=dz(t),l=dz(e)*a,s=dN(e)*a,u=dN(t),c=u*n+l*r;return[dT(s*o-c*i,l*n-u*r),dP(c*o+s*i)]}return a.invert=function(e,t){var a=dz(t),l=dz(e)*a,s=dN(e)*a,u=dN(t),c=u*o-s*i;return[dT(s*o+u*i,l*n+c*r),dP(c*n-l*r)]},a}function d2(e,t){t=dU(t),t[0]-=e,dZ(t);var n,r=(n=-t[1])>1?0:n<-1?d_:Math.acos(n);return((0>-t[2]?-r:r)+dj-1e-6)%dj}function d5(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:dD,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function d3(e,t){return 1e-6>d$(e[0]-t[0])&&1e-6>d$(e[1]-t[1])}function d4(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d8(e,t,n,r,o){var i,a,l=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(d3(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd();return}a[0]+=2e-6}l.push(n=new d4(r,e,null,!0)),s.push(n.o=new d4(r,null,n,!1)),l.push(n=new d4(a,e,null,!1)),s.push(n.o=new d4(a,null,n,!0))}}),l.length){for(s.sort(t),d7(l),d7(s),i=0,a=s.length;i<a;++i)s[i].e=n=!n;for(var u,c,d=l[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;u=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(i=0,a=u.length;i<a;++i)o.point((c=u[i])[0],c[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(p)for(i=(u=f.p.z).length-1;i>=0;--i)o.point((c=u[i])[0],c[1]);else r(f.x,f.p.x,-1,o);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);o.lineEnd()}}}function d7(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function d6(e){return d$(e[0])<=d_?e[0]:dC(e[0])*((d$(e[0])+d_)%dj-d_)}function d9(e,t,n,r){return function(o){var i,a,l,s=t(o),u=d5(),c=t(u),d=!1,f={point:p,lineStart:g,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=b,a=[],i=[]},polygonEnd:function(){f.point=p,f.lineStart=g,f.lineEnd=m,a=db(a);var e=function(e,t){var n=d6(t),r=t[1],o=dN(r),i=[dN(n),-dz(n),0],a=0,l=0,s=new dy;1===o?r=dk+1e-6:-1===o&&(r=-dk-1e-6);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,p=d[f-1],h=d6(p),g=p[1]/2+dM,m=dN(g),v=dz(g),y=0;y<f;++y,h=x,m=w,v=k,p=b){var b=d[y],x=d6(b),_=b[1]/2+dM,w=dN(_),k=dz(_),M=x-h,j=M>=0?1:-1,S=j*M,E=S>d_,$=m*w;if(s.add(dT($*j*dN(S),v*k+$*dz(S))),a+=E?M+j*dj:M,E^h>=n^x>=n){var A=dG(dU(p),dU(b));dZ(A);var T=dG(i,A);dZ(T);var z=(E^M>=0?-1:1)*dP(T[2]);(r>z||r===z&&(A[0]||A[1]))&&(l+=E^M>=0?1:-1)}}return(a<-1e-6||a<1e-6&&s<-1e-12)^1&l}(i,r);a.length?(d||(o.polygonStart(),d=!0),d8(a,ft,e,n,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(t,n){e(t,n)&&o.point(t,n)}function h(e,t){s.point(e,t)}function g(){f.point=h,s.lineStart()}function m(){f.point=p,s.lineEnd()}function v(e,t){l.push([e,t]),c.point(e,t)}function y(){c.lineStart(),l=[]}function b(){v(l[0][0],l[0][1]),c.lineEnd();var e,t,n,r,s=c.clean(),f=u.result(),p=f.length;if(l.pop(),i.push(l),l=null,p){if(1&s){if((t=(n=f[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}return}p>1&&2&s&&f.push(f.pop().concat(f.shift())),a.push(f.filter(fe))}}return f}}function fe(e){return e.length>1}function ft(e,t){return((e=e.x)[0]<0?e[1]-dk-1e-6:dk-e[1])-((t=t.x)[0]<0?t[1]-dk-1e-6:dk-t[1])}dJ.invert=dJ;var fn=d9(function(){return!0},function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var l,s,u,c,d,f,p,h=i>0?d_:-d_,g=d$(i-n);1e-6>d$(g-d_)?(e.point(n,r=(r+a)/2>0?dk:-dk),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(h,r),e.point(i,r),t=0):o!==h&&g>=d_&&(1e-6>d$(n-o)&&(n-=1e-6*o),1e-6>d$(i-h)&&(i-=1e-6*h),l=n,s=r,u=i,c=a,r=d$(p=dN(l-u))>1e-6?dA((dN(s)*(f=dz(c))*dN(u)-dN(c)*(d=dz(s))*dN(l))/(d*f*p)):(s+c)/2,e.point(o,r),e.lineEnd(),e.lineStart(),e.point(h,r),t=0),e.point(n=i,r=a),o=h},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var o;if(null==e)o=n*dk,r.point(-d_,o),r.point(0,o),r.point(d_,o),r.point(d_,0),r.point(d_,-o),r.point(0,-o),r.point(-d_,-o),r.point(-d_,0),r.point(-d_,o);else if(d$(e[0]-t[0])>1e-6){var i=e[0]<t[0]?d_:-d_;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])},[-d_,-dk]);function fr(e,t,n){var r=dx(e,t-1e-6,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function fo(e,t,n){var r=dx(e,t-1e-6,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}var fi,fa,fl,fs,fu,fc,fd,ff,fp,fh,fg,fm,fv,fy,fb,fx,f_,fw,fk,fM,fj,fS,fE,f$,fA,fT,fz,fO,fN,fC,fL,fP,fD,fR,fI,fB,fF,fq,fW,fH,fU,fY,fG,fX,fV,fZ,fK,fJ,fQ,f0,f1,f2,f5,f3,f4,f8,f7,f6,f9,pe,pt,pn,pr,po,pi,pa,pl,ps,pu,pc,pd,pf,pp,ph,pg,pm,pv,py,pb,px,p_,pw,pk,pM,pj,pS,pE,p$,pA,pT,pz,pO,pN,pC,pL,pP,pD,pR,pI,pB,pF,pq,pW,pH,pU,pY,pG,pX,pV,pZ,pK,pJ,pQ,p0,p1,p2,p5,p3,p4,p8,p7,p6,p9,he=e=>e,ht=new dy,hn=new dy,hr={point:dD,lineStart:dD,lineEnd:dD,polygonStart:function(){hr.lineStart=ho,hr.lineEnd=hl},polygonEnd:function(){hr.lineStart=hr.lineEnd=hr.point=dD,ht.add(d$(hn)),hn=new dy},result:function(){var e=ht/2;return ht=new dy,e}};function ho(){hr.point=hi}function hi(e,t){hr.point=ha,p8=p6=e,p7=p9=t}function ha(e,t){hn.add(p9*e-p6*t),p6=e,p9=t}function hl(){ha(p8,p7)}var hs,hu,hc,hd,hf=1/0,hp=1/0,hh=-1/0,hg=hh,hm={point:function(e,t){e<hf&&(hf=e),e>hh&&(hh=e),t<hp&&(hp=t),t>hg&&(hg=t)},lineStart:dD,lineEnd:dD,polygonStart:dD,polygonEnd:dD,result:function(){var e=[[hf,hp],[hh,hg]];return hh=hg=-(hp=hf=1/0),e}},hv=0,hy=0,hb=0,hx=0,h_=0,hw=0,hk=0,hM=0,hj=0,hS={point:hE,lineStart:h$,lineEnd:hz,polygonStart:function(){hS.lineStart=hO,hS.lineEnd=hN},polygonEnd:function(){hS.point=hE,hS.lineStart=h$,hS.lineEnd=hz},result:function(){var e=hj?[hk/hj,hM/hj]:hw?[hx/hw,h_/hw]:hb?[hv/hb,hy/hb]:[NaN,NaN];return hv=hy=hb=hx=h_=hw=hk=hM=hj=0,e}};function hE(e,t){hv+=e,hy+=t,++hb}function h$(){hS.point=hA}function hA(e,t){hS.point=hT,hE(hc=e,hd=t)}function hT(e,t){var n=e-hc,r=t-hd,o=dL(n*n+r*r);hx+=o*(hc+e)/2,h_+=o*(hd+t)/2,hw+=o,hE(hc=e,hd=t)}function hz(){hS.point=hE}function hO(){hS.point=hC}function hN(){hL(hs,hu)}function hC(e,t){hS.point=hL,hE(hs=hc=e,hu=hd=t)}function hL(e,t){var n=e-hc,r=t-hd,o=dL(n*n+r*r);hx+=o*(hc+e)/2,h_+=o*(hd+t)/2,hw+=o,hk+=(o=hd*e-hc*t)*(hc+e),hM+=o*(hd+t),hj+=3*o,hE(hc=e,hd=t)}function hP(e){this._context=e}hP.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,dj)}},result:dD};var hD,hR,hI,hB,hF,hq=new dy,hW={point:dD,lineStart:function(){hW.point=hH},lineEnd:function(){hD&&hU(hR,hI),hW.point=dD},polygonStart:function(){hD=!0},polygonEnd:function(){hD=null},result:function(){var e=+hq;return hq=new dy,e}};function hH(e,t){hW.point=hU,hR=hB=e,hI=hF=t}function hU(e,t){hB-=e,hF-=t,hq.add(dL(hB*hB+hF*hF)),hB=e,hF=t}var hY=class{constructor(e){this._append=null==e?hG:function(e){let r=Math.floor(e);if(!(r>=0))throw RangeError(`invalid digits: ${e}`);if(r>15)return hG;if(r!==t){let e=Math.pow(10,r);t=r,n=function(t){let n=1;this._+=t[0];for(let r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return n}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==r||this._append!==n){let e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,r=e,n=this._append,o=this._,this._=t}this._+=o}}result(){let e=this._;return this._="",e.length?e:null}};function hG(e){let t=1;this._+=e[0];for(let n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function hX(e,t){let n=3,r=4.5,o,i;function a(e){return e&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),dW(e,o(i))),i.result()}return a.area=function(e){return dW(e,o(hr)),hr.result()},a.measure=function(e){return dW(e,o(hW)),hW.result()},a.bounds=function(e){return dW(e,o(hm)),hm.result()},a.centroid=function(e){return dW(e,o(hS)),hS.result()},a.projection=function(t){return arguments.length?(o=null==t?(e=null,he):(e=t).stream,a):e},a.context=function(e){return arguments.length?(i=null==e?(t=null,new hY(n)):new hP(t=e),"function"!=typeof r&&i.pointRadius(r),a):t},a.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(i.pointRadius(+e),+e),a):r},a.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{let t=Math.floor(e);if(!(t>=0))throw RangeError(`invalid digits: ${e}`);n=t}return null===t&&(i=new hY(n)),a},a.projection(e).digits(n).context(t)}function hV(e){return function(t){var n=new hZ;for(var r in e)n[r]=e[r];return n.stream=t,n}}function hZ(){}function hK(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),dW(n,e.stream(hm)),t(hm.result()),null!=r&&e.clipExtent(r),e}function hJ(e,t,n){return hK(e,function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(o-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,l])},n)}hZ.prototype={constructor:hZ,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var hQ=dz(30*dE);function h0(e,t){var n;return+t?function(e,t){function n(r,o,i,a,l,s,u,c,d,f,p,h,g,m){var v=u-r,y=c-o,b=v*v+y*y;if(b>4*t&&g--){var x=a+f,_=l+p,w=s+h,k=dL(x*x+_*_+w*w),M=dP(w/=k),j=1e-6>d$(d$(w)-1)||1e-6>d$(i-d)?(i+d)/2:dT(_,x),S=e(j,M),E=S[0],$=S[1],A=E-r,T=$-o,z=y*A-v*T;(z*z/b>t||d$((v*A+y*T)/b-.5)>.3||a*f+l*p+s*h<hQ)&&(n(r,o,i,a,l,s,E,$,j,x/=k,_/=k,w,g,m),m.point(E,$),n(E,$,j,x,_,w,u,c,d,f,p,h,g,m))}}return function(t){var r,o,i,a,l,s,u,c,d,f,p,h,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=x},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){c=NaN,g.point=y,t.lineStart()}function y(r,o){var i=dU([r,o]),a=e(r,o);n(c,d,u,f,p,h,c=a[0],d=a[1],u=r,f=i[0],p=i[1],h=i[2],16,t),t.point(c,d)}function b(){g.point=m,t.lineEnd()}function x(){v(),g.point=_,g.lineEnd=w}function _(e,t){y(r=e,t),o=c,i=d,a=f,l=p,s=h,g.point=y}function w(){n(c,d,u,f,p,h,o,i,r,a,l,s,16,t),g.lineEnd=b,b()}return g}}(e,t):(n=e,hV({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}}))}var h1=hV({point:function(e,t){this.stream.point(e*dE,t*dE)}});function h2(e,t,n,r,o,i){if(!i){function a(i,a){return[t+e*(i*=r),n-e*(a*=o)]}return a.invert=function(i,a){return[(i-t)/e*r,(n-a)/e*o]},a}var l=dz(i),s=dN(i),u=l*e,c=s*e,d=l/e,f=s/e,p=(s*n-l*t)/e,h=(s*t+l*n)/e;function g(e,i){return[u*(e*=r)-c*(i*=o)+t,n-c*e-u*i]}return g.invert=function(e,t){return[r*(d*e-f*t+p),o*(h-f*e-d*t)]},g}function h5(e){var t,n,r,o,i,a,l,s,u,c,d=150,f=480,p=250,h=0,g=0,m=0,v=0,y=0,b=0,x=1,_=1,w=null,k=fn,M=null,j=he,S=.5;function E(e){return s(e[0]*dE,e[1]*dE)}function $(e){return(e=s.invert(e[0],e[1]))&&[e[0]*dS,e[1]*dS]}function A(){var e,r,o,i=h2(d,0,0,x,_,b).apply(null,t(h,g)),u=h2(d,f-i[0],p-i[1],x,_,b);return e=m,r=v,o=y,n=(e%=dj)?r||o?dK(d0(e),d1(r,o)):d0(e):r||o?d1(r,o):dJ,l=dK(t,u),s=dK(n,l),a=h0(l,S),T()}function T(){return u=c=null,E}return E.stream=function(e){var t;return u&&c===e?u:u=h1((t=n,hV({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}}))(k(a(j(c=e)))))},E.preclip=function(e){return arguments.length?(k=e,w=void 0,T()):k},E.postclip=function(e){return arguments.length?(j=e,M=r=o=i=null,T()):j},E.clipAngle=function(e){return arguments.length?(k=+e?function(e){var t=dz(e),n=2*dE,r=t>0,o=d$(t)>1e-6;function i(e,n){return dz(e)*dz(n)>t}function a(e,n,r){var o=dU(e),i=dU(n),a=[1,0,0],l=dG(o,i),s=dY(l,l),u=l[0],c=s-u*u;if(!c)return!r&&e;var d=dG(a,l),f=dV(a,t*s/c);dX(f,dV(l,-t*u/c));var p=dY(f,d),h=dY(d,d),g=p*p-h*(dY(f,f)-1);if(!(g<0)){var m=dL(g),v=dV(d,(-p-m)/h);if(dX(v,f),v=dH(v),!r)return v;var y,b=e[0],x=n[0],_=e[1],w=n[1];x<b&&(y=b,b=x,x=y);var k=x-b,M=1e-6>d$(k-d_);if(!M&&w<_&&(y=_,_=w,w=y),M||k<1e-6?M?_+w>0^v[1]<(1e-6>d$(v[0]-b)?_:w):_<=v[1]&&v[1]<=w:k>d_^(b<=v[0]&&v[0]<=x)){var j=dV(d,(-p+m)/h);return dX(j,f),[v,dH(j)]}}}function l(t,n){var o=r?e:d_-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return d9(i,function(e){var t,n,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(d,f){var p,h,g=[d,f],m=i(d,f),v=r?m?0:l(d,f):m?l(d+(d<0?d_:-d_),f):0;!t&&(u=s=m)&&e.lineStart(),m!==s&&(!(h=a(t,g))||d3(t,h)||d3(g,h))&&(g[2]=1),m!==s?(c=0,m?(e.lineStart(),h=a(g,t),e.point(h[0],h[1])):(h=a(t,g),e.point(h[0],h[1],2),e.lineEnd()),t=h):o&&t&&r^m&&!(v&n)&&(p=a(g,t,!0))&&(c=0,r?(e.lineStart(),e.point(p[0][0],p[0][1]),e.point(p[1][0],p[1][1]),e.lineEnd()):(e.point(p[1][0],p[1][1]),e.lineEnd(),e.lineStart(),e.point(p[0][0],p[0][1],3))),!m||t&&d3(t,g)||e.point(g[0],g[1]),t=g,s=m,n=v},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return c|(u&&s)<<1}}},function(t,r,o,i){!function(e,t,n,r,o,i){if(n){var a=dz(t),l=dN(t),s=r*n;null==o?(o=t+r*dj,i=t-s/2):(o=d2(a,o),i=d2(a,i),(r>0?o<i:o>i)&&(o+=r*dj));for(var u,c=o;r>0?c>i:c<i;c-=s)u=dH([a,-l*dz(c),-l*dN(c)]),e.point(u[0],u[1])}}(i,e,n,o,t,r)},r?[0,-e]:[-d_,e-d_])}(w=e*dE):(w=null,fn),T()):w*dS},E.clipExtent=function(e){return arguments.length?(j=null==e?(M=r=o=i=null,he):function(e,t,n,r){function o(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function i(o,i,l,u){var c=0,d=0;if(null==o||(c=a(o,l))!==(d=a(i,l))||0>s(o,i)^l>0)do u.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+l+4)%4)!==d);else u.point(i[0],i[1])}function a(r,o){return 1e-6>d$(r[0]-e)?o>0?0:3:1e-6>d$(r[0]-n)?o>0?2:1:1e-6>d$(r[1]-t)?+(o>0):o>0?3:2}function l(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,u,c,d,f,p,h,g,m,v,y,b=a,x=d5(),_={point:w,lineStart:function(){_.point=k,u&&u.push(c=[]),v=!0,m=!1,h=g=NaN},lineEnd:function(){s&&(k(d,f),p&&m&&x.rejoin(),s.push(x.result())),_.point=w,m&&b.lineEnd()},polygonStart:function(){b=x,s=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,o=u.length;n<o;++n)for(var i,a,l=u[n],s=1,c=l.length,d=l[0],f=d[0],p=d[1];s<c;++s)i=f,a=p,f=(d=l[s])[0],p=d[1],a<=r?p>r&&(f-i)*(r-a)>(p-a)*(e-i)&&++t:p<=r&&(f-i)*(r-a)<(p-a)*(e-i)&&--t;return t}(),n=y&&t,o=(s=db(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&d8(s,l,t,i,a),a.polygonEnd()),b=a,s=u=c=null}};function w(e,t){o(e,t)&&b.point(e,t)}function k(i,a){var l=o(i,a);if(u&&c.push([i,a]),v)d=i,f=a,p=l,v=!1,l&&(b.lineStart(),b.point(i,a));else if(l&&m)b.point(i,a);else{var s=[h=Math.max(-1e9,Math.min(1e9,h)),g=Math.max(-1e9,Math.min(1e9,g))],x=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,r,o,i){var a,l=e[0],s=e[1],u=t[0],c=t[1],d=0,f=1,p=u-l,h=c-s;if(a=n-l,!p&&a>0)return;if(a/=p,p<0){if(a<d)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<f&&(f=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}return d>0&&(e[0]=l+d*p,e[1]=s+d*h),f<1&&(t[0]=l+f*p,t[1]=s+f*h),!0}}}}(s,x,e,t,n,r)?l&&(b.lineStart(),b.point(i,a),y=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),l||b.lineEnd(),y=!1)}h=i,g=a,m=l}return _}}(M=+e[0][0],r=+e[0][1],o=+e[1][0],i=+e[1][1]),T()):null==M?null:[[M,r],[o,i]]},E.scale=function(e){return arguments.length?(d=+e,A()):d},E.translate=function(e){return arguments.length?(f=+e[0],p=+e[1],A()):[f,p]},E.center=function(e){return arguments.length?(h=e[0]%360*dE,g=e[1]%360*dE,A()):[h*dS,g*dS]},E.rotate=function(e){return arguments.length?(m=e[0]%360*dE,v=e[1]%360*dE,y=e.length>2?e[2]%360*dE:0,A()):[m*dS,v*dS,y*dS]},E.angle=function(e){return arguments.length?(b=e%360*dE,A()):b*dS},E.reflectX=function(e){return arguments.length?(x=e?-1:1,A()):x<0},E.reflectY=function(e){return arguments.length?(_=e?-1:1,A()):_<0},E.precision=function(e){return arguments.length?(a=h0(l,S=e*e),T()):dL(S)},E.fitExtent=function(e,t){return hJ(E,e,t)},E.fitSize=function(e,t){return hJ(E,[[0,0],e],t)},E.fitWidth=function(e,t){return hK(E,function(t){var n=+e,r=n/(t[1][0]-t[0][0]),o=(n-r*(t[1][0]+t[0][0]))/2,i=-r*t[0][1];E.scale(150*r).translate([o,i])},t)},E.fitHeight=function(e,t){return hK(E,function(t){var n=+e,r=n/(t[1][1]-t[0][1]),o=-r*t[0][0],i=(n-r*(t[1][1]+t[0][1]))/2;E.scale(150*r).translate([o,i])},t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&$,A()}}var h3=(l=function(e){return dL(2/(1+e))},function(e,t){var n=dz(e),r=dz(t),o=l(n*r);return o===1/0?[2,0]:[o*r*dN(e),o*dN(t)]});h3.invert=function(e,t){var n=dL(e*e+t*t),r=function(e){return 2*dP(e/2)}(n),o=dN(r);return[dT(e*o,n*dz(r)),dP(n&&t*o/n)]};var h4=Math.atan2,h8=Math.cos,h7=Math.sin,h6=Math.PI,h9=h6/2;gn(2),gn(h6);var ge=180/h6,gt=h6/180;function gn(e){return e>0?Math.sqrt(e):0}function gr(e,t){var n=function(e){function t(t,n){var r=h8(n),o=(e-1)/(e-r*h8(t));return[o*r*h7(t),o*h7(n)]}return t.invert=function(t,n){var r,o=t*t+n*n,i=gn(o),a=(e-gn(1-o*(e+1)/(e-1)))/((e-1)/i+i/(e-1));return[h4(t*a,i*gn(1-a*a)),i?(r=n*a/i)>1?h9:r<-1?-h9:Math.asin(r):0]},t}(e);if(!t)return n;var r=h8(t),o=h7(t);function i(t,i){var a=n(t,i),l=a[1],s=l*o/(e-1)+r;return[a[0]*r/s,l/s]}return i.invert=function(t,i){var a=(e-1)/(e-1-i*o);return n.invert(a*t,a*i*r)},i}function go(e,t){t=Object.assign({dx:0,dy:0,blur:3,strength:0,knockout:!1,alpha:.2,color:[0,0,0],outline:!1},t);let n=e.node();for(;"svg"!==n.nodeName;)n=n.parentNode;let r=rL(n),o=r.select("defs");o.node()||(o=r.append("defs"));let i=`filter-${(1e9*Math.random()).toFixed()}`,a=o.append(`filter#${i}`);a.append("feOffset").at({in:"SourceAlpha",dx:t.dx,dy:t.dy,result:"shadow"});let l=t.color;a.append("feColorMatrix").at({in:"shadow",type:"matrix",values:[0,0,0,0,l[0]/255,0,0,0,0,l[1]/255,0,0,0,0,l[2]/255,0,0,0,t.alpha,0].join(" "),result:"shadow"}),t.strength>0&&a.append("feMorphology").at({in:"shadow",radius:t.strength,operator:"dilate",result:"shadow"}),t.blur>0&&a.append("feGaussianBlur").at({in:"shadow",result:"shadow"}).attr("stdDeviation",t.blur),t.outline?(a.append("feColorMatrix").at({in:"SourceAlpha",type:"matrix",values:[0,0,0,0,l[0]/255,0,0,0,0,l[1]/255,0,0,0,0,l[2]/255,0,0,0,.4,0].join(" "),result:"outline"}),a.append("feMorphology").at({in:"outline",radius:1,operator:"dilate",result:"outline"}),a.append("feBlend").at({in:"SourceGraphic",in2:"outline",result:"sourceOutline",mode:"normal"}),a.append("feBlend").at({in:"sourceOutline",in2:"shadow",mode:"normal"})):a.append("feBlend").at({in:"SourceGraphic",in2:"shadow",mode:"normal"}),e.attr("filter",`url(#${i})`)}function gi(e){return e.push(e[0]),{type:"Feature",geometry:{type:"Polygon",coordinates:[e.map(e=>[e.lng,e.lat])]}}}let ga=Math.PI,gl=2*ga,gs=gl-1e-6;function gu(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}var gc=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?gu:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return gu;let n=Math.pow(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,o,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,r,o){if(e*=1,t*=1,n*=1,r*=1,(o*=1)<0)throw Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,l=n-e,s=r-t,u=i-e,c=a-t,d=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>1e-6)if(Math.abs(c*l-s*u)>1e-6&&o){let f=n-i,p=r-a,h=l*l+s*s,g=Math.sqrt(h),m=Math.sqrt(d),v=o*Math.tan((ga-Math.acos((h+d-(f*f+p*p))/(2*g*m)))/2),y=v/m,b=v/g;Math.abs(y-1)>1e-6&&this._append`L${e+y*u},${t+y*c}`,this._append`A${o},${o},0,0,${+(c*f>u*p)},${this._x1=e+b*l},${this._y1=t+b*s}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,o,i){if(e*=1,t*=1,n*=1,i=!!i,n<0)throw Error(`negative radius: ${n}`);let a=n*Math.cos(r),l=n*Math.sin(r),s=e+a,u=t+l,c=1^i,d=i?r-o:o-r;null===this._x1?this._append`M${s},${u}`:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&this._append`L${s},${u}`,n&&(d<0&&(d=d%gl+gl),d>gs?this._append`A${n},${n},0,1,${c},${e-a},${t-l}A${n},${n},0,1,${c},${this._x1=s},${this._y1=u}`:d>1e-6&&this._append`A${n},${n},0,${+(d>=ga)},${c},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n*=1}v${+r}h${-n}Z`}toString(){return this._}};function gd(){return new gc}gd.prototype=gc.prototype;var gf=M({"../../node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/dist/purify.cjs.js":(e,t)=>{let{entries:n,setPrototypeOf:r,isFrozen:o,getPrototypeOf:i,getOwnPropertyDescriptor:a}=Object,{freeze:l,seal:s,create:u}=Object,{apply:c,construct:d}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),s||(s=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),d||(d=function(e,t){return new e(...t)});let f=S(Array.prototype.forEach),p=S(Array.prototype.lastIndexOf),h=S(Array.prototype.pop),g=S(Array.prototype.push),m=S(Array.prototype.splice),v=S(String.prototype.toLowerCase),y=S(String.prototype.toString),b=S(String.prototype.match),x=S(String.prototype.replace),_=S(String.prototype.indexOf),w=S(String.prototype.trim),k=S(Object.prototype.hasOwnProperty),M=S(RegExp.prototype.test),j=(Z=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(Z,t)});function S(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return c(e,t,r)}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;r&&r(e,null);let i=t.length;for(;i--;){let r=t[i];if("string"==typeof r){let e=n(r);e!==r&&(o(t)||(t[i]=e),r=e)}e[r]=!0}return e}function $(e){let t=u(null);for(let[r,o]of n(e))k(e,r)&&(Array.isArray(o)?t[r]=function(e){for(let t=0;t<e.length;t++)k(e,t)||(e[t]=null);return e}(o):o&&"object"==typeof o&&o.constructor===Object?t[r]=$(o):t[r]=o);return t}function A(e,t){for(;null!==e;){let n=a(e,t);if(n){if(n.get)return S(n.get);if("function"==typeof n.value)return S(n.value)}e=i(e)}return function(){return null}}let T=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),C=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=l(["#text"]),D=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),R=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=s(/<%[\w\W]*|[\w\W]*%>/gm),W=s(/\$\{[\w\W]*/gm),H=s(/^data-[\-\w.\u00B7-\uFFFF]+$/),U=s(/^aria-[\-\w]+$/),Y=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=s(/^(?:\w+script|data):/i),X=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),V=s(/^html$/i);var Z,K=Object.freeze({__proto__:null,ARIA_ATTR:U,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:s(RegExp("^[a-z][.\\w]*(-[.\\w]+)+$","i")),DATA_ATTR:H,DOCTYPE_NAME:V,ERB_EXPR:q,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:G,MUSTACHE_EXPR:F,TMPLIT_EXPR:W});let J={element:1,text:3,progressingInstruction:7,comment:8,document:9},Q=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}},ee=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};t.exports=function e(){let t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,o=t=>e(t);if(o.version="3.2.6",o.removed=[],!r||!r.document||r.document.nodeType!==J.document||!r.Element)return o.isSupported=!1,o;let{document:i}=r,a=i,s=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:d,Node:S,Element:F,NodeFilter:q,NamedNodeMap:W=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:H,DOMParser:U,trustedTypes:G}=r,X=F.prototype,Z=A(X,"cloneNode"),et=A(X,"remove"),en=A(X,"nextSibling"),er=A(X,"childNodes"),eo=A(X,"parentNode");if("function"==typeof d){let e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ei="",{implementation:ea,createNodeIterator:el,createDocumentFragment:es,getElementsByTagName:eu}=i,{importNode:ec}=a,ed=ee();o.isSupported="function"==typeof n&&"function"==typeof eo&&ea&&void 0!==ea.createHTMLDocument;let{MUSTACHE_EXPR:ef,ERB_EXPR:ep,TMPLIT_EXPR:eh,DATA_ATTR:eg,ARIA_ATTR:em,IS_SCRIPT_OR_DATA:ev,ATTR_WHITESPACE:ey,CUSTOM_ELEMENT:eb}=K,{IS_ALLOWED_URI:ex}=K,e_=null,ew=E({},[...T,...z,...O,...C,...P]),ek=null,eM=E({},[...D,...R,...I,...B]),ej=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eS=null,eE=null,e$=!0,eA=!0,eT=!1,ez=!0,eO=!1,eN=!0,eC=!1,eL=!1,eP=!1,eD=!1,eR=!1,eI=!1,eB=!0,eF=!1,eq=!0,eW=!1,eH={},eU=null,eY=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eG=null,eX=E({},["audio","video","img","source","image","track"]),eV=null,eZ=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eK="http://www.w3.org/1998/Math/MathML",eJ="http://www.w3.org/2000/svg",eQ="http://www.w3.org/1999/xhtml",e0=eQ,e1=!1,e2=null,e5=E({},[eK,eJ,eQ],y),e3=E({},["mi","mo","mn","ms","mtext"]),e4=E({},["annotation-xml"]),e8=E({},["title","style","font","a","script"]),e7=null,e6=["application/xhtml+xml","text/html"],e9=null,te=null,tt=i.createElement("form"),tn=function(e){return e instanceof RegExp||e instanceof Function},tr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!te||te!==e){if(e&&"object"==typeof e||(e={}),e=$(e),e9="application/xhtml+xml"===(e7=-1===e6.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?y:v,e_=k(e,"ALLOWED_TAGS")?E({},e.ALLOWED_TAGS,e9):ew,ek=k(e,"ALLOWED_ATTR")?E({},e.ALLOWED_ATTR,e9):eM,e2=k(e,"ALLOWED_NAMESPACES")?E({},e.ALLOWED_NAMESPACES,y):e5,eV=k(e,"ADD_URI_SAFE_ATTR")?E($(eZ),e.ADD_URI_SAFE_ATTR,e9):eZ,eG=k(e,"ADD_DATA_URI_TAGS")?E($(eX),e.ADD_DATA_URI_TAGS,e9):eX,eU=k(e,"FORBID_CONTENTS")?E({},e.FORBID_CONTENTS,e9):eY,eS=k(e,"FORBID_TAGS")?E({},e.FORBID_TAGS,e9):$({}),eE=k(e,"FORBID_ATTR")?E({},e.FORBID_ATTR,e9):$({}),eH=!!k(e,"USE_PROFILES")&&e.USE_PROFILES,e$=!1!==e.ALLOW_ARIA_ATTR,eA=!1!==e.ALLOW_DATA_ATTR,eT=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ez=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,eO=e.SAFE_FOR_TEMPLATES||!1,eN=!1!==e.SAFE_FOR_XML,eC=e.WHOLE_DOCUMENT||!1,eD=e.RETURN_DOM||!1,eR=e.RETURN_DOM_FRAGMENT||!1,eI=e.RETURN_TRUSTED_TYPE||!1,eP=e.FORCE_BODY||!1,eB=!1!==e.SANITIZE_DOM,eF=e.SANITIZE_NAMED_PROPS||!1,eq=!1!==e.KEEP_CONTENT,eW=e.IN_PLACE||!1,ex=e.ALLOWED_URI_REGEXP||Y,e0=e.NAMESPACE||eQ,e3=e.MATHML_TEXT_INTEGRATION_POINTS||e3,e4=e.HTML_INTEGRATION_POINTS||e4,ej=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ej.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ej.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ej.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eO&&(eA=!1),eR&&(eD=!0),eH&&(e_=E({},P),ek=[],!0===eH.html&&(E(e_,T),E(ek,D)),!0===eH.svg&&(E(e_,z),E(ek,R),E(ek,B)),!0===eH.svgFilters&&(E(e_,O),E(ek,R),E(ek,B)),!0===eH.mathMl&&(E(e_,C),E(ek,I),E(ek,B))),e.ADD_TAGS&&(e_===ew&&(e_=$(e_)),E(e_,e.ADD_TAGS,e9)),e.ADD_ATTR&&(ek===eM&&(ek=$(ek)),E(ek,e.ADD_ATTR,e9)),e.ADD_URI_SAFE_ATTR&&E(eV,e.ADD_URI_SAFE_ATTR,e9),e.FORBID_CONTENTS&&(eU===eY&&(eU=$(eU)),E(eU,e.FORBID_CONTENTS,e9)),eq&&(e_["#text"]=!0),eC&&E(e_,["html","head","body"]),e_.table&&(E(e_,["tbody"]),delete eS.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw j('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw j('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ei=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=Q(G,s)),null!==t&&"string"==typeof ei&&(ei=t.createHTML(""));l&&l(e),te=e}},to=E({},[...z,...O,...N]),ti=E({},[...C,...L]),ta=function(e){let t=eo(e);t&&t.tagName||(t={namespaceURI:e0,tagName:"template"});let n=v(e.tagName),r=v(t.tagName);return!!e2[e.namespaceURI]&&(e.namespaceURI===eJ?t.namespaceURI===eQ?"svg"===n:t.namespaceURI===eK?"svg"===n&&("annotation-xml"===r||e3[r]):!!to[n]:e.namespaceURI===eK?t.namespaceURI===eQ?"math"===n:t.namespaceURI===eJ?"math"===n&&e4[r]:!!ti[n]:e.namespaceURI===eQ?(t.namespaceURI!==eJ||!!e4[r])&&(t.namespaceURI!==eK||!!e3[r])&&!ti[n]&&(e8[n]||!to[n]):"application/xhtml+xml"===e7&&!!e2[e.namespaceURI])},tl=function(e){g(o.removed,{element:e});try{eo(e).removeChild(e)}catch(t){et(e)}},ts=function(e,t){try{g(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(eD||eR)try{tl(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},tu=function(e){let n=null,r=null;if(eP)e="<remove></remove>"+e;else{let t=b(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===e7&&e0===eQ&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let o=t?t.createHTML(e):e;if(e0===eQ)try{n=new U().parseFromString(o,e7)}catch(e){}if(!n||!n.documentElement){n=ea.createDocument(e0,"template",null);try{n.documentElement.innerHTML=e1?ei:o}catch(e){}}let a=n.body||n.documentElement;return(e&&r&&a.insertBefore(i.createTextNode(r),a.childNodes[0]||null),e0===eQ)?eu.call(n,eC?"html":"body")[0]:eC?n.documentElement:a},tc=function(e){return el.call(e.ownerDocument||e,e,q.SHOW_ELEMENT|q.SHOW_COMMENT|q.SHOW_TEXT|q.SHOW_PROCESSING_INSTRUCTION|q.SHOW_CDATA_SECTION,null)},td=function(e){return e instanceof H&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof W)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},tf=function(e){return"function"==typeof S&&e instanceof S};function tp(e,t,n){f(e,e=>{e.call(o,t,n,te)})}let th=function(e){let t=null;if(tp(ed.beforeSanitizeElements,e,null),td(e))return tl(e),!0;let n=e9(e.nodeName);if(tp(ed.uponSanitizeElement,e,{tagName:n,allowedTags:e_}),eN&&e.hasChildNodes()&&!tf(e.firstElementChild)&&M(/<[/\w!]/g,e.innerHTML)&&M(/<[/\w!]/g,e.textContent)||e.nodeType===J.progressingInstruction||eN&&e.nodeType===J.comment&&M(/<[/\w]/g,e.data))return tl(e),!0;if(!e_[n]||eS[n]){if(!eS[n]&&tm(n)&&(ej.tagNameCheck instanceof RegExp&&M(ej.tagNameCheck,n)||ej.tagNameCheck instanceof Function&&ej.tagNameCheck(n)))return!1;if(eq&&!eU[n]){let t=eo(e)||e.parentNode,n=er(e)||e.childNodes;if(n&&t){let r=n.length;for(let o=r-1;o>=0;--o){let r=Z(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,en(e))}}}return tl(e),!0}return e instanceof F&&!ta(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&M(RegExp("<\\/no(script|embed|frames)","i"),e.innerHTML)?(tl(e),!0):(eO&&e.nodeType===J.text&&(t=e.textContent,f([ef,ep,eh],e=>{t=x(t,e," ")}),e.textContent!==t&&(g(o.removed,{element:e.cloneNode()}),e.textContent=t)),tp(ed.afterSanitizeElements,e,null),!1)},tg=function(e,t,n){if(eB&&("id"===t||"name"===t)&&(n in i||n in tt))return!1;if(eA&&!eE[t]&&M(eg,t));else if(e$&&M(em,t));else if(!ek[t]||eE[t]){if(!(tm(e)&&(ej.tagNameCheck instanceof RegExp&&M(ej.tagNameCheck,e)||ej.tagNameCheck instanceof Function&&ej.tagNameCheck(e))&&(ej.attributeNameCheck instanceof RegExp&&M(ej.attributeNameCheck,t)||ej.attributeNameCheck instanceof Function&&ej.attributeNameCheck(t))||"is"===t&&ej.allowCustomizedBuiltInElements&&(ej.tagNameCheck instanceof RegExp&&M(ej.tagNameCheck,n)||ej.tagNameCheck instanceof Function&&ej.tagNameCheck(n))))return!1}else if(eV[t]);else if(M(ex,x(n,ey,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===_(n,"data:")&&eG[e]);else if(eT&&!M(ev,x(n,ey,"")));else if(n)return!1;return!0},tm=function(e){return"annotation-xml"!==e&&b(e,eb)},tv=function(e){tp(ed.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||td(e))return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ek,forceKeepAttr:void 0},i=n.length;for(;i--;){let{name:a,namespaceURI:l,value:s}=n[i],u=e9(a),c="value"===a?s:w(s);if(r.attrName=u,r.attrValue=c,r.keepAttr=!0,r.forceKeepAttr=void 0,tp(ed.uponSanitizeAttribute,e,r),c=r.attrValue,eF&&("id"===u||"name"===u)&&(ts(a,e),c="user-content-"+c),eN&&M(RegExp("((--!?|])>)|<\\/(style|title)","i"),c)){ts(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr||!ez&&M(/\/>/i,c)){ts(a,e);continue}eO&&f([ef,ep,eh],e=>{c=x(c,e," ")});let d=e9(e.nodeName);if(!tg(d,u,c)){ts(a,e);continue}if(t&&"object"==typeof G&&"function"==typeof G.getAttributeType)if(l);else switch(G.getAttributeType(d,u)){case"TrustedHTML":c=t.createHTML(c);break;case"TrustedScriptURL":c=t.createScriptURL(c)}if(c!==s)try{l?e.setAttributeNS(l,a,c):e.setAttribute(a,c),td(e)?tl(e):h(o.removed)}catch(t){ts(a,e)}}tp(ed.afterSanitizeAttributes,e,null)},ty=function e(t){let n=null,r=tc(t);for(tp(ed.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)tp(ed.uponSanitizeShadowNode,n,null),th(n),tv(n),n.content instanceof c&&e(n.content);tp(ed.afterSanitizeShadowDOM,t,null)};return o.sanitize=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,l=null,s=null;if((e1=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!tf(e))if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw j("dirty is not a string, aborting")}else throw j("toString is not a function");if(!o.isSupported)return e;if(eL||tr(n),o.removed=[],"string"==typeof e&&(eW=!1),eW){if(e.nodeName){let t=e9(e.nodeName);if(!e_[t]||eS[t])throw j("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof S)(i=(r=tu("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType===J.element&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!eD&&!eO&&!eC&&-1===e.indexOf("<"))return t&&eI?t.createHTML(e):e;if(!(r=tu(e)))return eD?null:eI?ei:""}r&&eP&&tl(r.firstChild);let u=tc(eW?e:r);for(;l=u.nextNode();)th(l),tv(l),l.content instanceof c&&ty(l.content);if(eW)return e;if(eD){if(eR)for(s=es.call(r.ownerDocument);r.firstChild;)s.appendChild(r.firstChild);else s=r;return(ek.shadowroot||ek.shadowrootmode)&&(s=ec.call(a,s,!0)),s}let d=eC?r.outerHTML:r.innerHTML;return eC&&e_["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&M(V,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),eO&&f([ef,ep,eh],e=>{d=x(d,e," ")}),t&&eI?t.createHTML(d):d},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tr(e),eL=!0},o.clearConfig=function(){te=null,eL=!1},o.isValidAttribute=function(e,t,n){return te||tr({}),tg(e9(e),e9(t),n)},o.addHook=function(e,t){"function"==typeof t&&g(ed[e],t)},o.removeHook=function(e,t){if(void 0!==t){let n=p(ed[e],t);return -1===n?void 0:m(ed[e],n,1)[0]}return h(ed[e])},o.removeHooks=function(e){ed[e]=[]},o.removeAllHooks=function(){ed=ee()},o}()}}),gp=M({"../../node_modules/.pnpm/isomorphic-dompurify@2.25.0/node_modules/isomorphic-dompurify/browser.js":(e,t)=>{t.exports=window.DOMPurify||(window.DOMPurify=gf().default||gf())}});let gh=(e,t,{maxsize:n}={})=>{let r=new Map;return{get:(o,i=!1)=>{if(i&&1===r.size)return r.values().next().value;let a=e(o);if(r.has(a))return r.get(a);let l=t(o);return n&&r.size>=n&&(r=new Map),r.set(a,l),l}}},gg=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt","bdi"].sort(),gm=gh(e=>e.version,e=>gh(e=>String(e),t=>(e.removeHook("afterSanitizeElements"),t||e.addHook("afterSanitizeElements",function(e){var t;if("a"===e.nodeName.toLowerCase()){"_self"!==e.getAttribute("target")&&e.setAttribute("target","_blank");let n=null==(t=e.getAttribute("rel"))?void 0:t.includes("noreferrer");e.setAttribute("rel","nofollow noopener"+(n?" noreferrer":""))}}),gh(e=>String(e),t=>{let n={ALLOWED_TAGS:void 0===t?gg:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return gh(e=>e,t=>e.sanitize(t,n),{maxsize:1e5})},{maxsize:1e5}))));var gv=E(gp(),1),gy=function(e,t,n={}){var r,o;return(o=gv.default,function(e,t,n){return e?gm.get(o,!0).get(n).get(t).get(e):e})(e,t,null!=(r=n.trustLinks)&&r)},gb=M({"../../node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js":(e,t)=>{var n=function(e){var t,n,o;return!!(t=e)&&"object"==typeof t&&(n=e,"[object RegExp]"!==(o=Object.prototype.toString.call(n))&&"[object Date]"!==o&&n.$$typeof!==r)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s(Array.isArray(e)?[]:{},e,t):e}function i(e,t,n){return e.concat(t).map(function(e){return o(e,n)})}function a(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function l(e,t){try{return t in e}catch(e){return!1}}function s(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||i,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=o;var u,c,d=Array.isArray(t);return d!==Array.isArray(e)?o(t,r):d?r.arrayMerge(e,t,r):(c={},(u=r).isMergeableObject(e)&&a(e).forEach(function(t){c[t]=o(e[t],u)}),a(t).forEach(function(n){l(e,n)&&!(Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))||(l(e,n)&&u.isMergeableObject(t[n])?c[n]=(function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s})(n,u)(e[n],t[n],u):c[n]=o(t[n],u))}),c)}s.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,n){return s(e,n,t)},{})},t.exports=s}}),gx=E(gb(),1);let g_=(e,t)=>t,gw=e=>({inBox:!1,globe:{globeOutline:{width:2,strokeDashArray:!1,color:e?"#323232":"#ffffff"},landOutline:{width:.5,strokeDashArray:!1,color:null},graticule:{width:.5,strokeDashArray:!1,color:e?"#4b4b4b":"#dedede"},outerBlur:!0,land:e?"#565656":"#d7d7d7",water:e?"#000000":"#ffffff",background:e?"#000000":"#00000055"},region:{outerBlur:!0,outline:{width:.7,strokeDashArray:!1},land:e?"#555555":"#ffffff",landOutline:e?"#000000":"#494949"},view:{strokeWidth:2,strokeDashArray:!1,color:e?"#c91e1e":"#d00"},label:{color:"#bababa",fontSize:!1,letterSpacing:1,lineHeight:1.2,fontWeight:!1,textTransform:!1,typeface:"inherit"},padding:{"bottom-right":"30px 15px 15px 15px","bottom-left":"15px 30px 15px 15px","top-right":"15px 15px 15px 30px","top-left":"15px 30px 15px 15px"}});var gk=E(gb(),1);let gM=(e,t)=>t;function gj(){let e=window.getSelection();e&&e.removeAllRanges()}function gS({type:e,bounds:t,start:n,end:r,newStart:o,newEnd:i}){let a="x"===e?t.x:t.y,l="x"===e?t.x+t.width:t.y+t.height;return o>=a&&i<=l||i>l&&i<r||o<a&&o>n}function gE(){let{results:e}=window.parent.dw.backend.hooks.call("get-annotation-controls");if(e&&e.length)return e[e.length-1]}"undefined"!=typeof window&&(null!=(c=(u=null!=(f=(d=window).__svelte)?f:d.__svelte={}).v)?c:u.v=new Set).add("5"),et=!0;var g$=tK('<div><div class="resizer-inner svelte-gqfmpf"></div></div>'),gA=tK('<div class="resizers svelte-gqfmpf"></div>');let gT={hash:"svelte-gqfmpf",code:".resizers.svelte-gqfmpf {width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none;}.resizer.svelte-gqfmpf {position:absolute;display:flex;align-items:center;justify-content:center;pointer-events:auto;}.resizer.x.svelte-gqfmpf {top:0;width:5px;height:100%;cursor:ew-resize;}.resizer.y.svelte-gqfmpf {height:5px;width:100%;left:0;cursor:ns-resize;}.resizer.drag.svelte-gqfmpf {cursor:grab;}.resizer.drag.svelte-gqfmpf:active {cursor:grabbing;}.resizer-inner.svelte-gqfmpf {position:absolute;border-radius:2px;background:rgba(255, 0, 221, 0.35);opacity:0;transition:opacity 0.2s;}.resizer.x.svelte-gqfmpf .resizer-inner:where(.svelte-gqfmpf) {width:5px;height:50%;min-height:10px;max-height:40px;}.resizer.y.svelte-gqfmpf .resizer-inner:where(.svelte-gqfmpf) {height:5px;width:50%;min-width:10px;max-width:40px;}.text:hover .resizer-inner.svelte-gqfmpf,\n    .range-annotation:hover .resizer-inner.svelte-gqfmpf {opacity:1;}"};function gz(e,t){el(t,!1),nm(e,gT);let n=eS(),r=eS(),o=eS(),i=n5(t,"annotation",8),a=n5(t,"type",8),l=n5(t,"index",8),s=n5(t,"repeatedIndex",8),u=n5(t,"activeResizer",12),c=n5(t,"resizing",12,!1),d=n5(t,"noOffsetAtEventStart",12,!1),f=n5(t,"orientation",8,void 0),p=n5(t,"lineOverPlotStart",8,!1),h=n5(t,"lineOverPlotEnd",8,!1),g=n5(t,"rangeOverPlotStart",8,!1),m=n5(t,"rangeOverPlotEnd",8,!1),v=n5(t,"selectAnnotation",8,()=>{}),y=n5(t,"setWidth",8,()=>{}),b=n5(t,"startInteraction",8,()=>{}),x=eS(),_={l:"left",r:"right",t:"top",b:"bottom"};eQ(()=>(tq(f()),tq(i())),()=>{e$(x,"y"===f()?"line"===i().display?["t"]:["t","b"]:"line"===i().display?["l"]:["l","r"])}),eQ(()=>tq(f()),()=>{e$(n,"y"===f()?"y":"x")}),eQ(()=>tq(i()),()=>{e$(r,i().strokeWidth||1)}),eQ(()=>(tq(i()),tI(r)),()=>{e$(o,"line"===i().display?tI(r):1)}),e0(),nY();var w=gA();nc(w,5,()=>tI(x),nu,(e,t)=>{let r,f;var x=g$();e2((e,t,o)=>{var i;r=n_(x,1,`resizer ${null!=(i=tI(n))?i:""}`,"svelte-gqfmpf",r,e),f=nk(x,t,f,{display:o})},[()=>({drag:"line"===i().display}),()=>(tI(t),tI(o),tq(p()),tq(h()),tB(()=>(function(e,t,n,r){let o=t/2+2.5,i=_[e];return n&&(o-=t),r&&(o+=t),`${i}: -${o}px`})(tI(t),tI(o),p(),h()))),()=>(tI(t),tq(g()),tq(m()),tB(()=>{var e,n,r;return(e=tI(t),n=g(),r=m(),n&&("t"===e||"l"===e)||r&&("b"===e||"r"===e))?"none":null}))],ev),tG("mousedown",x,e=>{var n;return n=tI(t),void(e.stopPropagation(),gj(),v()({type:a(),index:l(),repeatedIndex:s(),id:i().id}),void 0===i().width&&y()(),u(n),c(!0),d(0===i().dx&&0===i().dy),b()(e))}),t0(e,x)}),eD(w),t0(e,w),es()}let gO=Math.cos(.25*Math.PI),gN=Math.sin(.25*Math.PI);function gC([e,t]){return[e*gO-t*gN,e*gN+t*gO]}function gL([e,t]){return[e*gO+t*gN,t*gO-e*gN]}function gP(e,t,n,r=!0){let o=+!!r,i=(n-e[o])/(t[o]-e[o]);if(i<0||i>1)return null;let a=+!r;return e[a]+i*(t[a]-e[a])}function gD(e,t,n,r){let o=Math.pow(1-r,2)*e[0]+2*(1-r)*r*t[0]+r*r*n[0],i=Math.pow(1-r,2)*e[1]+2*(1-r)*r*t[1]+r*r*n[1],a=(1-r)*e[0]+r*t[0],l=(1-r)*e[1]+r*t[1];return[e,[a,l],[o,i],[o,i],[(1-r)*t[0]+r*n[0],(1-r)*t[1]+r*n[1]],n]}function gR(e=!0){return function({source:t,sourcePadding:n,targetPadding:r,circle:o,circleRadius:i}){return a=>{o&&i&&(r+=i),n>0&&(t=t8({},t),t.x-=n,t.y-=n,t.width+=2*n,t.height+=2*n);let l=t.x+.5*t.width,s=t.y+.5*t.height,u=0,c=0,[d,f]=function(e,t,n,r,o=.25,i=!0){let a=0-e,l=0-t,s=-a,u=Math.sqrt(l*l+s*s),c=Math.sqrt(a*a+l*l)*o/u*(i?-1:1);return[(e+n)*.5+l*c,(t+r)*.5+s*c]}(l,s,0,0,.3,e),p=function(e,t,n,r,o,i,a){let l=[];for(let s of[[r,o,r+i,o],[r+i,o,r+i,o+a],[r,o+a,r+i,o+a],[r,o,r,o+a]])for(let r of function(e,t,n,r,o,i,a){if(r!==i&&o!==a)throw Error("only horizontal and vertical lines are supported");let l=o===a;return(function(e,t,n,r,o=!0){let i=+!!o,a=e[i]-2*t[i]+n[i];a||(a=.1);let l=2*(t[i]-e[i]),s=e[i]-r,u=(-l+Math.sqrt(l*l-4*a*s))/(2*a),c=(-l-Math.sqrt(l*l-4*a*s))/(2*a),d=+!o,f=[];if(u>=0&&u<=1){let i=Math.pow(1-u,2)*e[d]+2*(1-u)*u*t[d]+u*u*n[d];f.push(o?[i,r,u]:[r,i,u])}if(c>=0&&c<=1){let i=Math.pow(1-c,2)*e[d]+2*(1-c)*c*t[d]+c*c*n[d];f.push(o?[i,r,c]:[r,i,c])}return f})(e,t,n,l?o:r,l).filter(([e,t])=>l?e>=r&&e<=i:t>=o&&t<=a)}(e,t,n,...s))l.push(r);return l}([l,s],[d,f],[u,c],t.x,t.y,t.width,t.height);if(p.length>0){let[,,,e,t]=gD([l,s],[d,f],[u,c],p.map(([,,e])=>e).sort((e,t)=>t-e)[0]);[l,s]=e,[d,f]=t}if(r>0){let e=function(e,t,n,r){let o,i,a=0,l=1,s=20;do{if(.1>Math.abs((i=function(r){let o=Math.pow(1-r,2)*e[0]+2*(1-r)*r*t[0]+r*r*n[0],i=Math.pow(1-r,2)*e[1]+2*(1-r)*r*t[1]+r*r*n[1];return Math.sqrt(Math.pow(o-n[0],2)+Math.pow(i-n[1],2))}(o=(a+l)*.5))-r))break;i>r?a=o:l=o}while(s-- >0);return o}([l,s],[d,f],[u,c],r),[,t,n]=gD([l,s],[d,f],[u,c],e);[d,f]=t,[u,c]=n}a.attr("d",`M ${l},${s} Q ${d},${f} ${u},${c}`)}}}var gI={};j(gI,{curveLeft:()=>gF,curveRight:()=>gq,straight:()=>gB});let gB=function({source:e,sourcePadding:t,targetPadding:n,circle:r,circleRadius:o}){return i=>{r&&o&&(n+=o),t&&(e=t8({},e),e.x-=t,e.y-=t,e.width+=2*t,e.height+=2*t);let a=e.x+.5*e.width,l=e.y+.5*e.height,s=0,u=0,c=!0,d=-a,f=-l,p=e.height/e.width;if(2*Math.abs(a)<e.width)a=0,s=0,u=n*(l>0?1:-1),l+=.5*e.height*(l<0?1:-1),c=!1;else if(2*Math.abs(l)<e.height)l=0,u=0,s=n*(a>0?1:-1),a+=.5*e.width*(a<0?1:-1),c=!1;else{let t,n,[r,o]=gC([-.5*e.width,0]),[i,s]=gC([.5*e.width,0]),[u,c]=gC([0,-.5*e.height]),[h,g]=gC([0,.5*e.height]),[m,v]=gC([-a,-l]);if(a>0&&l>0&&m>=r&&m<=u){let[i,a]=gC([-.5*e.width,-.5*e.height]),l=gP(m<i?[r,o]:[u,c],[i,a],m,!1);[t,n]=gL([m,l])}else if(a<0&&l<0&&m>=h&&m<=i){let[r,o]=gC([.5*e.width,.5*e.height]),a=gP(m<r?[h,g]:[i,s],[r,o],m,!1);[t,n]=gL([m,a])}else if(a>0&&l<0&&v>=o&&v<=g){let[i,a]=gC([-.5*e.width,.5*e.height]),l=gP(v<a?[r,o]:[h,g],[i,a],v,!0);[t,n]=gL([l,v])}else if(a<0&&l>0&&v>=c&&v<=s){let[r,o]=gC([.5*e.width,-.5*e.height]),a=gP(v<o?[u,c]:[i,s],[r,o],v,!0);[t,n]=gL([a,v])}else Math.abs(f/d)<p?(t=.5*e.width*(d>0?1:-1),n=.5*e.width*f/d*(d>0?1:-1)):(t=.5*e.height*d/f*(f>0?1:-1),n=.5*e.height*(f>0?1:-1));a+=t,l+=n}if(n>0&&c){d=-a;let e=Math.atan2(f=-l,d);s=-Math.cos(e)*n,u=-Math.sin(e)*n}i.attr("d",`M ${a},${l} L ${s},${u}`),i.style("shape-rendering",a.toFixed(1)===s.toFixed(1)||l.toFixed(1)===u.toFixed(1)?"crispEdges":void 0)}},gF=gR(!0),gq=gR(!1),gW={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}};var gH=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRange.js":(e,t)=>{var n=Math.ceil,r=Math.max;t.exports=function(e,t,o,i){for(var a=-1,l=r(n((t-e)/(o||1)),0),s=Array(l);l--;)s[i?l:++a]=e,e+=o;return s}}}),gU=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js":(e,t)=>{t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}}}),gY=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js":(e,t)=>{var n=ck(),r=gU();t.exports=function(e){return null!=e&&r(e.length)&&!n(e)}}}),gG=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIterateeCall.js":(e,t)=>{var n=cO(),r=gY(),o=di(),i=cm();t.exports=function(e,t,a){if(!i(a))return!1;var l=typeof t;return("number"==l?!!(r(a)&&o(t,a.length)):"string"==l&&t in a)&&n(a[t],e)}}}),gX=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js":(e,t)=>{var n=/\s/;t.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}}}),gV=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js":(e,t)=>{var n=gX(),r=/^\s+/;t.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}}}),gZ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js":(e,t)=>{var n=gV(),r=cm(),o=cP(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var c=l.test(e);return c||s.test(e)?u(e.slice(2),c?2:8):a.test(e)?i:+e}}}),gK=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toFinite.js":(e,t)=>{var n=gZ(),r=1/0;t.exports=function(e){return e?(e=n(e))===r||e===-r?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}}}),gJ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createRange.js":(e,t)=>{var n=gH(),r=gG(),o=gK();t.exports=function(e){return function(t,i,a){return a&&"number"!=typeof a&&r(t,i,a)&&(i=a=void 0),t=o(t),void 0===i?(i=t,t=0):i=o(i),a=void 0===a?t<i?1:-1:o(a),n(t,i,a,e)}}}}),gQ=E(M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/range.js":(e,t)=>{t.exports=gJ()()}})(),1);function g0(){return 450}function g1(e,t){return`translate(${Math.round(e)}px, ${Math.round(t)}px);`}function g2(e){return!0===e||void 0===e}function g5(e){return!!g2(e.showDesktop)&&!1===e.showMobile}function g3(e){return!1===e.showDesktop&&!1===e.showMobile}function g4(e,t=1){let n=ox(e);return n.opacity=t,n.formatRgb()}function g8(e,t){return{x:0,y:0,width:e,height:t}}function g7(e,t){return["x"===e.type?t({position:t8(t8({},e.position),{},{x:e.position.x0,y:0})})[0]:t({position:t8(t8({},e.position),{},{x:0,y:e.position.y0})})[1],"x"===e.type?t({position:t8(t8({},e.position),{},{x:e.position.x1,y:0})})[0]:t({position:t8(t8({},e.position),{},{x:0,y:e.position.y1})})[1]]}function g6({textAnnotation:e,isMobileWidth:t,dataToPx:n}){return t&&e.mobileFallback&&!g5(e)&&!g3(e)&&function(e,t){let[n,r]=t({position:e.position});return void 0!==n&&void 0!==r}(e,n)}function g9({textAnnotations:e,isMobileWidth:t,dataToPx:n}){let r=0;return e.map(e=>{let o=g6({textAnnotation:e,isMobileWidth:t,dataToPx:n});o&&r++;let i=o?r:null;return{render:o,num:i}})}let me=180/Math.PI;function mt(e,t){return t(e).lab()[0]}function mn(e,t){let n=cg(e,"colors.background","#ffffff"),r=cg(e,"colors.chartContentBaseColor",5.5>t.contrast(n,"#000000")?"#f1f1f1":"#333333"),o={tickText:{secondary:cg(e,"colors.bgBlendRatios.tickText.secondary",.5>t(n).luminance()?.6:.4),primary:cg(e,"colors.bgBlendRatios.tickText.primary",.2)},series:cg(e,"colors.bgBlendRatios.series",0),value:cg(e,"colors.bgBlendRatios.value",.2),axis:cg(e,"colors.bgBlendRatios.axis",0),gridline:cg(e,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:t.mix(r,n,o.tickText.secondary).hex(),primary:t.mix(r,n,o.tickText.primary).hex()},series:t.mix(r,n,o.series).hex(),value:t.mix(r,n,o.value).hex(),axis:t.mix(r,n,o.axis).hex(),gridline:t.mix(r,n,o.gridline).hex(),fallbackBaseColor:r,blendColor:e=>t.mix(r,n,e).hex()}}var mr=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayEvery.js":(e,t)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}}}),mo=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createBaseFor.js":(e,t)=>{t.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===n(i[s],s,i))break}return t}}}}),mi=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFor.js":(e,t)=>{t.exports=mo()()}}),ma=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js":(e,t)=>{t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}}}),ml=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js":(e,t)=>{var n=cw(),r=cL();t.exports=function(e){return r(e)&&"[object Arguments]"==n(e)}}}),ms=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js":(e,t)=>{var n=ml(),r=cL(),o=Object.prototype,i=o.hasOwnProperty,a=o.propertyIsEnumerable;t.exports=n(function(){return arguments}())?n:function(e){return r(e)&&i.call(e,"callee")&&!a.call(e,"callee")}}}),mu=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js":(e,t)=>{t.exports=function(){return!1}}}),mc=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js":(e,t)=>{var n=cy(),r=mu(),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0;t.exports=(a?a.isBuffer:void 0)||r}}),md=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js":(e,t)=>{var n=cw(),r=gU(),o=cL(),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(e){return o(e)&&r(e.length)&&!!i[n(e)]}}}),mf=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js":(e,t)=>{t.exports=function(e){return function(t){return e(t)}}}}),mp=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js":(e,t)=>{var n=cv(),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,i=o&&o.exports===r&&n.process;t.exports=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return i&&i.binding&&i.binding("util")}catch(e){}}()}}),mh=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js":(e,t)=>{var n=md(),r=mf(),o=mp(),i=o&&o.isTypedArray;t.exports=i?r(i):n}}),mg=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js":(e,t)=>{var n=ma(),r=ms(),o=cC(),i=mc(),a=di(),l=mh(),s=Object.prototype.hasOwnProperty;t.exports=function(e,t){var u=o(e),c=!u&&r(e),d=!u&&!c&&i(e),f=!u&&!c&&!d&&l(e),p=u||c||d||f,h=p?n(e.length,String):[],g=h.length;for(var m in e)(t||s.call(e,m))&&!(p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g)))&&h.push(m);return h}}}),mm=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js":(e,t)=>{var n=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}}}),mv=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overArg.js":(e,t)=>{t.exports=function(e,t){return function(n){return e(t(n))}}}}),my=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeys.js":(e,t)=>{t.exports=mv()(Object.keys,Object)}}),mb=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeys.js":(e,t)=>{var n=mm(),r=my(),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!n(e))return r(e);var t=[];for(var i in Object(e))o.call(e,i)&&"constructor"!=i&&t.push(i);return t}}}),mx=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js":(e,t)=>{var n=mg(),r=mb(),o=gY();t.exports=function(e){return o(e)?n(e):r(e)}}}),m_=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseForOwn.js":(e,t)=>{var n=mi(),r=mx();t.exports=function(e,t){return e&&n(e,t,r)}}}),mw=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createBaseEach.js":(e,t)=>{var n=gY();t.exports=function(e,t){return function(r,o){if(null==r)return r;if(!n(r))return e(r,o);for(var i=r.length,a=t?i:-1,l=Object(r);(t?a--:++a<i)&&!1!==o(l[a],a,l););return r}}}}),mk=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseEach.js":(e,t)=>{var n=m_();t.exports=mw()(n)}}),mM=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseEvery.js":(e,t)=>{var n=mk();t.exports=function(e,t){var r=!0;return n(e,function(e,n,o){return r=!!t(e,n,o)}),r}}}),mj=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackClear.js":(e,t)=>{var n=cK();t.exports=function(){this.__data__=new n,this.size=0}}}),mS=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackDelete.js":(e,t)=>{t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}}}),mE=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackGet.js":(e,t)=>{t.exports=function(e){return this.__data__.get(e)}}}),m$=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackHas.js":(e,t)=>{t.exports=function(e){return this.__data__.has(e)}}}),mA=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackSet.js":(e,t)=>{var n=cK(),r=cJ(),o=c8();t.exports=function(e,t){var i=this.__data__;if(i instanceof n){var a=i.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++i.size,this;i=this.__data__=new o(a)}return i.set(e,t),this.size=i.size,this}}}),mT=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Stack.js":(e,t)=>{var n=cK(),r=mj(),o=mS(),i=mE(),a=m$(),l=mA();function s(e){var t=this.__data__=new n(e);this.size=t.size}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=l,t.exports=s}}),mz=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js":(e,t)=>{t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}}}),mO=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js":(e,t)=>{t.exports=function(e){return this.__data__.has(e)}}}),mN=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js":(e,t)=>{var n=c8(),r=mz(),o=mO();function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=r,i.prototype.has=o,t.exports=i}}),mC=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arraySome.js":(e,t)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}}),mL=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js":(e,t)=>{t.exports=function(e,t){return e.has(t)}}}),mP=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalArrays.js":(e,t)=>{var n=mN(),r=mC(),o=mL();t.exports=function(e,t,i,a,l,s){var u=1&i,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var h=-1,g=!0,m=2&i?new n:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var v=e[h],y=t[h];if(a)var b=u?a(y,v,h,t,e,s):a(v,y,h,e,t,s);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!r(t,function(e,t){if(!o(m,t)&&(v===e||l(v,e,i,a,s)))return m.push(t)})){g=!1;break}}else if(!(v===y||l(v,y,i,a,s))){g=!1;break}}return s.delete(e),s.delete(t),g}}}),mD=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Uint8Array.js":(e,t)=>{t.exports=cy().Uint8Array}}),mR=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapToArray.js":(e,t)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}}}),mI=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js":(e,t)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}}}),mB=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalByTag.js":(e,t)=>{var n=cb(),r=mD(),o=cO(),i=mP(),a=mR(),l=mI(),s=n?n.prototype:void 0,u=s?s.valueOf:void 0;t.exports=function(e,t,n,s,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new r(e),new r(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var h=1&s;if(p||(p=l),e.size!=t.size&&!h)break;var g=f.get(e);if(g)return g==t;s|=2,f.set(e,t);var m=i(p(e),p(t),s,c,d,f);return f.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}}}),mF=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayPush.js":(e,t)=>{t.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}}}),mq=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetAllKeys.js":(e,t)=>{var n=mF(),r=cC();t.exports=function(e,t,o){var i=t(e);return r(e)?i:n(i,o(e))}}}),mW=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayFilter.js":(e,t)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}}}),mH=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubArray.js":(e,t)=>{t.exports=function(){return[]}}}),mU=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbols.js":(e,t)=>{var n=mW(),r=mH(),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;t.exports=i?function(e){return null==e?[]:n(i(e=Object(e)),function(t){return o.call(e,t)})}:r}}),mY=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeys.js":(e,t)=>{var n=mq(),r=mU(),o=mx();t.exports=function(e){return n(e,o,r)}}}),mG=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalObjects.js":(e,t)=>{var n=mY(),r=Object.prototype.hasOwnProperty;t.exports=function(e,t,o,i,a,l){var s=1&o,u=n(e),c=u.length;if(c!=n(t).length&&!s)return!1;for(var d=c;d--;){var f=u[d];if(!(s?f in t:r.call(t,f)))return!1}var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var g=!0;l.set(e,t),l.set(t,e);for(var m=s;++d<c;){var v=e[f=u[d]],y=t[f];if(i)var b=s?i(y,v,f,t,e,l):i(v,y,f,e,t,l);if(!(void 0===b?v===y||a(v,y,o,i,l):b)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return l.delete(e),l.delete(t),g}}}),mX=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_DataView.js":(e,t)=>{t.exports=cA()(cy(),"DataView")}}),mV=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Promise.js":(e,t)=>{t.exports=cA()(cy(),"Promise")}}),mZ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js":(e,t)=>{t.exports=cA()(cy(),"Set")}}),mK=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_WeakMap.js":(e,t)=>{t.exports=cA()(cy(),"WeakMap")}}),mJ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getTag.js":(e,t)=>{var n=mX(),r=cJ(),o=mV(),i=mZ(),a=mK(),l=cw(),s=cS(),u="[object Map]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=s(n),g=s(r),m=s(o),v=s(i),y=s(a),b=l;(n&&b(new n(new ArrayBuffer(1)))!=p||r&&b(new r)!=u||o&&b(o.resolve())!=c||i&&b(new i)!=d||a&&b(new a)!=f)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case h:return p;case g:return u;case m:return c;case v:return d;case y:return f}return t}),t.exports=b}}),mQ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqualDeep.js":(e,t)=>{var n=mT(),r=mP(),o=mB(),i=mG(),a=mJ(),l=cC(),s=mc(),u=mh(),c="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(e,t,h,g,m,v){var y=l(e),b=l(t),x=y?d:a(e),_=b?d:a(t);x=x==c?f:x,_=_==c?f:_;var w=x==f,k=_==f,M=x==_;if(M&&s(e)){if(!s(t))return!1;y=!0,w=!1}if(M&&!w)return v||(v=new n),y||u(e)?r(e,t,h,g,m,v):o(e,t,x,h,g,m,v);if(!(1&h)){var j=w&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(j||S){var E=j?e.value():e,$=S?t.value():t;return v||(v=new n),m(E,$,h,g,v)}}return!!M&&(v||(v=new n),i(e,t,h,g,m,v))}}}),m0=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqual.js":(e,t)=>{var n=mQ(),r=cL();t.exports=function e(t,o,i,a,l){return t===o||(null!=t&&null!=o&&(r(t)||r(o))?n(t,o,i,a,e,l):t!=t&&o!=o)}}}),m1=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMatch.js":(e,t)=>{var n=mT(),r=m0();t.exports=function(e,t,o,i){var a=o.length,l=a,s=!i;if(null==e)return!l;for(e=Object(e);a--;){var u=o[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<l;){var c=(u=o[a])[0],d=e[c],f=u[1];if(s&&u[2]){if(void 0===d&&!(c in e))return!1}else{var p=new n;if(i)var h=i(d,f,c,e,t,p);if(!(void 0===h?r(f,d,3,i,p):h))return!1}}return!0}}}),m2=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isStrictComparable.js":(e,t)=>{var n=cm();t.exports=function(e){return e==e&&!n(e)}}}),m5=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMatchData.js":(e,t)=>{var n=m2(),r=mx();t.exports=function(e){for(var t=r(e),o=t.length;o--;){var i=t[o],a=e[i];t[o]=[i,a,n(a)]}return t}}}),m3=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_matchesStrictComparable.js":(e,t)=>{t.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}}}),m4=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatches.js":(e,t)=>{var n=m1(),r=m5(),o=m3();t.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}}}),m8=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGet.js":(e,t)=>{var n=dr(),r=da();t.exports=function(e,t){t=n(t,e);for(var o=0,i=t.length;null!=e&&o<i;)e=e[r(t[o++])];return o&&o==i?e:void 0}}}),m7=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js":(e,t)=>{var n=m8();t.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}}}),m6=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHasIn.js":(e,t)=>{t.exports=function(e,t){return null!=e&&t in Object(e)}}}),m9=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasPath.js":(e,t)=>{var n=dr(),r=ms(),o=cC(),i=di(),a=gU(),l=da();t.exports=function(e,t,s){t=n(t,e);for(var u=-1,c=t.length,d=!1;++u<c;){var f=l(t[u]);if(!(d=null!=e&&s(e,f)))break;e=e[f]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&a(c)&&i(f,c)&&(o(e)||r(e))}}}),ve=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/hasIn.js":(e,t)=>{var n=m6(),r=m9();t.exports=function(e,t){return null!=e&&r(e,t,n)}}}),vt=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatchesProperty.js":(e,t)=>{var n=m0(),r=m7(),o=ve(),i=cD(),a=m2(),l=m3(),s=da();t.exports=function(e,t){return i(e)&&a(t)?l(s(e),t):function(i){var a=r(i,e);return void 0===a&&a===t?o(i,e):n(t,a,3)}}}}),vn=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/identity.js":(e,t)=>{t.exports=function(e){return e}}}),vr=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseProperty.js":(e,t)=>{t.exports=function(e){return function(t){return null==t?void 0:t[e]}}}}),vo=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePropertyDeep.js":(e,t)=>{var n=m8();t.exports=function(e){return function(t){return n(t,e)}}}}),vi=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/property.js":(e,t)=>{var n=vr(),r=vo(),o=cD(),i=da();t.exports=function(e){return o(e)?n(i(e)):r(e)}}}),va=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIteratee.js":(e,t)=>{var n=m4(),r=vt(),o=vn(),i=cC(),a=vi();t.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?r(e[0],e[1]):n(e):a(e)}}}),vl=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/every.js":(e,t)=>{var n=mr(),r=mM(),o=va(),i=cC(),a=gG();t.exports=function(e,t,l){var s=i(e)?n:r;return l&&a(e,t,l)&&(t=void 0),s(e,o(t,3))}}}),vs=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSome.js":(e,t)=>{var n=mk();t.exports=function(e,t){var r;return n(e,function(e,n,o){return!(r=t(e,n,o))}),!!r}}}),vu=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/some.js":(e,t)=>{var n=mC(),r=va(),o=vs(),i=cC(),a=gG();t.exports=function(e,t,l){var s=i(e)?n:o;return l&&a(e,t,l)&&(t=void 0),s(e,r(t,3))}}}),vc=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHas.js":(e,t)=>{var n=Object.prototype.hasOwnProperty;t.exports=function(e,t){return null!=e&&n.call(e,t)}}}),vd=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/has.js":(e,t)=>{var n=vc(),r=m9();t.exports=function(e,t){return null!=e&&r(e,t,n)}}});gb(),vl(),vu();var vf=E(vd(),1),vp=E(vn(),1);let vh="%UNDEFINED%",vg={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:e=>vv(e),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:e=>vv(e)},lineHeight:{prop:"line-height",tsf:e=>{var t;return(t=e)===vh?t:t>3?`${t}px`:String(t)}},underlined:{prop:"text-decoration",tsf:e=>e?"underline":"none"},cursive:{prop:"font-style",tsf:e=>e?"italic":"normal"}};function vm(e,t){let n=(e,...t)=>{let n="";for(let r of e)n+=r+(t.length?t.shift():"");return n.split("\n").filter(e=>e).filter(e=>!e.includes(vh)).join("\n")};function r(e,t,n){return cg(e,t,void 0===n?vh:n)}return{getProp:(e,n)=>r(t,e,n),getObjProp:r,typography:function(e={},t={}){return Object.entries(vg).filter(([n])=>(0,vf.default)(e,n)||(0,vf.default)(t,n)).map(([n,{prop:r,tsf:o=vp.default}])=>{let i=cg(e,n,t[n]);return`${r}: ${o(i)};`}).join("\n")},css:(...t)=>e.css(n(...t)),cssTemplate:n,UNDEFINED_STYLE:vh}}function vv(e){return e===vh?e:Number.isFinite(e)?`${e}px`:e}function vy(e,t,n){if(2===e.version){for(let n of["chart","bodyCenter","bodyTop","body"])if((0,vf.default)(e,["blocks",n,"styles","typography",t]))return cg(e,["blocks",n,"styles","typography",t]);return n}return cg(e,`typography.chart.${t}`,n)}var vb=tK('<div class="connector-line svelte-ygoydr" aria-hidden="true"><svg class="svelte-ygoydr"></svg></div>'),vx=tK('<div class="helper svelte-ygoydr"><svg class="svelte-ygoydr"><path class="helper-line svelte-ygoydr"></path></svg></div>'),v_=tK("<div></div>"),vw=tK('<div class="offset-point svelte-ygoydr"></div>'),vk=tK("<span> </span>"),vM=tK('<span contenteditable="" class="text-inner text-edit svelte-ygoydr"><!></span>'),vj=tK('<span class="text-inner text-edit svelte-ygoydr"><!></span>'),vS=tK('<div class="text-background svelte-ygoydr"><!></div>'),vE=tK('<span class="export-text"><!></span>'),v$=tK('<div role="listitem"><!> <!> <!> <!>  <div><!> <!></div></div>');let vA={hash:"svelte-ygoydr",code:".text-annotation.svelte-ygoydr {position:relative;z-index:2;pointer-events:auto;}.text.svelte-ygoydr {left:0px;position:absolute;white-space:pre-line;line-height:1.2;outline-color:rgba(0, 0, 0, 0);}.dw-bold.svelte-ygoydr {font-weight:700;}.italic.svelte-ygoydr {font-style:italic;}.underline.svelte-ygoydr {-webkit-text-decoration:underline;text-decoration:underline;}.num.svelte-ygoydr {display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px;}.connector-line.svelte-ygoydr {left:0px;position:absolute;direction:ltr; /* Ensures correct positioning in RTL mode. */pointer-events:none;}svg.svelte-ygoydr {position:absolute;overflow:visible;}\n    /* editor */.reference-point.svelte-ygoydr,\n    .offset-point.svelte-ygoydr {left:0px;position:absolute;width:5px;height:5px;background:rgba(255, 0, 221, 0.95);z-index:1;}.reference-point.hollow.svelte-ygoydr {background:rgba(255, 0, 221, 0.1);border:1px solid rgba(255, 0, 221, 0.95);border-radius:50%;left:-1px;top:-1px;z-index:auto;}.reference-point.svelte-ygoydr::before {content:'';position:absolute;top:-5px;left:-5px;width:calc(100% + 9px);height:calc(100% + 9px);cursor:grab;}.edit-mode.svelte-ygoydr:not(.key) .text:where(.svelte-ygoydr) {cursor:grab;}.edit-mode.svelte-ygoydr:not(.key) .text:where(.svelte-ygoydr) .text-inner:where(.svelte-ygoydr):after {outline:1px none rgba(255, 0, 221, 0);transition:outline-color 0.2s,\n            outline-style 0.2s;}.edit-mode.svelte-ygoydr:not(.key):not(.selected) .text:where(.svelte-ygoydr):hover .text-inner:where(.svelte-ygoydr):after {outline:1px dotted rgba(255, 0, 221, 0.95);}.edit-mode.svelte-ygoydr:not(.key) .text:where(.svelte-ygoydr)::before {content:'';z-index:-1;position:absolute;top:-10px;left:-10px;width:calc(100% + 20px);height:calc(100% + 20px);cursor:grab;}.edit-mode.selected.svelte-ygoydr .text:where(.svelte-ygoydr) {outline-style:solid;}.edit-mode.svelte-ygoydr .text-background:where(.svelte-ygoydr) {position:relative;}\n    /* hover states */.edit-mode.selected.svelte-ygoydr:not(.editable) .text-inner:where(.svelte-ygoydr)::after {background:rgba(255, 0, 221, 0.1);}.edit-mode.svelte-ygoydr:not(.selected):hover .text-inner:where(.svelte-ygoydr)::after,\n    .edit-mode.selected.editable.svelte-ygoydr:hover .text-inner:where(.svelte-ygoydr)::after {background:rgba(255, 0, 221, 0.05);}.edit-mode.svelte-ygoydr .text:where(.svelte-ygoydr):hover .text-inner:where(.svelte-ygoydr)::after,\n    .edit-mode.selected.svelte-ygoydr .text:where(.svelte-ygoydr) .text-inner:where(.svelte-ygoydr)::after {outline:1px solid rgba(255, 0, 221, 0.95);}.edit-mode.editable.svelte-ygoydr:hover .text-inner:where(.svelte-ygoydr):hover:after {background:transparent !important;}.edit-mode.svelte-ygoydr .text-inner:where(.svelte-ygoydr):after {content:'';width:100%;height:100%;position:absolute;left:0;top:0;pointer-events:none;}.edit-mode.selected.editable.svelte-ygoydr .text:where(.svelte-ygoydr) {background:transparent;}.edit-mode.selected.editable.svelte-ygoydr .text-inner:where(.svelte-ygoydr) {cursor:text;}.edit-mode.not-editable.svelte-ygoydr:not(.key) {-webkit-user-select:none;user-select:none;cursor:grab;}.edit-mode.svelte-ygoydr .text-inner:where(.svelte-ygoydr) {outline:0;}.edit-mode.dragging.svelte-ygoydr,\n    .edit-mode.dragging.svelte-ygoydr .text:where(.svelte-ygoydr)::before,\n    .edit-mode.dragging.selected.svelte-ygoydr .text-inner:where(.svelte-ygoydr),\n    .edit-mode.dragging.svelte-ygoydr .reference-point:where(.svelte-ygoydr)::before {cursor:grabbing;}.edit-mode.svelte-ygoydr .helper:where(.svelte-ygoydr) {left:0px;position:absolute;direction:ltr; /* Ensures correct positioning in RTL mode. */}.edit-mode.svelte-ygoydr .helper-line:where(.svelte-ygoydr) {stroke:rgba(255, 0, 221, 0.95);stroke-dasharray:2, 2;fill:none;}.edit-mode.svelte-ygoydr .num.text:where(.svelte-ygoydr) {outline:0;}.edit-mode.selected.svelte-ygoydr .num:where(.svelte-ygoydr) .text-inner:where(.svelte-ygoydr) {background:transparent;}.edit-mode.selected.dragging.out-of-bounds.svelte-ygoydr {\n        /* Ensure that annotation is visible when moving it outside of plot when editing. */display:block !important;opacity:0.25;}"},vT={text:{dx:0,dy:0,width:void 0,align:"tl",size:14,color:!1,bg:!1,bold:!1,italic:!1,underline:!1,showMobile:!0,showDesktop:!0,mobileFallback:!0,text:"",connectorLine:{enabled:!1,arrowHead:"lines",type:"straight",targetPadding:4,stroke:1,inheritColor:!1,circle:!1,circleStyle:"solid",circleRadius:15}},range:{color:"#888888",opacity:10,strokeWidth:1,strokeType:"solid"},line:{color:"#888888",opacity:50,strokeWidth:1,strokeType:"solid"}};var vz=tK("<div><!></div>"),vO=tK('<div><div class="dot-drag svelte-f85b34"><div class="dot svelte-f85b34"></div></div> <!></div>'),vN=tK("<div></div> <!>",1);let vC={hash:"svelte-f85b34",code:".create-mode .range-annotation {pointer-events:none !important;}.range-annotation.svelte-f85b34 {position:absolute;top:0px;left:0px;pointer-events:none;}.range-annotation.edit-mode.svelte-f85b34 {display:flex;justify-content:center;align-items:center;pointer-events:auto;z-index:1;}.range-annotation.edit-mode.svelte-f85b34:hover .dot:where(.svelte-f85b34) {opacity:1 !important;}.range-annotation.edit-mode.range.svelte-f85b34 {z-index:1;background:transparent !important;border:1px solid transparent;box-sizing:border-box;}.range-annotation.edit-mode.range.x.svelte-f85b34 {border-width:0 1px 0 1px;}.range-annotation.edit-mode.range.x.start-out-of-bounds.svelte-f85b34 {border-left-width:0 !important;}.range-annotation.edit-mode.range.x.end-out-of-bounds.svelte-f85b34 {border-right-width:0 !important;}.range-annotation.edit-mode.range.y.svelte-f85b34 {border-width:1px 0 1px 0;}.range-annotation.edit-mode.range.y.start-out-of-bounds.svelte-f85b34 {border-top-width:0 !important;}.range-annotation.edit-mode.range.y.end-out-of-bounds.svelte-f85b34 {border-bottom-width:0 !important;}.range-annotation.edit-mode.selected.svelte-f85b34 {z-index:2;}.range-annotation.edit-mode.selected.svelte-f85b34 .dot:where(.svelte-f85b34) {opacity:1;}.range-annotation.edit-mode.selected.range.svelte-f85b34 {z-index:2;border:1px solid rgba(255, 0, 221, 0.95);}.range-annotation.edit-mode.selected.range.x.svelte-f85b34 {border-width:0 1px 0 1px;}.range-annotation.edit-mode.selected.range.y.svelte-f85b34 {border-width:1px 0 1px 0;}.range-annotation.edit-mode.selected.line.svelte-f85b34 {border-color:rgba(255, 0, 221, 0.95) !important;}.range-annotation.edit-mode.range.svelte-f85b34 .dot-drag:where(.svelte-f85b34) {width:20px;height:20px;cursor:grab;display:flex;align-items:center;justify-content:center;}.range-annotation.edit-mode.dragging.svelte-f85b34 .dot-drag:where(.svelte-f85b34) {cursor:grabbing;}.range-annotation.edit-mode.range.svelte-f85b34 .dot-drag:where(.svelte-f85b34) .dot:where(.svelte-f85b34) {width:5px;height:5px;background:rgba(255, 0, 221, 0.95);opacity:0;transition:opacity 0.2s;}.range-annotation.x.svelte-f85b34 {height:100%;}.range-annotation.y.svelte-f85b34 {width:100%;}.range-annotation.range.svelte-f85b34 {z-index:-1;}.range-annotation.line.svelte-f85b34 {z-index:1;border-width:0;background:transparent;\n        /* Hack to fix issue on iOS where line sometimes doesn't render properly\n        when line position is sub-pixel. */-webkit-transform:scale(1);}.range-annotation.line.x.svelte-f85b34 {height:100%;width:0px;}.range-annotation.line.y.svelte-f85b34 {width:100%;height:0px;}.create-mode .range-annotation {pointer-events:none;}"};var vL=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayEach.js":(e,t)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}}),vP=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyObject.js":(e,t)=>{var n=cN(),r=cz();t.exports=function(e,t,o,i){var a=!o;o||(o={});for(var l=-1,s=t.length;++l<s;){var u=t[l],c=i?i(o[u],e[u],u,o,e):void 0;void 0===c&&(c=e[u]),a?r(o,u,c):n(o,u,c)}return o}}}),vD=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssign.js":(e,t)=>{var n=vP(),r=mx();t.exports=function(e,t){return e&&n(t,r(t),e)}}}),vR=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeysIn.js":(e,t)=>{t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}}),vI=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeysIn.js":(e,t)=>{var n=cm(),r=mm(),o=vR(),i=Object.prototype.hasOwnProperty;t.exports=function(e){if(!n(e))return o(e);var t=r(e),a=[];for(var l in e)"constructor"==l&&(t||!i.call(e,l))||a.push(l);return a}}}),vB=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keysIn.js":(e,t)=>{var n=mg(),r=vI(),o=gY();t.exports=function(e){return o(e)?n(e,!0):r(e)}}}),vF=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignIn.js":(e,t)=>{var n=vP(),r=vB();t.exports=function(e,t){return e&&n(t,r(t),e)}}}),vq=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneBuffer.js":(e,t)=>{var n=cy(),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,i=o&&o.exports===r?n.Buffer:void 0,a=i?i.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}}),vW=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyArray.js":(e,t)=>{t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}}}),vH=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbols.js":(e,t)=>{var n=vP(),r=mU();t.exports=function(e,t){return n(e,r(e),t)}}}),vU=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getPrototype.js":(e,t)=>{t.exports=mv()(Object.getPrototypeOf,Object)}}),vY=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbolsIn.js":(e,t)=>{var n=mF(),r=vU(),o=mU(),i=mH();t.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=r(e);return t}:i}}),vG=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbolsIn.js":(e,t)=>{var n=vP(),r=vY();t.exports=function(e,t){return n(e,r(e),t)}}}),vX=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeysIn.js":(e,t)=>{var n=mq(),r=vY(),o=vB();t.exports=function(e){return n(e,o,r)}}}),vV=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneArray.js":(e,t)=>{var n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}}}),vZ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneArrayBuffer.js":(e,t)=>{var n=mD();t.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}}}),vK=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneDataView.js":(e,t)=>{var n=vZ();t.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}}}),vJ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneRegExp.js":(e,t)=>{var n=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}}}),vQ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneSymbol.js":(e,t)=>{var n=cb(),r=n?n.prototype:void 0,o=r?r.valueOf:void 0;t.exports=function(e){return o?Object(o.call(e)):{}}}}),v0=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneTypedArray.js":(e,t)=>{var n=vZ();t.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}}}),v1=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneByTag.js":(e,t)=>{var n=vZ(),r=vK(),o=vJ(),i=vQ(),a=v0();t.exports=function(e,t,l){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return r(e,l);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,l);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return o(e);case"[object Symbol]":return i(e)}}}}),v2=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseCreate.js":(e,t)=>{var n=cm(),r=Object.create;t.exports=function(){function e(){}return function(t){if(!n(t))return{};if(r)return r(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}()}}),v5=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneObject.js":(e,t)=>{var n=v2(),r=vU(),o=mm();t.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(r(e))}}}),v3=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMap.js":(e,t)=>{var n=mJ(),r=cL();t.exports=function(e){return r(e)&&"[object Map]"==n(e)}}}),v4=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isMap.js":(e,t)=>{var n=v3(),r=mf(),o=mp(),i=o&&o.isMap;t.exports=i?r(i):n}}),v8=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsSet.js":(e,t)=>{var n=mJ(),r=cL();t.exports=function(e){return r(e)&&"[object Set]"==n(e)}}}),v7=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSet.js":(e,t)=>{var n=v8(),r=mf(),o=mp(),i=o&&o.isSet;t.exports=i?r(i):n}}),v6=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseClone.js":(e,t)=>{var n=mT(),r=vL(),o=cN(),i=vD(),a=vF(),l=vq(),s=vW(),u=vH(),c=vG(),d=mY(),f=vX(),p=mJ(),h=vV(),g=v1(),m=v5(),v=cC(),y=mc(),b=v4(),x=cm(),_=v7(),w=mx(),k=vB(),M="[object Arguments]",j="[object Function]",S="[object Object]",E={};E[M]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[S]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[j]=E["[object WeakMap]"]=!1,t.exports=function e(t,$,A,T,z,O){var N,C=1&$,L=2&$,P=4&$;if(A&&(N=z?A(t,T,z,O):A(t)),void 0!==N)return N;if(!x(t))return t;var D=v(t);if(D){if(N=h(t),!C)return s(t,N)}else{var R=p(t),I=R==j||"[object GeneratorFunction]"==R;if(y(t))return l(t,C);if(R==S||R==M||I&&!z){if(N=L||I?{}:m(t),!C)return L?c(t,a(N,t)):u(t,i(N,t))}else{if(!E[R])return z?t:{};N=g(t,R,C)}}O||(O=new n);var B=O.get(t);if(B)return B;O.set(t,N),_(t)?t.forEach(function(n){N.add(e(n,$,A,n,t,O))}):b(t)&&t.forEach(function(n,r){N.set(r,e(n,$,A,r,t,O))});var F=P?L?f:d:L?k:w,q=D?void 0:F(t);return r(q||t,function(n,r){q&&(n=t[r=n]),o(N,r,e(n,$,A,r,t,O))}),N}}}),v9=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/cloneDeep.js":(e,t)=>{var n=v6();t.exports=function(e){return n(e,5)}}}),ye=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js":(e,t)=>{var n=m0();t.exports=function(e,t){return n(e,t)}}}),yt=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePickBy.js":(e,t)=>{var n=m8(),r=dl(),o=dr();t.exports=function(e,t,i){for(var a=-1,l=t.length,s={};++a<l;){var u=t[a],c=n(e,u);i(c,u)&&r(s,o(u,e),c)}return s}}}),yn=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePick.js":(e,t)=>{var n=yt(),r=ve();t.exports=function(e,t){return n(e,t,function(t,n){return r(e,n)})}}}),yr=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isFlattenable.js":(e,t)=>{var n=cb(),r=ms(),o=cC(),i=n?n.isConcatSpreadable:void 0;t.exports=function(e){return o(e)||r(e)||!!(i&&e&&e[i])}}}),yo=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFlatten.js":(e,t)=>{var n=mF(),r=yr();t.exports=function e(t,o,i,a,l){var s=-1,u=t.length;for(i||(i=r),l||(l=[]);++s<u;){var c=t[s];o>0&&i(c)?o>1?e(c,o-1,i,a,l):n(l,c):a||(l[l.length]=c)}return l}}}),yi=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/flatten.js":(e,t)=>{var n=yo();t.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}}}),ya=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_apply.js":(e,t)=>{t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}}}),yl=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overRest.js":(e,t)=>{var n=ya(),r=Math.max;t.exports=function(e,t,o){return t=r(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,l=r(i.length-t,0),s=Array(l);++a<l;)s[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=o(s),n(e,this,u)}}}}),ys=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/constant.js":(e,t)=>{t.exports=function(e){return function(){return e}}}}),yu=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSetToString.js":(e,t)=>{var n=ys(),r=cT(),o=vn();t.exports=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o}}),yc=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_shortOut.js":(e,t)=>{var n=Date.now;t.exports=function(e){var t=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}}}),yd=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToString.js":(e,t)=>{var n=yu();t.exports=yc()(n)}}),yf=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_flatRest.js":(e,t)=>{var n=yi(),r=yl(),o=yd();t.exports=function(e){return o(r(e,void 0,n),e+"")}}}),yp=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pick.js":(e,t)=>{var n=yn();t.exports=yf()(function(e,t){return null==e?{}:n(e,t)})}}),yh=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/last.js":(e,t)=>{t.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}}}),yg=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSlice.js":(e,t)=>{t.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}}}),ym=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_parent.js":(e,t)=>{var n=m8(),r=yg();t.exports=function(e,t){return t.length<2?e:n(e,r(t,0,-1))}}}),yv=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnset.js":(e,t)=>{var n=dr(),r=yh(),o=ym(),i=da();t.exports=function(e,t){return t=n(t,e),null==(e=o(e,t))||delete e[i(r(t))]}}}),yy=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isPlainObject.js":(e,t)=>{var n=cw(),r=vU(),o=cL(),i=Object.prototype,a=Function.prototype.toString,l=i.hasOwnProperty,s=a.call(Object);t.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=r(e);if(null===t)return!0;var i=l.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&a.call(i)==s}}}),yb=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_customOmitClone.js":(e,t)=>{var n=yy();t.exports=function(e){return n(e)?void 0:e}}}),yx=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/omit.js":(e,t)=>{var n=de(),r=v6(),o=yv(),i=dr(),a=vP(),l=yb(),s=yf(),u=vX();t.exports=s(function(e,t){var s={};if(null==e)return s;var c=!1;t=n(t,function(t){return t=i(t,e),c||(c=t.length>1),t}),a(e,u(e),s),c&&(s=r(s,7,l));for(var d=t.length;d--;)o(s,t[d]);return s})}});let y_=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"];function yw(e=10,t){let n=t?t.sort(()=>Math.random()-.5):y_.sort(()=>Math.random()-.5),r=new Uint8Array(e);crypto.getRandomValues(r);let o="";for(let e of r)o+=n[e%n.length];return o}var yk=E(v9()),yM=E(ye()),yj=E(yp()),yS=E(yx()),yE=tK("<div></div>"),y$=tK('<div class="annotation-plots"></div>'),yA=tK("<div></div>"),yT=tK('<div><!> <div class="text-annotations" role="list"></div> <div class="range-annotations"></div> <!></div>');let yz={hash:"svelte-khhw82",code:"body {overflow-x:hidden;}.annotations-inner.svelte-khhw82 {width:100%;height:100%;pointer-events:none;}.annotations-inner.editing.svelte-khhw82 {pointer-events:auto;}.annotations-inner.disable-annotation-interactions * {pointer-events:none !important;}.annotations-inner.create-mode.svelte-khhw82 {cursor:crosshair;-webkit-user-select:none;user-select:none;}.annotations-inner.create-mode.svelte-khhw82 .text-annotation,\n.annotations-inner.create-mode.svelte-khhw82 .text-annotation .resizer,\n.annotations-inner.create-mode.svelte-khhw82 .range-annotation,\n.annotations-inner.create-mode.svelte-khhw82 .range-annotation .resizer {pointer-events:none;}.create-rect.svelte-khhw82 {z-index:1;}.create-rect.text.svelte-khhw82 {position:absolute;outline:1px solid rgba(255, 0, 221, 0.95);background:rgba(255, 0, 221, 0.1);}.create-rect.range.svelte-khhw82 {position:absolute;background:rgba(0, 0, 0, 0.1);}.annotation-plot.svelte-khhw82 {position:absolute;width:100%;height:100%;box-sizing:border-box;border:1px dashed rgba(255, 0, 221, 0);transition:border-color 200ms;}.annotation-plot.show-bounds.svelte-khhw82 {border-color:rgba(255, 0, 221, 0.5);transition-delay:100ms;}.annotations-inner.creating.svelte-khhw82 .annotation-plot:where(.svelte-khhw82):not(.create-plot) {cursor:default;}.enter-plot.svelte-khhw82 {background:rgba(255, 0, 221, 0.1);}"};function yO(t,n){let r;el(n,!1),nm(t,yz);let o=eS(),i=eS(),a=eS(),l=eS(),s=eS(),u=eS(),c=eS(),d=eS(),f=eS(),p=eS(),h=n5(n,"uid",8,null),g=n5(n,"textAnnotations",28,()=>[]),m=n5(n,"rangeAnnotations",28,()=>[]),v=n5(n,"dataToPx",8),y=n5(n,"pxToData",8),b=n5(n,"theme",8),x=n5(n,"cm",8,e=>e),_=n5(n,"visWidth",8),w=n5(n,"visHeight",8),k=n5(n,"ariaLabel",8,""),M=n5(n,"chroma",8),j=n5(n,"purifyHtml",8),S=n5(n,"rtl",8,!1),E=n5(n,"mirrorX",8,!1),$=n5(n,"plots",8,null),A=n5(n,"allowedRangeAnnotationOrientations",24,()=>["x","y"]),T=n5(n,"allowRepeated",24,()=>[]),z=n5(n,"allowMobileKeys",8,!0),O=n5(n,"repeatRangeOnSave",8,!1);function N({type:e,annotations:t,plots:n,visWidth:r,visHeight:o}){let i=t.map((e,t)=>Object.assign(Object.assign({},e),{_index:t}));return(n?i.flatMap(t=>t.showInAllPlots&&T().includes(e)?n.map((e,n)=>Object.assign(Object.assign({},t),{position:Object.assign(Object.assign({},t.position),e.positionData),_originalPositionData:(0,yj.default)(t.position,Object.keys(e.positionData)),_repeatedIndex:n})):Object.assign({},t)):i).map(e=>{var t;return Object.assign(Object.assign({},e),{_bounds:(t=e.position,null===n?g8(r,o):eh(t,n,!0))})}).filter(e=>!!e._bounds)}let C=eS(),L=eS(),P=n5(n,"editMode",8,!1),D=n5(n,"editorState",28,()=>({defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,disableControls:!1,hideConnectorLine:!1,forceOffsetDrag:!1,width:null,height:null,dataToPx:null,pxToData:null,draggingOutOfBounds:!1,activeRepeatedAnnotationIndex:null,disableAnnotationInteractions:!1,messages:{disableControls:""},internalProps:{text:{},range:{}}})),R=eS();function I({textAnnotations:e,rangeAnnotations:t,editorState:n}){void 0===e||(0,yM.default)(g(),e)||g([...e]),void 0===t||(0,yM.default)(m(),t)||m([...t]),void 0===n||(0,yM.default)(D(),n)||D(n)}function B(e){var t;if(null===e){D(D().selectedTextAnnotations=[],!0),D(D().selectedRangeAnnotations=[],!0),D(D().activeRepeatedAnnotationIndex=null,!0),e$(er,!1);return}if(D(D().activeRepeatedAnnotationIndex=null!=(t=e.repeatedIndex)?t:null,!0),"text"===e.type){let t=D().selectedTextAnnotations,n=t.length>1;(t[0]!==e.id||n)&&(e$(er,!1),D(D().selectedTextAnnotations=[e.id],!0),D(D().selectedRangeAnnotations=[],!0))}else D(D().selectedRangeAnnotations=[e.id],!0),D(D().selectedTextAnnotations=[],!0)}function F(e){let{annotation:t,type:n}=e,r=(0,yk.default)(t);if("_repeatedIndex"in r&&(r.position=Object.assign(Object.assign({},r.position),r._originalPositionData||{})),delete r._index,delete r._bounds,delete r._repeatedIndex,delete r._originalPositionData,"text"===n){let e=g().findIndex(e=>e.id===t.id);if(!(0,yM.default)(g()[e],r)){if($()){let t=eh(g()[e].position,$()),n=eh(r.position,$());n&&t!==n&&e$(eo,!0)}g(g()[e]=r,!0)}}else{let e=m().findIndex(e=>e.id===t.id);(0,yM.default)(m()[e],r)||m(m()[e]=r,!0)}}no(()=>{let e,t;D()&&tI(R)&&($()&&$().length?(e=$()[0].width,t=$()[0].height):(e=tI(R).offsetWidth,t=tI(R).offsetHeight),(e!==D().width||t!==D().height)&&(D(D().width=e,!0),D(D().height=t,!0)))});let q=eS({text:{},range:{}}),W=eS({initialX:0,initialY:0,deltaX:0,deltaY:0,initialProps:{refPointX:0,refPointY:0,dx:0,dy:0,textWidth:0,rawStart:0,rawEnd:0}}),H=eS(!1),U=!1,Y=eS(),G=eS(),V=eS(),Z=eS(),K=eS(!1),J=eS(!1),Q=eS(0),ee=eS(0),et=eS(null),en=eS(),er=eS(!1),eo=eS(!1);function ei(){e$(Y,!1),e$(G,!1),e$(V,!1),e$(Z,!1),D(D().forceOffsetDrag=!1,!0),e$(H,!1),U=!1,e$(K,!1),e$(eo,!1)}function ea(){e$(J,!1),e$(Q,0),e$(ee,0),e$(et,null),D(D().createMode=!1,!0)}function eu({type:e,createPlot:t,createX:n,createY:r,createDeltaX:o,createDeltaY:i}){let a="x"===e?o:i,l="x"===e?n:r,s="x"===e?t.x:t.y,u="x"===e?t.width:t.height,c=Math.max(a<0?l+a:l,s),d=a<0?l:l+a,f=Math.min(d-c,s+u-c,d-s);return{rangeStart:c,rangeSize:f}}let ec=new Set;function ed(e){return ec.add(e),()=>{ec.delete(e)}}let ef=eS(!1),ep=eS();function eh(e,t,n=!1){return t.find(({positionData:t})=>Object.keys(t).every(r=>e[r]===t[r]||n&&void 0===e[r]))}nr(()=>{e$(ep,document.querySelector(".dw-chart-body"))}),eQ(()=>(tq(g()),tq($()),tq(_()),tq(w())),()=>{e$(o,N({type:"text",annotations:g(),plots:$(),visWidth:_(),visHeight:w()}))}),eQ(()=>(tq(m()),tq(A()),tq($()),tq(_()),tq(w())),()=>{e$(i,N({type:"range",annotations:m().filter(({type:e})=>A().includes(e)),plots:$(),visWidth:_(),visHeight:w()}))}),eQ(()=>tI(o),()=>{e$(a,[...tI(o)].reverse())}),eQ(()=>tI(i),()=>{e$(l,[...tI(i)].reverse())}),eQ(()=>(tI(C),g0),()=>{e$(s,tI(C)<=g0())}),eQ(()=>(tq(z()),tq(g()),tI(s),tq(v())),()=>{e$(u,z()?g9({textAnnotations:g(),isMobileWidth:tI(s),dataToPx:v()}):[])}),eQ(()=>(tq(D()),tq(v())),()=>{D()&&D(D().dataToPx=v(),!0)}),eQ(()=>(tq(D()),tq(y())),()=>{D()&&D(D().pxToData=y(),!0)}),eQ(()=>(tI(q),tq(g()),tq(m())),()=>{D(D().internalProps={text:(0,yj.default)(tI(q).text,g().map(e=>e.id)),range:(0,yj.default)(tI(q).range,m().map(e=>e.id))},!0)}),eQ(()=>(tq(D()),tI(W),tI(ee),tI(Q),tq(A())),()=>{e$(c,e=>{if(!e)return;let t=[];if("text"===D().createMode){let{deltaX:e,deltaY:n}=tI(W);if(1>Math.abs(e))return;t.push(`top: ${n>0?tI(ee):tI(ee)+n}px`),t.push(`height: ${n>0?n:-n}px`),t.push(`left: ${e>0?tI(Q):tI(Q)+e}px`),t.push(`width: ${e>0?e:-e}px`)}else if("range"===D().createMode){let{deltaX:n,deltaY:r}=tI(W);if(1>Math.abs(n)&&1>Math.abs(r))return;if(Math.abs(r)>Math.abs(n)&&A().includes("y")){let{rangeStart:o,rangeSize:i}=eu({type:"y",createPlot:e,createX:tI(Q),createY:tI(ee),createDeltaX:n,createDeltaY:r});t.push(`top: ${o}px`),t.push(`height: ${i}px`),t.push(`left: ${e.x}px`),t.push(`width: ${e.width}px`)}else{let{rangeStart:o,rangeSize:i}=eu({type:"x",createPlot:e,createX:tI(Q),createY:tI(ee),createDeltaX:n,createDeltaY:r});t.push(`left: ${o}px`),t.push(`width: ${i}px`),t.push(`top: ${e.y}px`),t.push(`height: ${e.height}px`)}}return t.join("; ")})}),eQ(()=>(tq(P()),tq(m()),tq(g()),tq(D())),()=>{if(P()){let e={rangeAnnotations:(0,yk.default)(m()),textAnnotations:(0,yk.default)(g()),editorState:(0,yk.default)(D())};ec.forEach(t=>{t(e)})}}),eQ(()=>(tI(ef),tI(H),tI(K),tI(J),tq(D()),tI(ep)),()=>{e$(ef,tI(H)||tI(K)||tI(J)||!!D().createMode),tI(ep)&&(tI(ef)?tI(ep).classList.add("editing-annotations"):tI(ep).classList.remove("editing-annotations"))}),eQ(()=>tq(g()),()=>{e$(d,Object.fromEntries(g().map(e=>[e.id,e])))}),eQ(()=>tq(m()),()=>{e$(f,Object.fromEntries(m().map(e=>[e.id,e])))}),eQ(()=>(tq(D()),tI(d),tI(f),tq($())),()=>{e$(p,[{selected:D().selectedTextAnnotations,annotations:tI(d)},{selected:D().selectedRangeAnnotations,annotations:tI(f)}].flatMap(({selected:e,annotations:t})=>e.map(e=>eh(t[e].position,$()||[]))))}),e0(),nY();var eg,em=yT();tG("keydown",iL,function(e){P()&&"Escape"===e.key&&tI(J)&&ea()}),tG("mousedown",iL,function(){P()&&(D(D().selectedTextAnnotations=[],!0),D(D().selectedRangeAnnotations=[],!0),D(D().activeRepeatedAnnotationIndex=null,!0))}),tG("mousemove",iL,function(e){P()&&((tI(H)||tI(J)||tI(K)&&["l","r"].includes(tI(en)))&&(eE(W,tI(W).deltaX=e.clientX-tI(W).initialX),e.movementX&&(e$(er,!1),U=!0)),(tI(H)||tI(J)||tI(K)&&["t","b"].includes(tI(en)))&&(eE(W,tI(W).deltaY=e.clientY-tI(W).initialY),e.movementY&&(e$(er,!1),U=!0)))}),tG("mouseup",iL,function(e){if(P()){if(!U){let t=e.target,n=t.parentNode;e$(er,t.classList.contains("text-edit")||n.classList&&n.classList.contains("text-edit"))}ei(),tI(J)&&tI(et)&&(function(e){if("text"===D().createMode){D(D().selectedTextAnnotations=[e],!0),D(D().selectedRangeAnnotations=[],!0);let t=g().find(t=>t.id===e);if(t&&g6({textAnnotation:t,isMobileWidth:tI(s),dataToPx:v()}))return;e$(er,!0),setTimeout(()=>{let t=tI(L).querySelector(`[data-annotation-id="${e}"]`);if(t){let e=t.querySelector(".text-edit");e.focus();let n=document.createRange();n.selectNodeContents(e);let r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n))}})}"range"===D().createMode&&(D(D().selectedTextAnnotations=[],!0),D(D().selectedRangeAnnotations=[e],!0))}(function(e){if("text"===D().createMode){let{position:t}=y()({x:tI(Q),y:tI(ee)}),{deltaX:n,deltaY:r}=tI(W),o=function(e,t){let n=e*(E()?-1:1)<0,r=t<0;return n&&r?"br":n&&!r?"tr":!n&&r?"bl":"tl"}(n,r),i=Math.abs(n/e.width*100),a=Object.assign(Object.assign({},(0,yk.default)(D().defaults.text)),{position:t,align:o,width:i,id:yw()});return 10>Math.abs(n)&&10>Math.abs(r)&&(a.width=25,a.align="mc",a.dy=tI(ee)-e.y<100?50:-50,a.connectorLine.enabled=!0),tI(s)&&(a.mobileFallback=!1),g().unshift(a),g([...g()]),a.id}{let{deltaX:t,deltaY:n}=tI(W),r=Math.min(Math.max(tI(Q)+t,e.x),e.x+e.width),o=Math.min(Math.max(tI(ee)+n,e.y),e.y+e.height),{position:i}=y()({x:tI(Q),y:tI(ee)}),a=i.x,l=i.y,{position:s}=y()({x:r,y:o}),u=s.x,c=s.y,d=A().length>1?Math.abs(t)>Math.abs(n)?"x":"y":A()[0],f="range";("x"===d&&10>Math.abs(t)||"y"===d&&10>Math.abs(n))&&(f="line");let p=Object.assign(Object.assign({},(0,yk.default)(D().defaults[f])),{position:Object.assign(Object.assign(Object.assign({},(0,yS.default)(i,["x","y"])),A().includes("x")&&{x0:a,x1:u}),A().includes("y")&&{y0:l,y1:c}),type:d,display:f,id:yw()});return O()&&(p.showInAllPlots=!0),m().unshift(p),m([...m()]),p.id}}(tI(et))),ea()),e$(W,{initialX:0,initialY:0,deltaX:0,deltaY:0,initialProps:{refPointX:0,refPointY:0,dx:0,dy:0,textWidth:0,rawStart:0,rawEnd:0}})}}),tG("mouseleave",iP.body,function(){P()&&(tI(H)||tI(K))&&ei()});var ey=eH(em),eb=e=>{var t=y$();nc(t,5,$,nu,(e,t)=>{let n,r;var o=yE();e2(e=>{n=n_(o,1,"annotation-plot svelte-khhw82",null,n,e),r=nk(o,"",r,{width:(tI(t),tB(()=>`${tI(t).width}px`)),height:(tI(t),tB(()=>`${tI(t).height}px`)),left:(tI(t),tB(()=>`${tI(t).x}px`)),top:(tI(t),tB(()=>`${tI(t).y}px`)),opacity:"1"})},[()=>({"create-plot":tI(J)&&tI(t)===tI(et),"enter-plot":tI(eo)&&tI(p).includes(tI(t)),"show-bounds":function(e,t,n,r){if(!$())return!1;if(t.createMode)return!0;let o=t.selectedRangeAnnotations.length>0,i=t.selectedTextAnnotations.length>0,a=null!==t.activeRepeatedAnnotationIndex&&t.activeRepeatedAnnotationIndex>=0;return i&&r||o&&(n||r)&&(e||a)}(tI(p).includes(tI(t)),D(),tI(K),tI(H))})],ev),t0(e,o)}),eD(t),t0(e,t)};nl(ey,e=>{tq(P()),tq($()),tB(()=>P()&&$()&&$().length)&&e(eb)});var ex=eY(ey,2);nc(ex,5,()=>tI(a),nu,(t,n)=>{let r=ev(()=>null!==$()),o=ev(()=>(tq(T()),tB(()=>T().includes("text"))));!function(t,n){el(n,!1),nm(t,vA);let r=eS(),o=eS(),i=eS(),a=eS(),l=eS(),s=eS(),u=eS(),c=eS(),d=eS(),f=eS(),p=eS(),h=eS(),g=eS(),m=eS(),v=eS(),y=eS(),b=eS(),x=eS(),_=eS(),w=eS(),k=eS(),M=eS(),j=eS(),S=eS(),E=eS(),$=eS(),A=eS(),T=eS(),z=eS();var O=eS();let N=n5(n,"annotation",12),C=n5(n,"dataToPx",8),L=n5(n,"pxToData",8),P=n5(n,"bounds",8),D=n5(n,"theme",8),R=n5(n,"cm",8),I=n5(n,"chroma",8),B=n5(n,"purifyHtml",8),F=n5(n,"key",8),q=n5(n,"rtl",8,!1),W=n5(n,"mirrorX",8,!1),H=n5(n,"isMobileWidth",8,!1),U=n5(n,"allowRepeated",8,!1),Y=n5(n,"isMultiplePlotsMode",8,!1),G=eS(0),V=eS(0),Z=eS(),K=eS(0),J=eS(0),Q=eS(),ee=eS(0);function et(){tI(Z)&&tI(Z).offsetWidth&&tI(Z).offsetHeight&&(e$(K,tI(Z).offsetWidth),e$(J,tI(Z).offsetHeight),e$(ee,tI(Q)&&tI(Q).offsetWidth||tI(e_)&&tI(e_).offsetWidth||0),function(){if(!N().connectorLine||!N().connectorLine.enabled)return;let e=rL(tI(ei));e.selectAll("*").remove();let{circle:t,circleRadius:n,stroke:r,inheritColor:o,targetPadding:a}=N().connectorLine,[l,s]=tI(v)(N(),{useInnerText:!0}),u=l-tI(G);q()&&tI(p)&&(u-=tI(h));let d=s-tI(V),g=o&&tI(c)&&!tI(f)?tI(c):vy(D(),"color",tI(i)),m={curveLeft:W()?"curveRight":"curveLeft",curveRight:W()?"curveLeft":"curveRight",straight:"straight"},y=tI(f)?tI(K):tI(ee),b=function(e={}){return e=t8({sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black"},e),function(t){return t.each(function(t){var n;let r=t8(t8({},e),t),o=rL(this).append("g.callout-line").attr("aria-hidden",!0);r.arrowHead&&(r.targetPadding+=r.strokeWidth,r.circleRadius+=r.strokeWidth);let i=r.color,a=o.append("path").style("fill","none").style("stroke",i).style("stroke-width",r.strokeWidth).call(gI[r.type](r));r.arrowHead&&function(e,t,n,r,o){let i=gW[n];if(!t.getTotalLength)return;let a=t.getTotalLength();if(0===a)return;let l=t.getPointAtLength(a),s=t.getPointAtLength(a-10),u=Math.min(1,a/i.minLen/r),[c,d]=[l.x-s.x,l.y-s.y],f=Math.atan2(d,c)/Math.PI*180,p=e.append("path.callout-line-arrow-head").attr("d",i.path).attr("transform",`translate(${l.x}, ${l.y}) rotate(${f}) scale(${r*u}) `);i.strokes?p.classed("callout-line-arrow-head-stroke",!0).style("fill","none").style("stroke",o).style("stroke-width",1/u):p.style("fill",o).style("stroke","none")}(o,a.node(),r.arrowHead,r.strokeWidth,i),r.circle&&o.append("circle").style("fill","none").style("stroke",i).style("stroke-width",r.strokeWidth).style("stroke-dasharray","dashed"===r.circleStyle?(n=r.strokeWidth,`${2+n}, ${4+n}`):void 0).attr("r",r.circleRadius-(r.arrowHead?r.strokeWidth:0))})}}(Object.assign(Object.assign({},N().connectorLine),{circle:t,circleRadius:n,source:{x:u,y:d,width:y,height:tI(J)},sourcePadding:function(){if(!tI(f))return 4;let e=er();return e.includes("c")||e.includes("m")?0:-Math.sqrt(Math.pow((tI(K)*Math.sqrt(2)-tI(K))/2,2)/2)}(),targetPadding:tI(f)?0:a,strokeWidth:tI(f)?1:r,color:g,type:m[N().connectorLine.type]}));e.call(b);let x=tI(ei).getBBox();e$(ea,Math.max(Math.ceil(x.width),1)),e$(eu,Math.max(Math.ceil(x.height),1));let _=e.select(".callout-line").select("path").attr("d");10>function(e,t){let n=e.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),r=Math.max(Math.abs(Number(n[0])),Math.abs(Number(n[1])))-t;return isNaN(r)&&(r=0),r}(_,a)||eo(5)||function(e,t,n){if(!e||!n)return;let r=t.indexOf("M ")+2,o=t.indexOf(" ",r),i=t.substring(r,o).split(",").map(e=>parseInt(e,10));return Math.pow(i[0]-0,2)+Math.pow(i[1]-0,2)<Math.pow(n,2)}(t,_,n)?(e.selectAll("*").remove(),tI(ex)&&ef(ef().hideConnectorLine=!0,!0)):tI(ex)&&ef(ef().hideConnectorLine=!1,!0)}())}no(()=>{ec()?et():tD().then(et)}),nr(()=>{let e=new ResizeObserver(()=>{et()});tI(Z)&&e.observe(tI(Z))});let en=eS(!1);function er(){let e=(t=N().dy,Math.atan(t/N().dx)*me+90);N().dx<0&&(e+=180);var t,n=e;switch(!0){case n>337.5||n<=22.5:return"bc";case n>22.5&&n<=67.5:return"bl";case n>67.5&&n<=112.5:return"ml";case n>112.5&&n<=157.5:return"tl";case n>157.5&&n<=202.5:return"tc";case n>202.5&&n<=247.5:return"tr";case n>247.5&&n<=292.5:return"mr";case n>292.5&&n<=337.5:return"br";default:return"mc"}}function eo(e){let[t,n]=tI(v)(N(),{useInnerText:!0}),r=t,o=t+tI(ee);q()&&tI(p)&&(r-=tI(h),o-=tI(h));let i=n+tI(J);return tI(G)>r-e&&tI(G)<o+e&&tI(V)>n-e&&tI(V)<i+e}let ei=eS(),ea=eS(1),eu=eS(1),ec=n5(n,"editMode",8,!1),ed=n5(n,"isEditable",12,!1),ef=n5(n,"editorState",12),ep=n5(n,"selectAnnotation",8,()=>{}),eh=n5(n,"updateAnnotation",8,()=>{}),eg=n5(n,"index",8),em=n5(n,"repeatedIndex",8),ey=eS(!1);function eb(){tI(ey)||eh()({annotation:N(),type:"text"})}let ex=eS(!1),e_=eS(),ew=n5(n,"interactionData",12),ek=n5(n,"dragging",12,!1),eM=n5(n,"noOffsetAtEventStart",12),ej=n5(n,"forceOffsetDrag",12),eE=n5(n,"forceAnchorDrag",12),eA=n5(n,"modifyInteraction",12);function eT({clientX:e,clientY:t}){ew(ew().initialX=e,!0),ew(ew().initialY=t,!0),ew(ew().initialProps={refPointX:tI(G),refPointY:tI(V),dx:N().dx,dy:N().dy,textWidth:tI(K)},!0)}function ez(e){if(!ec())return;gj(),ep()({type:"text",index:eg(),repeatedIndex:em(),id:N().id});let t=e.target,n=t.parentNode,r="true"===t.contentEditable||"true"===n.contentEditable;tI(f)||r&&tI(ex)||(ek(!0),ej(e.ctrlKey),ej()&&ef(ef().forceOffsetDrag=!0,!0),eM(0===N().dx&&0===N().dy),eT(e))}function eO(e){ec()&&e.preventDefault()}function eN(e){ec()&&e.preventDefault()}function eP(e){ec()&&(gj(),ep()({type:"text",index:eg(),repeatedIndex:em(),id:N().id}),ek(!0),eE(!0),eT(e))}let eR=n5(n,"activeResizer",12),eI=n5(n,"resizing",12,!1),eB=eS(),eq=eS(N().text);function eW(){N(N().text=tI(eB).slice&&"&nbsp;"===tI(eB).slice(-6)&&"&nbsp;&nbsp;"!==tI(eB).slice(-12)?`${tI(eB).slice(0,-6)} `:tI(eB),!0),eb()}function eG(){gj()}let eX=eS(),eV=eS(1),eZ=eS(1);function eK(){N(N().width=tI(K)/P().width*100,!0),eb()}let eJ=n5(n,"internalProps",28,()=>({}));eQ(()=>tq(D()),()=>{e$(r,{mobile:cg(D(),"vis.base.annotations.mobile",{}),desktop:cg(D(),"vis.base.annotations.text",{})})}),eQ(()=>tq(D()),()=>{e$(o,cg(D(),"colors.background","#ffffff"))}),eQ(()=>(tq(D()),tq(I())),()=>{e$(i,mn(D(),I()).fallbackBaseColor)}),eQ(()=>(tI(r),tI(o)),()=>{e$(a,cg(tI(r).mobile,"icons.background",g4(tI(o),.7)))}),eQ(()=>(tI(r),tI(i)),()=>{e$(l,cg(tI(r).mobile,"icons.outline",`1px solid ${tI(i)}`))}),eQ(()=>tI(r),()=>{e$(s,tI(r).desktop.color)}),eQ(()=>tq(W()),()=>{e$(u,W()?-1:1)}),eQ(()=>(tq(N()),tq(R()),tI(s)),()=>{e$(c,N().color?R()(N().color):R()(tI(s),{noInvert:!0}))}),eQ(()=>(tI(G),tI(V),tq(C()),tq(N())),()=>{var e;e$(G,(e=X(C()({position:N().position}),2))[0]),e$(V,e[1])}),eQ(()=>tI(G),()=>{e$(g,void 0===tI(G))}),eQ(()=>tI(V),()=>{e$(m,void 0===tI(V))}),eQ(()=>(tq(P()),tI(g),tI(m),tq(L()),tI(G),tI(V),tq(Y()),tq(N())),()=>{if(P()&&!tI(g)&&!tI(m)){let{validPosition:e}=L()(Object.assign({x:tI(G),y:tI(V)},Y()&&{referencePosition:N().position}));e$(en,Y()&&!1===e)}}),eQ(()=>(tq(N()),tq(H()),tI(en)),()=>{var e;e$(d,g3(N())||!!g2((e=N()).showMobile)&&!1===e.showDesktop&&!H()||g5(N())&&H()||tI(en))}),eQ(()=>tq(F()),()=>{e$(f,F()&&F().render)}),eQ(()=>tq(N()),()=>{N(N().dx=+N().dx||0,!0)}),eQ(()=>tq(N()),()=>{N(N().dy=+N().dy||0,!0)}),eQ(()=>(tI(f),tI(ee),tI(K)),()=>{e$(p,!tI(f)&&tI(ee)>tI(K))}),eQ(()=>(tI(ee),tI(K)),()=>{e$(h,tI(ee)-tI(K))}),eQ(()=>tq(N()),()=>{e$(_,0===N().dx&&0===N().dy)}),eQ(()=>(tI(G),tI(V),tI(f),tI(u),tI(_),tq(W()),tI(p),tI(ee),tI(K),tI(J)),()=>{e$(v,(e,{useInnerText:t=!1}={})=>{let[n,r]=[tI(G),tI(V)],o=e.align;tI(f)||(n+=e.dx*tI(u),r+=e.dy),tI(f)&&!tI(_)&&([n,r]=function(e,t){let n=N().connectorLine.circle?Math.max(0,N().connectorLine.circleRadius):0,r=22+n,o=(27+n)*tI(u),i=er(),[a,l]={br:[-r,-r],bc:[-o,0],bl:[-r,r],mr:[0,-o],mc:[-o-.5*tI(J),0],ml:[0,o],tr:[r,-r],tc:[o,0],tl:[r,r]}[i];return[e+=l,t+=a]}(n,r),o="mc");let i={l:W()?"r":"l",c:"c",r:W()?"l":"r"}[o.charAt(1)],a=o.charAt(0);return[n-=(!t||tI(p)||tI(f)?tI(K):tI(ee))*({l:0,c:.5,r:1})[i],r-=tI(J)*({t:0,m:.5,b:1})[a]]})}),eQ(()=>(tI(v),g1),()=>{e$(y,e=>{let[t,n]=tI(v)(e);return g1(t,n)})}),eQ(()=>(tI(f),tI(c),tI(o),tI(l),tI(a),tI(y)),()=>{e$(b,e=>{let t=[];return tI(f)?(t.push(`border: ${tI(l)}`),t.push(`background-color: ${tI(a)}`)):(t.push(...function(e){let t=[];return e.width&&t.push(`width: ${function(e){let t=P().width*(e.width/100);return`${t}px`}(e)}`),t.push(`font-size: ${e.size||14}px`),t.push(`min-height: ${e.size||14}px`),t.push(`text-align: ${!e.align?"center":({l:W()?"right":"left",c:"center",r:W()?"left":"right"})[e.align.charAt(1)]}`),t}(e)),tI(c)&&t.push(`color: ${tI(c)}`),e.bg&&tI(o)&&t.push(`text-shadow: ${function(e,t,n){let r=[],o=(0,gQ.default)(-2,3);return o.forEach(e=>{o.forEach(t=>{(e||t)&&r.push(e+"px "+t+"px "+(e&&t?0:2)+"px "+n)})}),r.join(", ")}(2,0,tI(o))}`)),t.push(`transform: ${tI(y)(e)}`),t.join("; ")})}),eQ(()=>(tq(N()),tq(em()),tq(ef())),()=>{var e,t,n;e=N(),t=em(),n=ef(),e$(ey,!!(e.showInAllPlots&&U())&&void 0!==t&&t!==n.activeRepeatedAnnotationIndex)}),eQ(()=>tq(em()),()=>{e$(x,void 0!==em())}),eQ(()=>tq(ef()),()=>{e$(ex,ef().selectedTextAnnotations.includes(N().id))}),eQ(()=>(tq(ed()),tI(e_)),()=>{!ed()&&tI(e_)&&tI(e_).blur()}),eQ(()=>tq(N()),()=>{e$(w,"mc"===N().align)}),eQ(()=>(tq(ec()),tI(ex),tI(f),tI(_),tI(w)),()=>{e$(k,ec()&&tI(ex)&&!tI(f)&&!(tI(_)&&tI(w)))}),eQ(()=>(tq(ec()),tI(ex),tI(f),tI(_)),()=>{e$(M,ec()&&tI(ex)&&!tI(f)&&!tI(_))}),eQ(()=>(tI(G),tI(V),g1),()=>{e$(j,()=>{let[e,t]=[tI(G),tI(V)];return g1(e-=2.5,t-=2.5)})}),eQ(()=>(tq(ec()),tI(ex),tI(f),tI(_),tI(w)),()=>{e$(S,ec()&&tI(ex)&&!tI(f)&&!tI(_)&&!tI(w))}),eQ(()=>(tI(G),tI(V),tq(N()),tI(u),g1),()=>{e$(E,()=>{let[e,t]=[tI(G),tI(V)];return e-=2.5,t-=2.5,g1(e+=N().dx*tI(u),t+=N().dy)})}),eQ(()=>(tI(ex),tq(ew()),tq(ek()),tI(ey),tq(eM()),tq(ej()),tq(eE()),tq(eA()),tq(L()),tI(x),tq(N()),tq(Y()),tI(u)),()=>{if(tI(ex)&&(ew().deltaX||ew().deltaY)&&ek()&&!tI(ey)){let{deltaX:e,deltaY:t,initialProps:n}=ew();if(eM()&&!ej()||eE()||eA()){let r=((null==n?void 0:n.refPointX)||0)+e,o=((null==n?void 0:n.refPointY)||0)+t,{position:i,validPosition:a}=L()(Object.assign({x:r,y:o},tI(x)&&{referencePosition:N().position}));N(N().position=Object.assign(Object.assign({},N().position),i),!0),ef(ef().draggingOutOfBounds=Y()&&!1===a,!0)}else{let r=((null==n?void 0:n.dx)||0)+e*tI(u),o=((null==n?void 0:n.dy)||0)+t;N(N().dx=r,!0),N(N().dy=o,!0)}ej()&&eM()&&!N().connectorLine.enabled&&!eo(20)&&(N(N().connectorLine.enabled=!0,!0),N(N().connectorLine.type="curveLeft",!0)),eb()}}),eQ(()=>(tq(ek()),tI(ex),tq(ef()),tq(N()),tq(U()),tq(em()),tq(C()),tq(L()),tI(x)),()=>{if(!ek()&&tI(ex)&&!0===ef().draggingOutOfBounds&&(!(N().showInAllPlots&&U())||em()===ef().activeRepeatedAnnotationIndex)){let e=C()({position:N().position}),{position:t}=L()(Object.assign({x:e[0],y:e[1],clamped:!0},tI(x)&&{referencePosition:N().position}));N(N().position=Object.assign(Object.assign({},N().position),t),!0),ef(ef().draggingOutOfBounds=!1,!0),eb()}}),eQ(()=>(tI(ex),tq(ew()),tq(eI()),tI(ey),tq(N()),tq(eR()),tq(W()),tq(eM()),tq(C()),tq(L()),tq(P())),()=>{if(tI(ex)&&ew().deltaX&&eI()&&!tI(ey)){let{deltaX:e,initialProps:t}=ew(),n=(null==t?void 0:t.textWidth)||0,r=(null==t?void 0:t.refPointX)||0,o=(null==t?void 0:t.dx)||0,i=n+e,a=r,l=o;if(N().align.includes("c")?(a=r+e/2,l=o+e/2,"l"===eR()&&(i=n-e)):N().align.includes(W()?"r":"l")?"l"===eR()&&(a=r+e,l=o+e,i=n-e):N().align.includes(W()?"l":"r")&&("l"===eR()&&(i=n-e),"r"===eR()&&(a=r+e,l=o+e)),eM()){let e=C()({position:N().position}),{position:t}=L()({x:a,y:e[1]});N(N().position=Object.assign(Object.assign({},N().position),t),!0)}else N(N().dx=l,!0);let s=i/P().width*100;N(N().width=Math.max(5,s),!0),eb()}}),eQ(()=>(tI(e_),tq(B()),tq(N())),()=>{tI(e_)&&tI(e_)===document.activeElement||(e$(eB,B()(N().text)),e$(eq,N().text))}),eQ(()=>(tq(ec()),tI(ex),O&&tI(O),tq(N()),tI(_),tI(f)),()=>{e$($,ec()&&tI(ex)&&!(null===e$(O,N().connectorLine)||void 0===(O&&tI(O))?void 0:(O&&tI(O)).enabled)&&!tI(_)&&!tI(f))}),eQ(()=>(tI(G),tI(V),tI(u)),()=>{e$(A,e=>{let[t,n]=[tI(G),tI(V)];return`M ${t},${n} L${t+e.dx*tI(u)},${n+e.dy}`})}),eQ(()=>(tI(eX),tI($)),()=>{if(tI(eX)&&tI($)){let e=tI(eX).getBBox();e$(eV,Math.max(Math.ceil(e.width),1)),e$(eZ,Math.max(Math.ceil(e.height),1))}}),eQ(()=>(tq(em()),tI(G),tI(V),tI(g),tI(m),tI(K),tI(J),tI(f),tq(N())),()=>{(void 0===em()||0===em())&&eJ({x:tI(G),y:tI(V),invalidX:tI(g),invalidY:tI(m),width:tI(K),height:tI(J),mobileFallback:tI(f),text:N().text})}),eQ(()=>(tI(o),tq(I())),()=>{e$(T,50>mt(tI(o),I()))}),eQ(()=>tI(T),()=>{e$(z,tI(T)?"rgb(0 0 0 / .8)":"rgb(255 255 255 / .9)")}),e0(),nY();var e5=tQ();tG("keydown",iL,function(e){if(!ec()||tI(f))return;let t="ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key;if("Escape"===e.key&&tI(ex)&&ed())tI(e_).blur(),ed(!1);else if("Escape"===e.key&&tI(ex))ep()(null);else if(t&&tI(ex)&&!ed()){e.preventDefault();let t="ArrowLeft"===e.key?-1:+("ArrowRight"===e.key),n="ArrowUp"===e.key?-1:+("ArrowDown"===e.key);if(e.ctrlKey)N(N().dx+=t*tI(u),!0),N(N().dy+=n,!0);else{let[e,r]=C()({position:N().position});e+=t,r+=n;let{position:o,validPosition:i}=L()({x:e,y:r});Y()&&!0!==i||N(N().position=Object.assign(Object.assign({},N().position),o),!0)}}eb()}),tG("mousemove",iL,function(e){tI(ex)&&(ew().deltaX||ew().deltaY)&&ek()&&!tI(ey)&&!eM()&&(e.ctrlKey&&!eA()?(eT(e),ew(ew().deltaX=0,!0),ew(ew().deltaY=0,!0),eA(!0)):!e.ctrlKey&&eA()&&(eT(e),ew(ew().deltaX=0,!0),ew(ew().deltaY=0,!0),eA(!1)))});var e3=eU(e5),e4=t=>{let n,r;var o=v$(),i=eH(o),a=e=>{var t=vb(),n=eH(t);nW(n,e=>e$(ei,e),()=>tI(ei)),eD(t),e2(e=>{nk(t,e),nS(n,"width",tI(ea)),nS(n,"height",tI(eu))},[()=>(tq(g1),tI(G),tI(V),tB(()=>`transform: ${g1(tI(G),tI(V))}`))],ev),t0(e,t)};nl(i,e=>{tq(N()),tB(()=>N().connectorLine&&N().connectorLine.enabled)&&e(a)});var l=eY(i,2),s=e=>{var t=vx(),n=eH(t),r=eH(n);eD(n),nW(n,e=>e$(eX,e),()=>tI(eX)),eD(t),e2(e=>{nS(n,"width",tI(eV)),nS(n,"height",tI(eZ)),nS(r,"d",e)},[()=>(tI(A),tq(N()),tB(()=>tI(A)(N())))],ev),t0(e,t)};nl(l,e=>{tI($)&&e(s)});var u=eY(l,2),c=e=>{let t;var n=v_();e2((e,r)=>{t=n_(n,1,"reference-point svelte-ygoydr",null,t,e),nk(n,r)},[()=>({hollow:tI(M)}),()=>(tI(j),tB(()=>`transform: ${tI(j)()}`))],ev),tG("mousedown",n,nU(eP)),t0(e,n)};nl(u,e=>{tI(k)&&e(c)});var p=eY(u,2),h=e=>{var t=vw();e2(e=>nk(t,e),[()=>(tI(E),tB(()=>`transform: ${tI(E)()}`))],ev),t0(e,t)};nl(p,e=>{tI(S)&&e(h)});var g=eY(p,2),m=eH(g),v=e=>{var t=tQ(),n=eU(t),r=e=>{var t=vk(),n=eH(t,!0);eD(t),e2(()=>t7(n,(tq(F()),tB(()=>F().num)))),t0(e,t)},o=e=>{var t=vS(),n=eH(t),r=e=>{let t;var n=vM();nh(eH(n),()=>(tq(B()),tI(eq),tB(()=>B()(tI(eq))))),eD(n),nW(n,e=>e$(e_,e),()=>tI(e_)),e2(()=>t=nk(n,"",t,{background:tI(z)})),function(e,t,n,r=n){t.addEventListener("input",()=>{r(t[e])}),e1(()=>{var o=n();t[e]!==o&&(null==o?r(t[e]):t[e]=o+"")})}("innerHTML",n,()=>tI(eB),e=>e$(eB,e)),tG("input",n,eW),tG("blur",n,eG),t0(e,n)},o=e=>{var t=vj();nh(eH(t),()=>(tq(B()),tq(N()),tB(()=>B()(N().text)))),eD(t),nW(t,e=>e$(e_,e),()=>tI(e_)),t0(e,t)};nl(n,e=>{ed()&&tI(ex)?e(r):e(o,!1)}),eD(t),t0(e,t)};nl(n,e=>{tI(f)?e(r):e(o,!1)}),t0(e,t)},y=t=>{var n=vE(),r=eH(n),o=t=>{var n=function(t=""){if(!eC){var n=eF(t+"");return tZ(n,n),n}var r=e;return 3!==r.nodeType&&(r.before(r=eF()),eL(r)),tZ(r,r),r}();e2(()=>t7(n,(tq(F()),tB(()=>F().num)))),t0(t,n)},i=e=>{var t=tQ();nh(eU(t),()=>(tq(B()),tq(N()),tB(()=>B()(N().text)))),t0(e,t)};nl(r,e=>{tI(f)?e(o):e(i,!1)}),eD(n),nW(n,e=>e$(Q,e),()=>tI(Q)),t0(t,n)};nl(m,e=>{ec()?e(v):e(y,!1)});var x=eY(m,2),_=e=>{gz(e,{type:"text",get annotation(){return N()},get index(){return eg()},get repeatedIndex(){return em()},selectAnnotation:ep(),setWidth:eK,startInteraction:eT,get noOffsetAtEventStart(){return eM()},set noOffsetAtEventStart($$value){eM($$value)},get activeResizer(){return eR()},set activeResizer($$value){eR($$value)},get resizing(){return eI()},set resizing($$value){eI($$value)},$$legacy:!0})};nl(x,e=>{ec()&&!tI(f)&&e(_)}),eD(g),nW(g,e=>e$(Z,e),()=>tI(Z)),eD(o),e2((e,t,i)=>{n=n_(o,1,"text-annotation svelte-ygoydr",null,n,e),nS(o,"data-annotation-id",(tq(N()),tB(()=>N().id))),r=n_(g,1,"text svelte-ygoydr",null,r,t),nk(g,i)},[()=>({hide:tI(d),"edit-mode":ec(),selected:tI(ex),editable:ed()&&tI(ex),"not-editable":!ed()||!tI(ex),key:tI(f),dragging:ek(),resizing:eI(),"out-of-bounds":tI(en)}),()=>({"dw-bold":N().bold||tI(f),italic:N().italic&&!tI(f),underline:N().underline&&!tI(f),"dw-circle":tI(f),num:tI(f)}),()=>(tI(b),tq(N()),tB(()=>tI(b)(N())))],ev),tG("mousedown",g,nU(ez)),tG("click",g,eO),tG("contextmenu",g,eN),t0(t,o)};nl(e3,e=>{tI(g)||tI(m)||e(e4)}),t0(t,e5),es()}(t,{get annotation(){return tI(n)},get dataToPx(){return v()},get pxToData(){return y()},get isMultiplePlotsMode(){return tI(r)},get bounds(){return tI(n),tB(()=>tI(n)._bounds)},get theme(){return b()},cm:x(),get chroma(){return M()},get purifyHtml(){return j()},get key(){return tI(u),tI(n),tB(()=>tI(u)[tI(n)._index])},get rtl(){return S()},get mirrorX(){return E()},get isMobileWidth(){return tI(s)},get editMode(){return P()},get editorState(){return D()},get index(){return tI(n),tB(()=>tI(n)._index)},get repeatedIndex(){return tI(n),tB(()=>tI(n)._repeatedIndex)},get allowRepeated(){return tI(o)},selectAnnotation:B,updateAnnotation:F,get noOffsetAtEventStart(){return tI(Y)},set noOffsetAtEventStart($$value){e$(Y,$$value)},get isEditable(){return tI(er)},set isEditable($$value){e$(er,$$value)},get dragging(){return tI(H)},set dragging($$value){e$(H,$$value)},get forceAnchorDrag(){return tI(V)},set forceAnchorDrag($$value){e$(V,$$value)},get forceOffsetDrag(){return tI(G)},set forceOffsetDrag($$value){e$(G,$$value)},get modifyInteraction(){return tI(Z)},set modifyInteraction($$value){e$(Z,$$value)},get resizing(){return tI(K)},set resizing($$value){e$(K,$$value)},get activeResizer(){return tI(en)},set activeResizer($$value){e$(en,$$value)},get interactionData(){return tI(W)},set interactionData($$value){e$(W,$$value)},get internalProps(){return tI(q).text[tI(n).id]},set internalProps($$value){eE(q,tI(q).text[tI(n).id]=$$value)},$$legacy:!0})}),eD(ex),nW(ex,e=>e$(L,e),()=>tI(L));var e_=eY(ex,2);nc(e_,5,()=>tI(l),nu,(e,t)=>{let n=ev(()=>(tq(T()),tB(()=>T().includes("range"))));!function(e,t){el(t,!1),nm(e,vC);let n=eS(),r=eS(),o=eS(),i=eS(),a=eS(),l=eS(),s=eS(),u=eS(),c=n5(t,"annotation",12),d=n5(t,"dataToPx",8),f=n5(t,"pxToData",8),p=n5(t,"bounds",8),h=n5(t,"theme",8),g=n5(t,"cm",8),m=n5(t,"editMode",8,!1),v=n5(t,"editorState",8),y=n5(t,"selectAnnotation",8,()=>{}),b=n5(t,"updateAnnotation",8,()=>{}),x=n5(t,"index",8),_=n5(t,"repeatedIndex",8),w=n5(t,"allowRepeated",8,!1),k=n5(t,"interactionData",12),M=n5(t,"resizing",12,!1),j=n5(t,"dragging",12,!1),S=n5(t,"activeResizer",12),E=n5(t,"modifyInteraction",12),$=eS(!1);function A(e){m()&&(y()({type:"range",index:x(),repeatedIndex:_(),id:c().id}),j(!0),R(e))}function T(e,t){let{color:n,opacity:r,display:o}=e,i=function(e,t){var n,r,o,i,a;let{display:l}=e,s=(null==(o=null==(r=null==(n=t._computed)?void 0:n.original)?void 0:r.annotations)?void 0:o[l])||{},u=s.color||vT[l].color,c=100*(s.opacity||vT[l].opacity/100),d=null!=(i=e.color)?i:u,f=null!=(a=e.opacity)?a:c;return ox(u).toString()===ox(d).toString()&&c===f}(e,t),a=cg(t,`vis.base.annotations.${o}`,{}),l=i&&a.color&&"opacity"in a?g4(a.color,a.opacity):g4(n,r/100);return g()(l,{noInvert:i})}function z(e){let t="x"===e?p().x:p().y,n="x"===e?p().width:p().height;return{plotStart:t,plotEnd:t+n,plotOtherAxisStart:"x"===e?p().y:p().x,plotOtherAxisSize:"x"===e?p().height:p().width}}let O=eS(!1),N=eS(!1),C=eS(!1),L=eS(!1);function P(){c().showInAllPlots&&w()&&_()!==v().activeRepeatedAnnotationIndex||b()({annotation:c(),type:"range"})}function D(e,t,n){return!(e.showInAllPlots&&w())||e.showInAllPlots&&w()&&t===n.activeRepeatedAnnotationIndex}function R({clientX:e,clientY:t}){k(k().initialX=e,!0),k(k().initialY=t,!0),k(k().initialProps={rawStart:tI(n),rawEnd:tI(r)},!0)}let I=n5(t,"internalProps",28,()=>({}));eQ(()=>tq(v()),()=>{var e;e$($,1===(e=v()).selectedRangeAnnotations.length&&e.selectedRangeAnnotations[0]===c().id)}),eQ(()=>(tI(n),tI(r),tq(c()),tq(d())),()=>{var e;e$(n,(e=X(g7(c(),d()),2))[0]),e$(r,e[1])}),eQ(()=>tI(n),()=>{e$(o,void 0===tI(n))}),eQ(()=>tI(r),()=>{e$(i,void 0===tI(r))}),eQ(()=>(tI(n),tI(r)),()=>{e$(a,Math.min(tI(n),tI(r)))}),eQ(()=>(tI(n),tI(r)),()=>{e$(l,Math.max(tI(n),tI(r)))}),eQ(()=>(tI(a),tI(l)),()=>{e$(s,(e,t)=>{let{type:n}=e,r=[],{plotStart:o,plotEnd:i,plotOtherAxisStart:s,plotOtherAxisSize:u}=z(n),c=Math.max(tI(a),o),d=Math.min(tI(l)-tI(a),i-tI(a),tI(l)-o);return e$(O,tI(a)<o),e$(N,tI(l)>i),d>=0?(r.push(`${"x"===n?"left":"top"}: ${c}px`),r.push(`${"x"===n?"width":"height"}: ${d}px`),r.push(`${"x"===n?"top":"left"}: ${s}px`),r.push(`${"x"===n?"height":"width"}: ${u}px`)):r.push("display: none"),r.push(`background-color: ${T(e,t)}`),r.join("; ")})}),eQ(()=>tI(n),()=>{e$(u,(e,t)=>{let{type:r,strokeWidth:o,strokeType:i}=e,a=o||1,l=[],{plotStart:s,plotEnd:u,plotOtherAxisStart:c,plotOtherAxisSize:d}=z(r),f=tI(n)-a/2;if(tI(n)<=u&&tI(n)>=s){l.push(`${"x"===r?"left":"top"}: ${f}px`),l.push(`${"x"===r?"top":"left"}: ${c}px`),l.push(`${"x"===r?"height":"width"}: ${d}px`),l.push(`${"x"===r?"border-left-width":"border-top-width"}: ${a}px`);let e=tI(n)+a/2-a,t=tI(n)-a/2+a;if(e$(C,!1),e$(L,!1),e<s){let t=Number((s-e).toFixed(1)),n="x"===r?`0 -5px 0 ${t}px`:`${t}px 0 -5px 0`;l.push(`clip-path: inset(${n})`),e$(C,!0)}if(t>u){let e=Number((t-u).toFixed(1)),n="x"===r?`0 ${e}px 0 -5px`:`-5px 0 ${e}px 0`;l.push(`clip-path: inset(${n})`),e$(L,!0)}}else l.push("display: none");return l.push(`border-color: ${T(e,t)}`),l.push(`border-style: ${i||"solid"}`),l.join("; ")})}),eQ(()=>(tq(c()),tq(_()),tq(v()),tI($),tq(k()),tq(M()),tq(S()),tq(p()),tq(f()),tq(E())),()=>{if(D(c(),_(),v())&&tI($)&&(k().deltaX||k().deltaY)&&M()){let{deltaX:e,deltaY:t,initialProps:n}=k();if(["l","r"].includes(S())){let t=((null==n?void 0:n.rawStart)||0)+e,r=((null==n?void 0:n.rawEnd)||0)+e,o="x0",i=t,a=((null==n?void 0:n.rawStart)||0)-e,l=((null==n?void 0:n.rawEnd)||0)-e,s="x1",u=l;"line"!==c().display&&("l"===S()&&t>r||"r"===S()&&t<r)&&(o="x1",i=r,s="x0",u=a);let d=p().x,h=p().x+p().width;if(i>=d&&i<=h){let{position:e}=f()({x:i,y:p().y}),t=e.x;if(c().position[o]!==t&&c(c().position=Object.assign(Object.assign({},c().position),{[o]:t}),!0),E()&&u>=d&&u<=h){let{position:e}=f()({x:u,y:p().y}),t=e.x;c().position[s]!==t&&c(c().position=Object.assign(Object.assign({},c().position),{[s]:t}),!0)}}}else{let e=((null==n?void 0:n.rawStart)||0)+t,r=((null==n?void 0:n.rawEnd)||0)+t,o="y0",i=e;"line"!==c().display&&("t"===S()&&e>r||"b"===S()&&e<r)&&(o="y1",i=r);let a=p().y,l=p().y+p().height;if(i>=a&&i<=l){let{position:e}=f()({x:p().x,y:i}),t=e.y;c().position[o]!==t&&c(c().position=Object.assign(Object.assign({},c().position),{[o]:t}),!0)}}P()}}),eQ(()=>(tq(c()),tq(_()),tq(v()),tI($),tq(k()),tq(j()),tq(d()),tq(p()),tq(f())),()=>{if(D(c(),_(),v())&&tI($)&&(k().deltaX||k().deltaY)&&j()){let{deltaX:e,deltaY:t,initialProps:n}=k(),r=c().type;if("x"===r){let[t,o]=g7(c(),d()),i=Math.min(t,o),a=Math.max(t,o),l=((null==n?void 0:n.rawStart)||0)+e,s=((null==n?void 0:n.rawEnd)||0)+e,u=Math.min(l,s),h=Math.max(l,s);if(gS({type:r,bounds:p(),start:i,end:a,newStart:u,newEnd:h})){let{position:e}=f()({x:l,y:p().y}),t=e.x,{position:n}=f()({x:s,y:p().y}),r=n.x;(c().position.x0!==t||c().position.x1!==r)&&c(c().position=Object.assign(Object.assign({},c().position),{x0:t,x1:r}),!0)}}else{let[e,o]=g7(c(),d()),i=Math.min(e,o),a=Math.max(e,o),l=((null==n?void 0:n.rawStart)||0)+t,s=((null==n?void 0:n.rawEnd)||0)+t,u=Math.min(l,s),h=Math.max(l,s);if(gS({type:r,bounds:p(),start:i,end:a,newStart:u,newEnd:h})){let{position:e}=f()({x:p().x,y:l}),t=e.y,{position:n}=f()({x:p().x,y:s}),r=n.y;(c().position.y0!==t||c().position.y1!==r)&&c(c().position=Object.assign(Object.assign({},c().position),{y0:t,y1:r}),!0)}}P()}}),eQ(()=>(tq(_()),tI(n),tI(r),tI(o),tI(i),tq(p())),()=>{(void 0===_()||0===_())&&I({start:tI(n),end:tI(r),invalidStart:tI(o),invalidEnd:tI(i),bounds:p()})}),e0(),nY();var B=tQ();tG("keydown",iL,function(e){m()&&"Escape"===e.key&&tI($)&&y()(null)}),tG("mousemove",iL,function(e){D(c(),_(),v())&&tI($)&&(k().deltaX||k().deltaY)&&M()&&(e.ctrlKey&&!E()?(R(e),k(k().deltaX=0,!0),k(k().deltaY=0,!0),E(!0)):!e.ctrlKey&&E()&&(R(e),k(k().deltaX=0,!0),k(k().deltaY=0,!0),E(!1)))});var F=eU(B),q=e=>{let n;var r=vz(),o=eH(r),i=e=>{gz(e,{type:"line",get annotation(){return c()},get index(){return x()},get repeatedIndex(){return _()},get orientation(){return tq(c()),tB(()=>c().type)},get lineOverPlotStart(){return tI(C)},get lineOverPlotEnd(){return tI(L)},selectAnnotation:y(),startInteraction:R,get activeResizer(){return S()},set activeResizer($$value){S($$value)},get resizing(){return M()},set resizing($$value){M($$value)},$$legacy:!0})};nl(o,e=>{m()&&e(i)}),eD(r),e2((e,t)=>{var o;n=n_(r,1,`range-annotation dw-line line ${null!==(tq(c()),o=tB(()=>c().type))&&void 0!==o?o:""}`,"svelte-f85b34",n,e),nk(r,t)},[()=>({"edit-mode":m(),"no-edit-mode":!m(),selected:tI($)}),()=>(tI(u),tq(c()),tq(h()),tB(()=>tI(u)(c(),h())))],ev),tG("mousedown",r,nU(function(e){nX.call(this,t,e)})),t0(e,r)},W=(e,t)=>{var n=e=>{var t=vN(),n=eU(t),r=eY(n,2),o=e=>{let t;var n=vO(),r=eH(n);gz(eY(r,2),{type:"range",get annotation(){return c()},get index(){return x()},get repeatedIndex(){return _()},get orientation(){return tq(c()),tB(()=>c().type)},get rangeOverPlotStart(){return tI(O)},get rangeOverPlotEnd(){return tI(N)},selectAnnotation:y(),startInteraction:R,get activeResizer(){return S()},set activeResizer($$value){S($$value)},get resizing(){return M()},set resizing($$value){M($$value)},$$legacy:!0}),eD(n),e2((e,r)=>{var o;nk(n,e),t=n_(n,1,`range-annotation edit-mode range ${null!==(tq(c()),o=tB(()=>c().type))&&void 0!==o?o:""}`,"svelte-f85b34",t,r)},[()=>(tI(s),tq(c()),tq(h()),tB(()=>tI(s)(c(),h()))),()=>({"edit-mode":m(),"no-edit-mode":!m(),selected:tI($),dragging:j(),"start-out-of-bounds":tI(O),"end-out-of-bounds":tI(N)})],ev),tG("mousedown",r,nU(A)),t0(e,n)};nl(r,e=>{m()&&e(o)}),e2(e=>{var t;n_(n,1,`range-annotation dw-rect range ${null!==(tq(c()),t=tB(()=>c().type))&&void 0!==t?t:""}`,"svelte-f85b34"),nk(n,e)},[()=>(tI(s),tq(c()),tq(h()),tB(()=>tI(s)(c(),h())))],ev),t0(e,t)};nl(e,e=>{tI(o)||tI(i)||e(n)},t)};nl(F,e=>{(tq(c()),tI(o),tB(()=>"line"===c().display&&!tI(o)))?e(q):e(W,!1)}),t0(e,B),es()}(e,{get annotation(){return tI(t)},get dataToPx(){return v()},get pxToData(){return y()},get bounds(){return tI(t),tB(()=>tI(t)._bounds)},get theme(){return b()},cm:x(),get editMode(){return P()},get editorState(){return D()},get index(){return tI(t),tB(()=>tI(t)._index)},get repeatedIndex(){return tI(t),tB(()=>tI(t)._repeatedIndex)},get allowRepeated(){return tI(n)},selectAnnotation:B,updateAnnotation:F,get dragging(){return tI(H)},set dragging($$value){e$(H,$$value)},get modifyInteraction(){return tI(Z)},set modifyInteraction($$value){e$(Z,$$value)},get resizing(){return tI(K)},set resizing($$value){e$(K,$$value)},get activeResizer(){return tI(en)},set activeResizer($$value){e$(en,$$value)},get interactionData(){return tI(W)},set interactionData($$value){e$(W,$$value)},get internalProps(){return tI(q).range[tI(t).id]},set internalProps($$value){eE(q,tI(q).range[tI(t).id]=$$value)},$$legacy:!0})}),eD(e_);var ew=eY(e_,2),ek=e=>{var t=yA();e2(e=>{var n;n_(t,1,`create-rect ${null!==(tq(D()),n=tB(()=>D().createMode))&&void 0!==n?n:""}`,"svelte-khhw82"),nk(t,e)},[()=>(tI(c),tI(et),tB(()=>tI(c)(tI(et))))],ev),t0(e,t)};return nl(ew,e=>{P()&&tI(J)&&e(ek)}),eD(em),nW(em,e=>e$(R,e),()=>tI(R)),e2(e=>{nS(em,"data-uid",h()),r=n_(em,1,"annotations-inner svelte-khhw82",null,r,e),nS(ex,"aria-label",k())},[()=>({editing:tI(ef),"create-mode":!!D().createMode,creating:tI(J),"disable-annotation-interactions":D().disableAnnotationInteractions})],ev),nH("innerWidth",e=>e$(C,e)),tG("mousedown",em,(eg=function(e){if(P()&&D().createMode&&!1===tI(J)){if(e$(J,!0),null===$())e$(et,g8(_(),w()));else{let t=e.target,n=[...t.parentElement.children].indexOf(t);e$(et,$()[n])}e$(Q,e.offsetX+tI(et).x),e$(ee,e.offsetY+tI(et).y),eE(W,tI(W).initialX=e.clientX),eE(W,tI(W).initialY=e.clientY)}},function(...e){return e[0].preventDefault(),null==eg?void 0:eg.apply(this,e)})),t0(t,em),nT(n,"setAnnotationState",I),nT(n,"stopCreatingAnnotation",ea),nT(n,"onUpdate",ed),es({setAnnotationState:I,stopCreatingAnnotation:ea,onUpdate:ed})}var yN=E(ye()),yC=tK('<div class="key svelte-qy41g7"><div class="num dw-circle dw-bold svelte-qy41g7"><span class="export-text"> </span></div> <span class="text export-text"><!></span></div>'),yL=tK("<div></div>");let yP={hash:"svelte-qy41g7",code:".annotation-keys-inner.svelte-qy41g7 {display:flex;flex-direction:column;gap:5px;width:100%;}.annotation-keys-inner.svelte-qy41g7 .key:where(.svelte-qy41g7) {display:flex;align-items:baseline;}.annotation-keys-inner.svelte-qy41g7 .num:where(.svelte-qy41g7) {flex:0 0 auto;display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px;border-width:1px;border-style:solid;}.annotation-keys-inner.dir-rtl.svelte-qy41g7 .num:where(.svelte-qy41g7) {margin-left:5px;}.annotation-keys-inner.svelte-qy41g7:not(.dir-rtl) .num:where(.svelte-qy41g7) {margin-right:5px;}.annotation-keys-inner.svelte-qy41g7 .num.dw-bold:where(.svelte-qy41g7) {font-weight:700;}"};function yD(e,t){el(t,!0),nm(e,yP);let n=n5(t,"textAnnotations",23,()=>[]),r=n5(t,"rtl",3,!1),o=ej(ed(t.visOuterWidth)),i=em(()=>tI(o)<=g0()),a=em(()=>g9({textAnnotations:n(),isMobileWidth:tI(i),dataToPx:t.dataToPx})),l=em(()=>n().flatMap((e,t)=>{let n=tI(a)[t];return n.render?{text:e.text,num:n.num}:[]}));var s=tQ(),u=eU(s),c=e=>{let n;var o=yL();nc(o,21,()=>tI(l),nu,(e,n)=>{var r=yC(),o=eH(r),i=eH(o),a=eH(i,!0);eD(i),eD(o);var l=eY(o,2);nh(eH(l),()=>t.purifyHtml(tI(n).text)),eD(l),eD(r),e2(()=>t7(a,tI(n).num)),t0(e,r)}),eD(o),e2((e,t)=>n=n_(o,1,`annotation-keys-inner ${null!=e?e:""}`,"svelte-qy41g7",n,t),[()=>(function(e,t,n){let{css:r,typography:o}=vm(e,t),i=mn(t,n).fallbackBaseColor;return r`
        .text {
            ${o(cg(t,"vis.base.annotations.mobile.text"))}
        }
        .num {
            border-color: ${i};
        }
    `})(t.emotion,t.theme,t.chroma),()=>({"dir-rtl":r()})]),t0(e,o)};return nl(u,e=>{tI(i)&&tI(l).length&&e(c)}),nH("innerWidth",e=>e$(o,e,!0)),t0(e,s),es({setAnnotationState:function({textAnnotations:e}){void 0===e||(0,yN.default)(n(),e)||n(e)}})}function yR(e=.5){let t,n,r=e,o=s7({point(e,t,n){if(!n||n>=r){let n=a([e,t]);this.stream.point(n[0],n[1])}}}),i=uZ().stream,a=uZ();return a.stream=function(e){let r=a.postclip()||i;return t&&n===e?t:t=o.stream(r(n=e))},a.areaThreshold=t=>{r=t*e},a.log=()=>{},a}ct();var yI=tK('<div class="legend-title label buffer svelte-1ggoshc" aria-hidden="true"><span class="svelte-1ggoshc"><!></span></div>'),yB=tK('<div class="legend-title label svelte-1ggoshc" aria-hidden="true"><span class="svelte-1ggoshc"><!></span> <!></div>'),yF=tK("<div><!> <!></div>");let yq={hash:"svelte-1ggoshc",code:".dir-rtl.svelte-1ggoshc {direction:rtl;}.legend-title.svelte-1ggoshc {position:relative;}.legend-title.svelte-1ggoshc,\n    .legend-title.svelte-1ggoshc span:where(.svelte-1ggoshc) {text-shadow:none;}.legend-title.svelte-1ggoshc:not(.buffer) > span:where(.svelte-1ggoshc) {position:relative;z-index:10;}.legend-title.buffer.svelte-1ggoshc {position:absolute;top:0;width:100%;z-index:1;}"};function yW(e,t){let n;el(t,!1),nm(e,yq);let r=n5(t,"className",8,""),o=n5(t,"ariaLabel",8,""),i=n5(t,"title",8,""),a=n5(t,"buffer",8),l=n5(t,"width",8,"auto"),s=n5(t,"height",8,"auto"),u=n5(t,"rtl",8,!1),c=n5(t,"maxWidth",8,null),d=n5(t,"maxHeight",8,null),f=n5(t,"purifyHtml",8);nY();var p=yF(),h=eH(p),g=e=>{var t=yB(),n=eH(t);nh(eH(n),()=>(tq(f()),tq(i()),tB(()=>f()(i())))),eD(n);var r=eY(n,2),o=e=>{let t;var n=yI(),r=eH(n);nh(eH(r),()=>(tq(f()),tq(i()),tB(()=>f()(i())))),eD(r),eD(n),e2(()=>t=nk(r,"",t,{color:(tq(a()),tB(()=>a().color)),"-webkit-text-stroke":(tq(a()),tB(()=>a().textStroke))})),t0(e,n)};nl(r,e=>{a()&&e(o)}),eD(t),t0(e,t)};nl(h,e=>{i()&&e(g)}),ng(eY(h,2),t,"default",{},null),eD(p),e2(()=>{var e;n_(p,1,`${u()?"dir-rtl":"dir-ltr"} ${null!=(e=r())?e:""}`,"svelte-1ggoshc"),nS(p,"aria-label",o()),n=nk(p,"",n,{width:l(),height:s(),"max-width":c(),"max-height":d()})}),tG("mouseleave",p,function(e){nX.call(this,t,e)}),t0(e,p),es()}function yH(){}let yU="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;"WeakMap"in yU;"function"==typeof HTMLElement&&HTMLElement;let yY=[];function yG(e,t=700){let n,r=null,o=!1,i=!0;return{set(a,l=!1){let s=JSON.stringify(a);JSON.stringify(r)!==s&&(r=structuredClone(a),n&&clearTimeout(n),l?(i=!1,e(r)):n=setTimeout(()=>{i=!1,e(r)},i&&!l?t:0)),o=!0},clear(){o&&null===r||(r=null,i=!0,n&&clearTimeout(n),e(null)),o=!0},get:()=>r}}function yX(e=!0,t=700){let n=function(e,t=yH){let n,r=new Set;function o(t){var o;if(((o=e)!=o?t==t:o!==t||o&&"object"==typeof o||"function"==typeof o)&&(e=t,n)){let t=!yY.length;for(let t of r)t[1](),yY.push(t,e);if(t){for(let e=0;e<yY.length;e+=2)yY[e][0](yY[e+1]);yY.length=0}}}function i(t){o(t(e))}return{set:o,update:i,subscribe:function(a,l=yH){let s=[a,l];return r.add(s),1===r.size&&(n=t(o,i)||yH),a(e),()=>{r.delete(s),0===r.size&&n&&(n(),n=null)}}}}(null),r="ontouchstart"in window||navigator.maxTouchPoints,o=yG(t=>{e&&n.set(t)},r?0:t);return{subscribe:n.subscribe,set:(e,t=!1)=>{t?n.set(e):null===e?o.clear():o.set(e)},onLegendMouseLeave:()=>{r&&o.clear()}}}var yV=tK('<div class="legend-no-break svelte-q6bvr8"><!><!></div> <div class="legend-break svelte-q6bvr8"><!></div>',1);let yZ={hash:"svelte-q6bvr8",code:".legend-break.svelte-q6bvr8,\n    .legend-no-break.svelte-q6bvr8,\n    .legend-break.svelte-q6bvr8 .legend-label, \n    .legend-no-break.svelte-q6bvr8 .legend-label {display:inline;position:relative;}.legend-no-break.svelte-q6bvr8 {white-space:nowrap;}"};var yK=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseClamp.js":(e,t)=>{t.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}}}),yJ=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/clamp.js":(e,t)=>{var n=yK(),r=gZ();t.exports=function(e,t,o){return void 0===o&&(o=t,t=void 0),void 0!==o&&(o=(o=r(o))==o?o:0),void 0!==t&&(t=(t=r(t))==t?t:0),n(r(e),t,o)}}});let yQ=Math.cos,y0=Math.sin,y1=Math.sqrt,y2=Math.PI,y5=2*y2,y3=y0(y2/10)/y0(7*y2/10),y4=y0(y5/10)*y3,y8=-yQ(y5/10)*y3,y7=y1(3)/2,y6=1/y1(12),y9=(y6/2+1)*3;var be=Object.assign(Object.assign({name:"circle"},{draw(e,t){let n=y1(t/y2);e.moveTo(n,0),e.arc(0,0,n,0,y5)}}),{bbox(e){let t=2*Math.sqrt(e/Math.PI);return{width:t,height:t}}}),bt=Object.assign(Object.assign({name:"cross"},{draw(e,t){let n=y1(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}),{bbox(e){let t=3*Math.sqrt(e/5);return{width:t,height:t}},verticalAlign:"bottom"}),bn={name:"diamond",draw(e,t){let n=.7071*Math.sqrt(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()},bbox(e){let t=.7071*Math.sqrt(e);return{width:2*t,height:2*t}}},br={name:"hexagon",draw(e,t){let n=.56416*Math.sqrt(t),r=1.09963*n,o=r/2,i=.952436*n;e.moveTo(0,-r),e.lineTo(i,-o),e.lineTo(i,o),e.lineTo(0,r),e.lineTo(-i,o),e.lineTo(-i,-o),e.lineTo(0,-r),e.closePath()},bbox(e){let t=.56416*Math.sqrt(e);return{width:.952436*t*2,height:1.09963*t*2}}},bo={name:"marker",draw(e,t){let n=.691*Math.sqrt(t);e.moveTo(.004066*n,-2.757056*n),e.bezierCurveTo(-.462735*n,-2.757056*n,-.841214*n,-2.378661*n,-.841214*n,-1.9117769999999998*n),e.bezierCurveTo(-.841214*n,-1.7810229999999998*n,-.811497*n,-1.6570359999999997*n,-.75842*n,-1.54659*n),e.bezierCurveTo(-.75545*n,-1.5403129999999998*n,.004064999999999985*n,0,.004064999999999985*n,0),e.lineTo(.757389*n,-1.5280999999999998*n),e.bezierCurveTo(.8161619999999999*n,-1.6431679999999997*n,.849344*n,-1.7735959999999997*n,.849344*n,-1.9117769999999998*n),e.bezierCurveTo(.849344*n,-2.378662*n,.470949*n,-2.757056*n,.0040639999999999565*n,-2.757056*n),e.moveTo(.507167*n,-1.9117760000000001*n),e.arc(0,-1.9117760000000001*n,.507167*n,0,2*Math.PI)},bbox(e){let t=Math.sqrt(e);return{width:1.1682*t,height:1.9051*t}},baseline:1},bi={name:"spike",draw(e,t){e.moveTo(-2,0),e.lineTo(0,-t),e.lineTo(2,0)},bbox:e=>({width:4,height:e}),baseline:1},ba=Object.assign(Object.assign({name:"square"},{draw(e,t){let n=y1(t),r=-n/2;e.rect(r,r,n,n)}}),{bbox(e){let t=Math.sqrt(e);return{width:t,height:t}}}),bl=Object.assign(Object.assign({name:"star"},{draw(e,t){let n=y1(.8908130915292852*t),r=y4*n,o=y8*n;e.moveTo(0,-n),e.lineTo(r,o);for(let t=1;t<5;++t){let i=y5*t/5,a=yQ(i),l=y0(i);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*o,l*r+a*o)}e.closePath()}}),{bbox(e){let t=Math.sqrt(e);return{width:1.7953*t,height:1.7074*t}},baseline:.55}),bs=Object.assign(Object.assign({name:"wye"},{draw(e,t){let n=y1(t/y9),r=n/2,o=n*y6,i=n*y6+n,a=-r;e.moveTo(r,o),e.lineTo(r,i),e.lineTo(a,i),e.lineTo(-.5*r-y7*o,y7*r+-.5*o),e.lineTo(-.5*r-y7*i,y7*r+-.5*i),e.lineTo(-.5*a-y7*i,y7*a+-.5*i),e.lineTo(-.5*r+y7*o,-.5*o-y7*r),e.lineTo(-.5*r+y7*i,-.5*i-y7*r),e.lineTo(-.5*a+y7*i,-.5*i-y7*a),e.closePath()}}),{bbox(e){let t=Math.sqrt(e);return{width:1.4745*t,height:1.277*t}},baseline:.455});let bu=Math.sqrt(3);var bc={name:"triangleUp",draw(e,t){let n=-Math.sqrt(t/(3*bu));e.moveTo(0,2*n),e.lineTo(-bu*n,-n),e.lineTo(bu*n,-n),e.closePath()},bbox(e){let t=Math.sqrt(e/(3*bu));return{width:bu*t*2,height:3*t}},baseline:.66667};let bd=Math.sqrt(3);var bf={name:"triangleDown",draw(e,t){let n=-Math.sqrt(t/(3*bd));e.moveTo(0,-(2*n)),e.lineTo(-bd*n,n),e.lineTo(bd*n,n),e.closePath()},bbox(e){let t=Math.sqrt(e/(3*bd));return{width:bd*t*2,height:3*t}},baseline:.3333};let bp=e=>{let t=Math.min(.06*e,1),n=1.8*t,r=3.2*n;return{stemLength:e-1.1*r,stemMinWidth:t,stemMaxWidth:n,arrowHeadWidth:r}};var bh={name:"arrow",draw(e,t,n=0){let{stemLength:r,stemMinWidth:o,stemMaxWidth:i,arrowHeadWidth:a}=bp(t),l=[[-o/2,0],[o/2,0],[i/2,-r],[a/2,-r],[0,-t],[-a/2,-r],[-i/2,-r]];if(!n){e.moveTo(l[0][0],l[0][1]);for(let t=1;t<l.length;t++)e.lineTo(l[t][0],l[t][1]);e.closePath();return}let s=[];for(let e=0;e<l.length;e++){let[t,r]=function(e,t,n){let r=t[0]-e[0],o=t[1]-e[1],i=Math.sqrt(r*r+o*o),a=-o/i,l=r/i;return[[e[0]+a*n,e[1]+l*n],[t[0]+a*n,t[1]+l*n]]}(l[e],l[(e+1)%l.length],n/2);s.push([t,r])}let u=[];for(let e=0;e<s.length;e++){let t=function([[e,t],[n,r]],[[o,i],[a,l]]){let s=(e-n)*(i-l)-(t-r)*(o-a);return 0===s?null:[((e*r-t*n)*(o-a)-(e-n)*(o*l-i*a))/s,((e*r-t*n)*(i-l)-(t-r)*(o*l-i*a))/s]}(s[e],s[(e+1)%s.length]);t&&u.push(t)}if(u.length>0){e.moveTo(u[0][0],u[0][1]);for(let t=1;t<u.length;t++)e.lineTo(u[t][0],u[t][1]);e.closePath()}},bbox(e){let{arrowHeadWidth:t}=bp(e);return{width:t,height:e}},baseline:1},bg={};j(bg,{symbolArrow:()=>bh,symbolCircle:()=>be,symbolCross:()=>bt,symbolDiamond:()=>bn,symbolHexagon:()=>br,symbolMarker:()=>bo,symbolSpike:()=>bi,symbolSquare:()=>ba,symbolStar:()=>bl,symbolTriangleDown:()=>bf,symbolTriangleUp:()=>bc,symbolWye:()=>bs});var bm=E(yJ(),1),bv=tJ('<svg><defs><pattern patternUnits="userSpaceOnUse"><line y1="0" shape-rendering="crispEdges"></line></pattern></defs><rect></rect></svg>'),by=tK("<div></div>"),bb=tK('<div class="legend-color-outer svelte-d51fpg"></div>');let bx={hash:"svelte-d51fpg",code:".legend-color.svelte-d51fpg {position:absolute;left:0;top:0;}.legend-color-outer.svelte-d51fpg {position:relative;}.dw-circle.svelte-d51fpg {border-radius:50%;}"};var b_=tJ("<line></line>"),bw=tJ('<path class="symbol"></path>'),bk=tJ("<svg><!><!></svg>"),bM=tK('<div class="legend-color-outer svelte-4sczgx"></div>');let bj={hash:"svelte-4sczgx",code:"svg.svelte-4sczgx {overflow:visible;}.legend-color.svelte-4sczgx {position:absolute;left:0;top:0;}.legend-color-outer.svelte-4sczgx {position:relative;}"};function bS(e,t){el(t,!1);let n=eS(),r=eS(),o=eS(),i=eS(),a=eS(),l=eS(),s=n5(t,"swatchRenderProps",8),u=n5(t,"color",8),c=n5(t,"buffer",8),d=n5(t,"blendMultiplyBackground",8);eQ(()=>(tI(n),tI(r),tI(o),tI(i),tI(a),tI(l),tq(s())),()=>{var e;e$(n,(e=s()).width),e$(r,e.height),e$(o,e.line),e$(i,e.pattern),e$(a,e.exportClass),e$(l,e.borderRadius)}),e0();var f=tQ(),p=eU(f),h=e=>{!function(e,t){let n;el(t,!1),nm(e,bj);let r=eS(),o=eS(),i=eS(),a=eS(),l=eS(),s=eS(),u=n5(t,"width",8),c=n5(t,"height",8),d=n5(t,"color",8),f=n5(t,"buffer",8),p=n5(t,"line",8);eQ(()=>(tI(r),tI(o),tI(i),tI(a),tI(l),tq(p())),()=>{var e;e$(r,(e=p()).symbol),e$(o,e.coords),e$(i,e.linecap),e$(a,e.dashArray),e$(l,e.strokeWidth)}),eQ(()=>tq(f()),()=>{e$(s,f()?[f(),!1]:[!1])}),e0(),nY();var h=bM();nc(h,5,()=>tI(s),nu,(e,t,n,s)=>{let f,p;var h=bk(),g=eH(h),m=e=>{var n=b_();e2(()=>{nS(n,"x1",(tI(o),tB(()=>tI(o)[0].x))),nS(n,"y1",(tI(o),tB(()=>tI(o)[0].y))),nS(n,"x2",(tI(o),tB(()=>tI(o)[1].x))),nS(n,"y2",(tI(o),tB(()=>tI(o)[1].y))),nS(n,"stroke",(tI(t),tq(d()),tB(()=>tI(t)?tI(t).color:d()))),nS(n,"stroke-width",(tI(l),tI(t),tB(()=>tI(l)+(tI(t)?tI(t).size:0)))),nS(n,"stroke-linecap",tI(t)&&"butt"===tI(i)?"square":tI(i)),nS(n,"stroke-dasharray",tI(t)?null:tI(a))}),t0(e,n)};nl(g,e=>{tI(l)>0&&e(m)});var v=eY(g),y=e=>{var n=bw();e2(()=>{var e,o;nS(n,"transform",`translate(${null!==(tI(r),e=tB(()=>tI(r).coords.x))&&void 0!==e?e:""}, ${null!==(tI(r),o=tB(()=>tI(r).coords.y))&&void 0!==o?o:""})`),nS(n,"d",(tI(r),tB(()=>tI(r).path))),nS(n,"fill",(tI(t),tI(r),tB(()=>tI(t)?tI(t).color:tI(r).fill))),nS(n,"stroke",(tI(t),tI(r),tB(()=>tI(t)?tI(t).color:tI(r).stroke))),nS(n,"stroke-width",(tI(t),tI(r),tB(()=>tI(t)?tI(t).size:tI(r).strokeWidth))),nS(n,"opacity",(tI(t),tI(r),tB(()=>tI(t)?null:tI(r).opacity)))}),t0(e,n)};nl(v,e=>{tI(r)&&e(y)}),eD(h),e2((e,t,n)=>{f=n_(h,0,"legend-color svelte-4sczgx",null,f,e),p=nk(h,"",p,{width:t,height:n})},[()=>({buffer:!!tI(t)}),()=>(tq(vv),tq(u()),tB(()=>vv(u()))),()=>(tq(vv),tq(c()),tB(()=>vv(c())))],ev),t0(e,h)}),eD(h),e2((e,t)=>n=nk(h,"",n,{width:e,height:t}),[()=>(tq(vv),tq(u()),tB(()=>vv(u()))),()=>(tq(vv),tq(c()),tB(()=>vv(c())))],ev),t0(e,h),es()}(e,{get width(){return tI(n)},get height(){return tI(r)},get color(){return u()},get buffer(){return c()},get line(){return tI(o)}})},g=e=>{!function(e,t){let n;el(t,!1),nm(e,bx);let r=eS(),o=n5(t,"width",8),i=n5(t,"height",8),a=n5(t,"color",8),l=n5(t,"pattern",8),s=n5(t,"borderRadius",8,void 0),u=n5(t,"buffer",8),c=n5(t,"blendMultiplyBackground",8),d=n5(t,"swatchExportClass",8,"dw-rect");eQ(()=>(tq(o()),tq(i()),tq(a()),tq(l()),tq(c()),tq(u())),()=>{e$(r,function({width:e,height:t,color:n,pattern:r,blendMultiplyBackground:o,buffer:i}){let a=[];return i&&a.push({isBuffer:!0,offset:i.size/2,color:i.color,width:e+i.size,height:t+i.size}),o&&a.push({color:o,width:e,height:t}),a.push({color:n,width:e,height:t,mixBlendMode:o?"screen":void 0,pattern:r}),a}({width:o(),height:i(),color:a(),pattern:l(),blendMultiplyBackground:c(),buffer:u()}))}),e0(),nY();var f=bb();nc(f,5,()=>tI(r),nu,(e,t,n,r)=>{var a=tQ();let l=ev(()=>(tI(t),tB(()=>tI(t).pattern)));var u=eU(a),c=e=>{let t;var n=bv(),r=eH(n),a=eH(r),u=eH(a);eD(a),eD(r);var c=eY(r);eD(n),e2((e,r)=>{var f;n_(n,0,`legend-color ${null!=(f=d())?f:""}`,"svelte-d51fpg"),t=nk(n,"",t,{width:e,height:r}),nS(a,"id",(tq(tI(l)),tB(()=>tI(l).id))),nS(a,"patternTransform",(tq(tI(l)),tB(()=>`rotate(${180-(tI(l).rotation||0)} 0 0)`))),nS(a,"width",(tq(tI(l)),tB(()=>tI(l).width))),nS(a,"height",(tq(tI(l)),tB(()=>tI(l).width))),nS(u,"x1",(tq(tI(l)),tB(()=>tI(l).width/2))),nS(u,"x2",(tq(tI(l)),tB(()=>tI(l).width/2))),nS(u,"y2",(tq(tI(l)),tB(()=>tI(l).width))),nS(u,"stroke",(tq(tI(l)),tB(()=>tI(l).stroke))),nS(u,"opacity",(tq(tI(l)),tB(()=>tI(l).opacity))),nS(u,"stroke-width",(tq(tI(l)),tB(()=>tI(l).strokeWidth))),nS(c,"width",o()),nS(c,"height",i()),nS(c,"fill",(tq(tI(l)),tB(()=>`url(#${tI(l).id})`))),nS(c,"rx",s()),nS(c,"ry",s())},[()=>(tq(vv),tq(o()),tB(()=>vv(o()))),()=>(tq(vv),tq(i()),tB(()=>vv(i())))],ev),t0(e,n)},f=e=>{let n,r;var o=by();e2((e,i,a,l,s)=>{var u;n=n_(o,1,`legend-color ${null!=(u=d())?u:""}`,"svelte-d51fpg",n,e),r=nk(o,"",r,{width:i,height:a,background:(tI(t),tB(()=>tI(t).color)),"mix-blend-mode":(tI(t),tB(()=>tI(t).mixBlendMode)),top:l,left:s})},[()=>({buffer:tI(t).isBuffer}),()=>(tq(vv),tI(t),tB(()=>vv(tI(t).width))),()=>(tq(vv),tI(t),tB(()=>vv(tI(t).height))),()=>(tI(t),tq(vv),tB(()=>tI(t).offset?vv(-tI(t).offset):null)),()=>(tI(t),tq(vv),tB(()=>tI(t).offset?vv(-tI(t).offset):null))],ev),t0(e,o)};nl(u,e=>{tI(l)?e(c):e(f,!1)}),t0(e,a)}),eD(f),e2((e,t)=>n=nk(f,"",n,{width:e,height:t}),[()=>(tq(vv),tq(o()),tB(()=>vv(o()))),()=>(tq(vv),tq(i()),tB(()=>vv(i())))],ev),t0(e,f),es()}(e,{get width(){return tI(n)},get height(){return tI(r)},get color(){return u()},get buffer(){return c()},get pattern(){return tI(i)},get swatchExportClass(){return tI(a)},get blendMultiplyBackground(){return d()},get borderRadius(){return tI(l)}})};nl(p,e=>{tI(o)?e(h):e(g,!1)}),t0(e,f),es()}var bE=tK('<div class="legend-label svelte-klt363"><!></div>');let b$={hash:"svelte-klt363",code:".legend-label.svelte-klt363 {position:relative;}"};function bA(e,t){let n;el(t,!1),nm(e,b$);let r=n5(t,"color",8),o=n5(t,"buffer",8);nY();var i=bE();ng(eH(i),t,"default",{},null),eD(i),e2(()=>n=nk(i,"",n,{"text-shadow":(tq(o()),tB(()=>o()?o().textShadow:null)),color:r()})),t0(e,i),es()}var bT=tK('<div class="color-container svelte-eva0c9"><!></div> <!>',1),bz=tK('<div aria-hidden="true"><!></div>');let bO={hash:"svelte-eva0c9",code:".color-container.svelte-eva0c9 {display:grid;align-content:center;}\n    /**\n    * This is a workaround for a weird bug in some browsers (Chrome and Firefox at the time of writing)\n    * where legend swatches do NOT wrap onto a new line if set to display: inline; with no whitespace between them.\n    */.legend-swatch.single-word-label.svelte-eva0c9::before {content:'';display:inline-block;}"};function bN({emotion:e,themeData:t,colorLegendTheme:n={},position:r,noPadding:o,type:i="category",rtl:a=!1}){if(!e)return"";let l=cg(t,"vis.base.legend",{}),{css:s,getProp:u,typography:c}=vm(e,l),d=u("container.outsideChart.center",!1),f=vv(u("container.outsideChart.distanceToChart",10)),p=vv(u("container.outsideChart.oppositeSideSpace",0));return[s`
        ${d?"text-align: center;":""}
        ${!o&&("below"===r||"above"===r)?`padding-${"below"===r?"top":"bottom"}: ${f};
padding-${"below"===r?"bottom":"top"}: ${p};`:""}

        .legend-title {
            margin-bottom: ${vv(u("caption.distanceToContent.vertical",4))};
        }
        .legend-title,
        .legend-title span {
            ${c(cg(l,"caption.typography"),{fontWeight:700})}
        }
        text:not(.buffer) {
            fill: currentColor;
        }
    `,"category"===i?function(e,t,n){let r=cg(t,"vis.base.legend.content.categoryLegend",{}),{css:o,getProp:i,typography:a}=vm(e,r);return o`
        .legend-categories {
            line-height: 1.4;
            ${a(cg(r,"labels.typography"))}
        }
        .legend-categories.horizontal .legend-color-outer {
            margin-${n?"left":"right"}: ${vv(i("swatchLabelDistance",3))};
        }
        .legend-categories.vertical .legend-swatch {
            column-gap: ${vv(i("swatchLabelDistance",3))};
        }
        .legend-categories .legend-color.dw-rect {
            border-radius: ${vv(i("swatch.types.fill.rectangle.borderRadius"))};
        }
        .legend-categories.vertical {
            gap: ${vv(i("itemGap.vertical",3))};
        }
        .legend-categories.horizontal .legend-swatch:not(:last-child) {
            margin-${n?"left":"right"}: ${vv(i("itemGap.horizontal",10))};
        }
        .legend-categories.horizontal .legend-swatch:not(:last-child):has(br) {
            margin-${n?"left":"right"}: 0px;
        }
    `}(e,t,a):function(e,t){let{css:n,typography:r}=vm(e,t);return n`
        &.color-legend text {
            ${r(cg(t,"labels.typography"))}
            fill: currentColor;
        }
    `}(e,n)].join("\n")}let bC="accessibility / color-legend / ";function bL(e,{colors:t,title:n="",format:r,swatches:o,limits:i}){let a=t=>e(`${bC}${t}`);if("function"==typeof t&&i){let[e,t]=[i[0],i[i.length-1]].map(r);return n?a("continuous-title").replace("%title%",n).replace("%from%",e).replace("%to%",t):a("continuous").replace("%from%",e).replace("%to%",t)}{if(!o||!o.length)return"";let[e,t]=[o[0].label,o[o.length-1].label].map(e=>e.replace("<",a("less-than")).replace("â¥",a("greater-equal-than")));return n?a("stepped-title").replace("%title%",n).replace("%count%",String(o.length)).replace("%from%",e).replace("%to%",t):a("stepped").replace("%count%",String(o.length)).replace("%from%",e).replace("%to%",t)}}function bP(e,t){return"ListFormat"in Intl?new Intl.ListFormat(e).format(t):t.join(", ")}function bD(e,t,n,r){if(!n||!n.length)return"";let o=t=>e(`${bC}${t}`),i=n.map(e=>e.verboseLabel||e.label),a=i.length<=5?o("category-items-few").replace("%items%",bP(t,[...i.slice(0,-1),i[i.length-1]])):o("category-items-many").replace("%items%",bP(t,i.slice(0,3))).replace("%last%",i[i.length-1]);return 1===i.length?r?o("category-single-title").replace("%title%",r).replace("%item%",i[0]):o("category-single").replace("%item%",i[0]):i.length<=5?r?o("category-few-title").replace("%count%",String(i.length)).replace("%title%",r).replace("%items_description%",a):o("category-few").replace("%count%",String(i.length)).replace("%items_description%",a):r?o("category-many-title").replace("%count%",String(i.length)).replace("%title%",r).replace("%items_description%",a):o("category-many").replace("%count%",String(i.length)).replace("%items_description%",a)}var bR=E(gb(),1);function bI(e){let t={size:4,sizeText:5,color:e};return t8(t8({},t),{},{textStroke:`${t.sizeText}px ${t.color}`,textShadow:`1px 1px 0px ${t.color}, 0px 1px 0px ${t.color}, -1px 1px 0px ${t.color}, 1px -1px 0px ${t.color}, 0px -1px 0px ${t.color}, -1px -1px 0px ${t.color}, 1px 0px 0px ${t.color}, 0px 0px 0px ${t.color}, -1px 0px 0px ${t.color}`,svgTextStyles:{fill:t.color,stroke:t.color,"stroke-width":t.sizeText,"stroke-linejoin":"round"}})}function bB(e,t,n){var r,o,i,a;let l={labels:{distance:{horizontal:3,vertical:3}},tickLines:{show:!1,length:5,width:1,color:mn(e,n).fallbackBaseColor},gapWidth:1,width:13},s=null!=(r=null==e||null==(o=e.vis)||null==(o=o.base)||null==(o=o.legend)||null==(o=o.content)?void 0:o.colorLegend)?r:{};return[l,null!=(i=null==s?void 0:s.general)?i:{},null!=(a=null==s?void 0:s[t])?a:{}].reduce(function(e,t){var n;return"number"==typeof(null==(n=t.labels)?void 0:n.distance)&&(t.labels.distance={horizontal:t.labels.distance,vertical:t.labels.distance}),(0,bR.default)(e,t)},{})}var bF=tK("<div><!></div>");let bq={hash:"svelte-1bzop5t",code:".horizontal.svelte-1bzop5t .legend-swatch {display:inline;}.horizontal.svelte-1bzop5t .legend-color-outer {display:inline-block;}.horizontal.svelte-1bzop5t .legend-swatch,\n.horizontal.svelte-1bzop5t .legend-swatch > *,\n.horizontal.svelte-1bzop5t .legend-swatch > * > * {vertical-align:middle;}.vertical.svelte-1bzop5t {display:flex;flex-direction:column;}.vertical.svelte-1bzop5t .legend-swatch {display:grid;grid-template-columns:auto 1fr;min-height:var(--swatch-height);grid-template-rows:max(1lh, var(--swatch-height)) auto;}.vertical.svelte-1bzop5t .legend-color {grid-area:1 / 1;}.vertical.svelte-1bzop5t .legend-label {grid-row:span 2;align-self:center;}.highlighted.svelte-1bzop5t .legend-swatch {opacity:0.3;transition:opacity 0.15s ease-in-out;}.highlighted.is-dark.svelte-1bzop5t .legend-swatch {opacity:0.4;}.highlighted.svelte-1bzop5t .legend-swatch.highlight {opacity:1;}"};function bW(e,t){el(t,!1),nm(e,bq);let[n,r]=n0(),o=eS(),i=eS(),a=eS(),l=eS(),s=eS(),u=eS(),c=n5(t,"title",8,""),d=n5(t,"horizontal",8,!0),f=n5(t,"highlight",8,!1),p=n5(t,"highlightDelay",8,700),h=n5(t,"defaultHighlighted",24,()=>[]),g=n5(t,"reverse",8,!1),m=n5(t,"rtl",8,!1),v=n5(t,"emotion",8),y=n5(t,"chroma",8),b=n5(t,"purifyHtml",8),x=n5(t,"swatches",8),_=n5(t,"themeData",24,()=>({})),w=n5(t,"width",8,"100%"),k=n5(t,"height",8,"auto"),M=n5(t,"position",8,void 0),j=n5(t,"noPadding",8,!1),S=n5(t,"buffer",8,!1),E=n5(t,"blendMultiply",8,!1),$=n5(t,"blendMultiplyBackground",8,"");if(E()&&!$())throw Error("Property 'blendMultiplyBackground' missing from legend");let A=n5(t,"translate",8),T=n5(t,"locale",8),z=n5(t,"onHighlightChange",8),O=n5(t,"highlightedKey",12,""),N=n5(t,"highlightedValue",12,null),C=yX(f(),p());C.subscribe(e=>{var t;O((null==e?void 0:e.key)||""),""===O()&&N(null),null==(t=z())||t(e||null)});let L=Math.random().toString().replace(".","");eQ(()=>tq(_()),()=>{e$(o,cg(_(),"colors.background","white"))}),eQ(()=>(tq(S()),tI(o)),()=>{e$(i,S()&&bI(tI(o)))}),eQ(()=>(tI(o),tq(y())),()=>{e$(a,50>mt(tI(o),y()))}),eQ(()=>(tq(g()),tq(x())),()=>{e$(l,g()?x().slice(0).reverse():x())}),eQ(()=>(tq(v()),tq(_()),tq(M()),tq(j()),tq(m())),()=>{e$(s,bN({emotion:v(),themeData:_(),position:M(),noPadding:j(),rtl:m(),type:"category"}))}),eQ(()=>tI(a),()=>{e$(u,tI(a)?"is-dark":"")}),eQ(()=>(tq(x()),tq(N())),()=>{var e;O((null==(e=x().find(e=>{if(null!==N()&&e.min&&e.max)return N()>=e.min&&N()<e.max}))?void 0:e.key)||"")}),e0(),nY();let P=ev(()=>(tq(d()),tI(u),tI(s),tB(()=>["category-legend",d()?"horizontal":"vertical",tI(u),tI(s)].join(" ")))),D=ev(()=>(tq(vv),tq(w()),tB(()=>vv(w())))),R=ev(()=>(tq(vv),tq(k()),tB(()=>vv(k())))),I=ev(()=>(tq(bD),tq(A()),tq(T()),tI(l),tq(c()),tB(()=>bD(A(),T(),tI(l),c()))));yW(e,{get title(){return c()},get buffer(){return tI(i)},get rtl(){return m()},get className(){return tI(P)},get maxWidth(){return tI(D)},get maxHeight(){return tI(R)},get ariaLabel(){return tI(I)},get purifyHtml(){return b()},$$events:{mouseleave(...e){var t;null==(t=C.onLegendMouseLeave)||t.apply(this,e)}},children:(e,t)=>{let n;var r=bF(),o=eH(r),a=e=>{var t=tQ();nc(eU(t),1,()=>tI(l),nu,(e,t,n)=>{let r=ev(()=>(tq(O()),tI(t),tq(h()),tB(()=>O()?O()===tI(t).key:h().includes(tI(t).key)))),o=ev(()=>`${L}-${n}`),a=ev(()=>tI(r)?"highlight":""),l=ev(()=>E()&&$());!function(e,t){let n,r;el(t,!1),nm(e,bO);let[o,i]=n0(),a=eS(),l=eS(),s=eS(),u=n5(t,"buffer",8),c=n5(t,"id",8),d=n5(t,"themeData",8),f=n5(t,"chroma",8),p=n5(t,"purifyHtml",8),h=n5(t,"horizontal",8,!0),g=n5(t,"blendMultiplyBackground",8,!1),m=n5(t,"color",8),v=n5(t,"label",8),y=n5(t,"key",8),b=n5(t,"type",8,"fill"),x=n5(t,"config",24,()=>({})),_=n5(t,"allowForceGenericFillSwatch",8,!0),w=n5(t,"min",8,void 0),k=n5(t,"max",8,void 0),M=n5(t,"highlightStore",8),j=n5(t,"className",8,"");eQ(()=>(tq(v()),tq(p())),()=>{e$(a,function(e="",t){let n=function(e,t){let n=!1;for(let r=0;r<e.length;r++){let o=e[r];if("<"===o){n=!0;continue}if(">"===o){n=!1;continue}if(!n&&!n&&t.test(o))return r}return -1}(e=t(e),/ |-/);if(n<0)return{main:e,rest:"",hasSpace:!1};let r=e[n],o=n+ +("-"===r),i=e.slice(0,o),a=e.slice(o).trim();return{main:t(i),rest:`${(function(e){let t,n=[],r=[],o=RegExp("<\\/?([a-zA-Z0-9-]+)([^>]*)>","g");for(;null!==(t=o.exec(e));){let e=t[0],o=t[1];e.startsWith("</")?n.length>0&&n[n.length-1].tagName===o?n.pop():r.push(e):n.push({tagName:o,tag:e,position:t.index})}return r.push(...n.map(e=>e.tag)),r})(i).join("")}${a.trim()}`,hasSpace:" "===r}}(v(),p()))}),eQ(()=>(tq(b()),tq(x()),tq(m()),tq(c()),tq(_()),tq(d()),tq(f())),()=>{e$(l,function({swatchType:e="fill",config:t={},allowForceGenericFillSwatch:n=!1,color:r,id:o,chroma:i,themeData:a}){let l=cg(a,"vis.base.legend.content.categoryLegend",{});({swatchType:e,config:t}=function({swatchType:e="fill",config:t={},categoryLegendTheme:n,allowForceGenericFillSwatch:r}){let o=cg(n,"swatch.genericFillSwatch","rectangle"),i=cg(n,"swatch.forceGenericFillSwatch",!1)&&r;return("fill"!==e||"shape"in t||(t.shape=o),i)?{swatchType:"fill",config:"fill"===e?t8(t8({},t),{},{shape:o}):{shape:o}}:{swatchType:e,config:t}}({swatchType:e,config:t,categoryLegendTheme:l,allowForceGenericFillSwatch:n}));let s=function({swatchType:e,categoryLegendTheme:t,config:n={}}){let r=cg(t,"swatch.size",14);if("fill"===e){if("circle"!==n.shape)return{width:cg(t,"swatch.types.fill.rectangle.width",r),height:cg(t,"swatch.types.fill.rectangle.height",r)};{let e=cg(t,"swatch.types.fill.circle.size",r);return{width:e,height:e}}}if("valueOverlay"===e){var o;let e=null!=(o=n.type)?o:"vertical",i=cg(t,"swatch.types.valueOverlay.length",r),a=cg(t,"swatch.types.valueOverlay.width",2);return{width:"horizontal"===e?i:a,height:"vertical"===e?i:a}}if("line"!==e)return{width:r,height:r};{let e=cg(t,"swatch.types.line.diagonal",!1),n=cg(t,"swatch.types.line.length",16),r=e?+Math.sqrt(n*n/2).toFixed(1):n;return{width:r,height:e?r:cg(t,"swatch.types.line.height",20)}}}({swatchType:e,config:t,categoryLegendTheme:l}),u=cg(a,"colors.background","#ffffff");if(s.labelColor=cg(l,"labels.useSwatchColor",void 0)&&function(e,t,n,r){let[o,i,a]=r(e).lch(),l=r(t).lch()[0];if(r.contrast(e,t)>=4.5)return e;let s=r.contrast("#000000",t),u=r.contrast("#ffffff",t),c=l>o&&s>=4.5||l<=o&&u<n;return c?d(0,o,10):d(o,100,10);function d(e,o,l){let s=(e+o)*.5,u=r.lch(s,i,a),f=r.contrast(u,t);return .2>Math.abs(f-n)||!l?u.hex():f<n&&c||f>n&&!c?d(e,s,l-1):d(s,o,l-1)}}(r,u,4.5,i),"line"===e&&(s.line=function({lineSettings:e={},swatchSize:t,categoryLegendTheme:n,color:r,backgroundColor:o}){var i,a;let l=cg(n,"swatch.types.line.diagonal",!1),s=cg(n,"swatch.types.line.linecap","round"),{width:u,height:c}=t,d=null!=(i=e.strokeWidth)?i:2,f="butt"!==s?.5*d:0,p={strokeWidth:d,dashArray:e.dashArray,linecap:s,diagonal:l};if(e.symbol){let t=t8(t8({style:"fill",position:"center"},e.symbol),{},{size:2*(0,bm.default)((null==(a=e.symbol)?void 0:a.size)||3.5,1,4),coords:{x:0,y:0}});t.strokeWidth="hollow"===t.style?d||e.defaultWidth||2:null,t.stroke="hollow"===t.style?r:null,t.fill="hollow"===t.style?o:r,"left"===t.position?t.coords.x=t.size/2+p.strokeWidth:"right"===t.position?t.coords.x=u-t.size/2-p.strokeWidth:t.coords.x=u/2,l&&"left"===t.position?t.coords.y=c-t.size/2-p.strokeWidth:l&&"right"===t.position?t.coords.y=t.size/2+p.strokeWidth:t.coords.y=c/2;let n=gd(),i=Object.values(bg).find(e=>e.name===t.shape);if(void 0===i)throw Error(`'${t.shape}' is not a valid shape`);let s=Math.pow(t.size/2,2)*Math.PI;i.draw(n,s),t.path=n.toString(),p.symbol=t}let h=p.symbol;return p.coords=[{x:(null==h?void 0:h.position)==="left"?h.coords.x:f,y:l?(null==h?void 0:h.position)==="left"?h.coords.y:c-f:c/2},{x:(null==h?void 0:h.position)==="right"?h.coords.x:u-f,y:l?(null==h?void 0:h.position)==="right"?h.coords.y:f:c/2}],p}({lineSettings:t,swatchSize:s,categoryLegendTheme:l,color:r,backgroundColor:u})),"fill"===e){var c,d,f,p;let e=t;"rectangle"===e.shape&&(s.borderRadius=cg(l,"swatch.types.fill.rectangle.borderRadius")),e.pattern&&(c=e.pattern,d=r,f=i,p=o,s.pattern={strokeWidth:c.strokeWidth,rotation:({horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45})[c.type],width:c.lineGap+c.strokeWidth,stroke:f(d).alpha(1).hex(),opacity:f(d).alpha(),id:`color-legend-fill-pattern-${p}`},"circle"===e.shape&&(s.borderRadius="50%")),s.exportClass="circle"===e.shape?"dw-circle":"dw-rect"}return"valueOverlay"===e&&(s.exportClass="dw-rect"),s}({swatchType:b(),config:x(),color:m(),id:c(),allowForceGenericFillSwatch:_(),themeData:d(),chroma:f()}))}),eQ(()=>tI(l),()=>{e$(s,tI(l).labelColor)}),e0(),nY();var S=bz(),E=eH(S),$=e=>{var t,n,r,o,i,c;let d,f=ev(()=>(tI(a),tB(()=>tI(a).hasSpace?" ":"")));t={get spaceChar(){return tI(f)},$$slots:{swatch:(e,t)=>{bS(e,{get swatchRenderProps(){return tI(l)},get color(){return m()},get buffer(){return u()},get blendMultiplyBackground(){return g()}})},"label-inside":(e,t)=>{bA(e,{get color(){return tI(s)},get buffer(){return u()},children:(e,t)=>{var n=tQ();nh(eU(n),()=>(tq(p()),tI(a),tB(()=>p()(tI(a).main)))),t0(e,n)},$$slots:{default:!0}})},"label-outside":(e,t)=>{bA(e,{get color(){return tI(s)},get buffer(){return u()},children:(e,t)=>{var n=tQ();nh(eU(n),()=>(tq(p()),tI(a),tB(()=>p()(tI(a).rest)))),t0(e,n)},$$slots:{default:!0}})}}},nm(e,yZ),d=n5(t,"spaceChar",8," "),ng(o=eH(r=eU(n=yV())),t,"swatch",{},null),ng(eY(o),t,"label-inside",{},null),eD(r),i=eY(r,1,!0),ng(eH(c=eY(i)),t,"label-outside",{},null),eD(c),e2(()=>t7(i,d())),t0(e,n)},A=e=>{var t=bT(),n=eU(t);bS(eH(n),{get swatchRenderProps(){return tI(l)},get color(){return m()},get buffer(){return u()},get blendMultiplyBackground(){return g()}}),eD(n),bA(eY(n,2),{get color(){return tI(s)},get buffer(){return u()},children:(e,t)=>{var n=tQ();nh(eU(n),()=>(tq(p()),tq(v()),tB(()=>p()(v())))),t0(e,n)},$$slots:{default:!0}}),t0(e,t)};nl(E,e=>{h()?e($):e(A,!1)}),eD(S),e2((e,t)=>{var o;n=n_(S,1,`legend-swatch ${null!=(o=j())?o:""}`,"svelte-eva0c9",n,e),r=nk(S,"",r,{"--swatch-height":t})},[()=>({"single-word-label":h()&&0===tI(a).rest.length}),()=>(tq(vv),tI(l),tB(()=>vv(tI(l).height)))],ev),tG("mouseenter",S,()=>{nQ(M(),{key:y(),label:v(),color:m(),min:w(),max:k(),value:y()})}),tG("click",S,()=>{nQ(M(),{key:y(),label:v(),color:m(),min:w(),max:k(),value:y()})}),tG("mousemove",S,function(e){nX.call(this,t,e)}),tG("mouseleave",S,function(e){nX.call(this,t,e)}),t0(e,S),es(),i()}(e,function(...e){return new Proxy({props:e},n1)}(()=>tI(t),{get id(){return tI(o)},get className(){return tI(a)},get themeData(){return _()},get chroma(){return y()},get purifyHtml(){return b()},get buffer(){return tI(i)},get highlightStore(){return C},get blendMultiplyBackground(){return tI(l)},get horizontal(){return d()}}))}),t0(e,t)};nl(o,e=>{x()&&e(a)}),eD(r),e2((e,t)=>n=n_(r,1,e,"svelte-1bzop5t",n,t),[()=>nv((tI(u),tq(d()),tB(()=>["legend-categories",tI(u),d()?"horizontal":"vertical"].join(" ")))),()=>({highlighted:""!==O()||h().length})],ev),tG("mouseleave",r,()=>nQ(C,null)),t0(e,r)},$$slots:{default:!0}}),es(),r()}var bH=tJ('<path class="tick"></path>'),bU=tJ('<g class="tick-lines buffer" aria-hidden="true"></g>'),bY=tJ('<g class="highlight svelte-t2dlnt" aria-hidden="true"><path class="triangle svelte-t2dlnt"></path></g><rect class="buffer"></rect><!>',1),bG=tJ("<rect></rect>"),bX=tJ('<path class="tick"></path>'),bV=tJ('<g class="tick-lines" aria-hidden="true"></g>'),bZ=tJ('<tspan x="0"> </tspan>'),bK=tJ("<text></text>"),bJ=tJ('<tspan x="0"> </tspan>'),bQ=tJ("<!><text></text>",1),b0=tJ('<text class="buffer svelte-t2dlnt"> </text>'),b1=tJ("<stop></stop>"),b2=tJ('<svg><g><!><!><rect class="legend-color"></rect><!><g class="labels svelte-t2dlnt" aria-hidden="true"></g><g class="highlight svelte-t2dlnt" aria-hidden="true"><path class="triangle svelte-t2dlnt"></path><g class="text"><!><text class="svelte-t2dlnt"> </text></g></g></g><defs><linearGradient></linearGradient></defs></svg>');let b5={hash:"svelte-t2dlnt",code:"svg.svelte-t2dlnt {overflow:visible;display:block;}g.highlight.svelte-t2dlnt {display:none;transition:transform 0.4s cubic-bezier(1, 0, 0, 1);}.no-transition.svelte-t2dlnt g.highlight:where(.svelte-t2dlnt) {transition:none;}.highlighted.svelte-t2dlnt g.highlight:where(.svelte-t2dlnt) {display:block;}.highlighted.svelte-t2dlnt g.highlight:where(.svelte-t2dlnt) path.triangle:where(.svelte-t2dlnt) {fill:#000;}.highlighted.svelte-t2dlnt g.highlight:where(.svelte-t2dlnt) text:where(.svelte-t2dlnt) {font-size:14px;}.highlighted.svelte-t2dlnt g.labels:where(.svelte-t2dlnt) text:where(.svelte-t2dlnt) {opacity:0.3;}.color-legend.horizontal .highlighted rect {cursor:text;}.color-legend.vertical .highlighted rect {cursor:vertical-text;}.color-legend.horizontal g.highlight text,\n.color-legend.horizontal g.highlight text tspan {text-anchor:middle;dominant-baseline:hanging;}.color-legend.vertical g.highlight text,\n.color-legend.vertical g.highlight text tspan {dominant-baseline:mathematical;}"};function b3(e,t){let n;el(t,!1),nm(e,b5);let[r,o]=n0(),i=()=>nJ(V,"$highlightStore",r),a=eS(),l=eS(),s=eS(),u=eS(),c=eS(),d=eS(),f=eS(),p=eS(),h=eS(),g=eS(),m=eS(),v=eS(),y=eS(),b=eS(),x=eS(),_=eS(),w=eS(),k=eS(),M=eS(),j=n5(t,"title",8,""),S=n5(t,"colors",8,()=>"fff"),E=n5(t,"limits",24,()=>[0,100]),$=n5(t,"format",8,e=>String(+e.toFixed(2))),A=n5(t,"labels",8,void 0),T=n5(t,"horizontal",8,!0),z=n5(t,"width",8,100),O=n5(t,"height",8,200),N=n5(t,"noPadding",8,!1),C=n5(t,"position",8,void 0),L=n5(t,"highlight",8,!1),P=n5(t,"highlightDelay",8,700),D=n5(t,"rtl",8,!1),R=n5(t,"reverse",8,!1),I=n5(t,"buffer",12,!1),B=n5(t,"emotion",8),F=n5(t,"chroma",8),q=n5(t,"purifyHtml",8),W=n5(t,"themeData",24,()=>({})),H=n5(t,"blendMultiply",8,!1),U=n5(t,"blendMultiplyBackground",8,"");if(H()&&!U())throw Error("Property 'blendMultiplyBackground' missing from legend");let Y=n5(t,"translate",8),G=n5(t,"onHighlightChange",8),X=new Promise(e=>{n=e}),V=yX(L(),P()),Z=eS(!1),K=eS(!1),J=["start","end"],Q=[...Array(17).keys()].map(e=>e/16),ee=`g-${Math.floor(1e6*Math.random()).toString(32)}`;function et(e){return tI(K)?e<.5?tI(m)[0]+2*e*(tI(m)[1]-tI(m)[0]):tI(m)[1]+(e-.5)*2*(tI(m)[2]-tI(m)[1]):tI(m)[0]+e*(tI(m)[1]-tI(m)[0])}let en=eS(!1),er=eS(!1),eo=n5(t,"highlightedValue",8,null),ei=eS(null),ea=eS({x:null,y:null}),eu=eS(null),ec=eS(null);function ed(e,t){let n=D()?"start"===e:"end"===e,r=T()?n?z()-tI(h)/2:tI(h)/2:0,o=T()?0:"end"===e?O()-tI(h)/2:tI(h)/2,i=tI(f)+tI(c)+(t&&tI(u)?tI(u).size/2:0),a=!T()&&D()?-1:1,l=T()?"v":"h";return`M${r},${o}${l}${a*i}`}function ef(){L()&&e$(er,!0)}function ep(){L()&&(e$(er,!1),eE(ea,tI(ea).x=null),eE(ea,tI(ea).y=null),nQ(V,null))}function eh(e){return eg.apply(this,arguments)}function eg(){return(eg=td(function*(e){if(!L())return;let t=e.currentTarget.getBoundingClientRect();if(eE(ea,tI(ea).x=e.clientX-t.x),eE(ea,tI(ea).y=e.clientY-t.y),yield tD(),null===tI(eu)||null===tI(k))return;let n=et(tI(eu)+(tI(Z)?.05:-.05)),r=et(tI(eu)+(tI(Z)?-.05:.05));nQ(V,{key:tI(k),min:n,max:r})})).apply(this,arguments)}let em=eS(),ey=eS({width:100,height:100});function eb(){return(eb=td(function*(){if(!tI(em))return;let e=I();I(!1),yield tD();let t=tI(em).getBoundingClientRect();eE(ey,tI(ey).height=t.height),eE(ey,tI(ey).width=t.width),!T()&&D()&&tI(em).setAttribute("transform",`translate(${t.width-tI(c)},0)`),I(e),n(null)})).apply(this,arguments)}eQ(()=>(tq(W()),tq(F())),()=>{e$(a,bB(W(),"continuous",F()))}),eQ(()=>(tq(B()),tq(W()),tq(C()),tq(N()),tq(D())),()=>{e$(l,bN({emotion:B(),themeData:W(),position:C(),noPadding:N(),rtl:D(),type:"color"}))}),eQ(()=>(tq(D()),tq(T()),tq(R())),()=>{e$(Z,D()||!T()?!R():R())}),eQ(()=>tq(E()),()=>{e$(K,3===E().length&&void 0!==E()[2])}),eQ(()=>(tq(Y()),tq(S()),tq(j()),tq($()),tq(E())),()=>{e$(s,bL(Y(),{colors:S(),title:j(),format:$(),limits:E()}))}),eQ(()=>(tq(I()),tq(W())),()=>{e$(u,I()&&bI(cg(W(),"colors.background","white")))}),eQ(()=>tI(a),()=>{e$(c,tI(a).width)}),eQ(()=>tI(a),()=>{e$(d,tI(a).tickLines.show)}),eQ(()=>tI(a),()=>{e$(f,tI(a).tickLines.length)}),eQ(()=>tI(a),()=>{e$(p,tI(a).tickLines.color)}),eQ(()=>(tI(d),tI(a)),()=>{e$(h,tI(d)?tI(a).tickLines.width:0)}),eQ(()=>(tI(a),tq(T()),tI(d),tI(f)),()=>{e$(g,tI(a).labels.distance[T()?"vertical":"horizontal"]+(tI(d)?tI(f):0))}),eQ(()=>(tI(Z),tq(E())),()=>{e$(m,tI(Z)?[...E()].reverse():[...E()])}),eQ(()=>(tq(T()),tq(z()),tI(h),tI(c)),()=>{e$(v,T()?z()-2*tI(h):tI(c))}),eQ(()=>(tq(T()),tI(c),tq(O()),tI(h)),()=>{e$(y,T()?tI(c):O()-2*tI(h))}),eQ(()=>(tq(A()),tI(Z),tq(E()),tq($()),tq(T()),tI(K),tq(D()),tq(z()),tq(O())),()=>{e$(b,function({labels:e,isReversed:t,limits:n,format:r,horizontal:o,isDiverging:i,rtl:a,width:l,height:s}){let u=[...e||n.map(r)];t&&u.reverse();let c={min:a?"end":"start",center:"middle",max:a?"start":"end"},d={min:"hanging",center:"middle",max:"ideographic"};return u.map((e,t)=>{let n=0===t?"min":1===t&&i?"center":"max",r=(o?[l*t/(i?2:1),0]:[0,s*t/(i?2:1)]).join(","),a=o?c[n]:"start",u=o?"hanging":d[n];return{labelLines:[...e.split("<br>")],translate:r,labelType:n,textAnchor:a,dominantBaseline:u}})}({labels:A(),isReversed:tI(Z),limits:E(),format:$(),horizontal:T(),isDiverging:tI(K),rtl:D(),width:z(),height:O()}))}),eQ(()=>(tq(T()),tI(c),tI(g),tq(D())),()=>{e$(x,(T()?[0,tI(c)+tI(g)]:[D()?-tI(g):tI(c)+tI(g),0]).join(","))}),eQ(()=>(tq(T()),tq(D())),()=>{e$(_,T()?"M-5,0 L 5,0 L 0,-7 Z":D()?"M0,5 L7,0 L 0,-5 Z":"M0,-5 L-7,0 L 0,5 Z")}),eQ(()=>(tq(T()),tI(c),tq(D())),()=>{e$(w,T()?[0,tI(c)+7]:[D()?-7:tI(c)+7,0])}),eQ(()=>(tq(eo()),tI(en)),()=>{null!==eo()&&(e$(er,!tI(en)),e$(en,!0),e$(ei,eo()))}),eQ(()=>(tq(eo()),tI(ei)),()=>{null===eo()&&null!==tI(ei)&&(e$(er,!1),e$(en,!1))}),eQ(()=>(tq(T()),tI(ea),tq(z()),tq(O())),()=>{let e=T()?tI(ea).x:tI(ea).y;e$(eu,null!==e?Math.min(1,Math.max(0,e/(T()?z():O()))):null)}),eQ(()=>(tq(eo()),tI(eu)),()=>{e$(k,null!==eo()?eo():null!==tI(eu)?et(tI(eu)):null)}),eQ(()=>(tI(k),tq($())),()=>{e$(M,null!==tI(k)?$()(tI(k)):"")}),eQ(()=>(tq(eo()),tI(eu),tq(T()),tq(z()),tq(O())),()=>{var e;let t=null!==eo()?(e=eo(),tI(K)?(tI(Z)?e>tI(m)[1]:e<tI(m)[1])?.5*(e-tI(m)[0])/(tI(m)[1]-tI(m)[0]):.5+.5*(e-tI(m)[1])/(tI(m)[2]-tI(m)[1]):(e-tI(m)[0])/(tI(m)[1]-tI(m)[0])):null!==tI(eu)?tI(eu):null;e$(ec,null!==t?`transform: translate(${(T()?[t*z(),0]:[0,t*O()]).map(e=>`${e}px`)})`:null)}),eQ(()=>i(),()=>{e$(en,null!==i())}),eQ(()=>(tq(G()),i()),()=>{var e;null==(e=G())||e(i())}),eQ(()=>(tI(em),tq(z())),()=>{tI(em),z(),function(){eb.apply(this,arguments)}()}),e0(),nY();let ex=ev(()=>(tq(T()),tI(l),tB(()=>["color-legend","continuous",T()?"horizontal":"vertical",tI(l)].join(" ")))),e_=ev(()=>(tq(T()),tq(vv),tq(z()),tB(()=>T()?vv(z()):void 0)));yW(e,{get title(){return j()},get ariaLabel(){return tI(s)},get buffer(){return tI(u)},get rtl(){return D()},get className(){return tI(ex)},get width(){return tI(e_)},get purifyHtml(){return q()},$$events:{mouseleave(...e){var t;null==(t=V.onLegendMouseLeave)||t.apply(this,e)}},children:(e,t)=>{let n,r,o;var i=b2(),a=eH(i),l=eH(a),s=e=>{let t,n;var r=bY(),o=eU(r),i=eH(o);eD(o);var a=eY(o),l=eY(a),s=e=>{var t=bU();nc(t,5,()=>J,nu,(e,t)=>{let n;var r=bH();e2(e=>{nS(r,"d",e),n=nk(r,"",n,{stroke:(tI(u),tB(()=>tI(u).color)),"stroke-width":(tI(h),tI(u),tB(()=>tI(h)+tI(u).size))})},[()=>(tI(t),tB(()=>ed(tI(t),!0)))],ev),t0(e,r)}),eD(t),t0(e,t)};nl(l,e=>{tI(d)&&e(s)}),e2(e=>{nk(o,tI(ec)),nS(i,"d",tI(_)),nS(i,"transform",e),t=nk(i,"",t,{fill:(tI(u),tB(()=>tI(u).svgTextStyles.fill)),stroke:(tI(u),tB(()=>tI(u).svgTextStyles.stroke)),"stroke-width":(tI(u),tB(()=>tI(u).svgTextStyles["stroke-width"])),"stroke-linejoin":(tI(u),tB(()=>tI(u).svgTextStyles["stroke-linejoin"]))}),nS(a,"width",(tI(v),tI(u),tq(T()),tI(h),tB(()=>tI(v)+tI(u).size+(T()?2*tI(h):0)))),nS(a,"height",(tI(y),tI(u),tq(T()),tI(h),tB(()=>tI(y)+tI(u).size+(T()?0:2*tI(h))))),nS(a,"x",(tI(u),tB(()=>-tI(u).size/2))),nS(a,"y",(tI(u),tB(()=>-tI(u).size/2))),n=nk(a,"",n,{fill:(tI(u),tB(()=>tI(u).color)),"pointer-events":"none"})},[()=>(tI(w),tB(()=>`translate(${tI(w).join(",")})`))],ev),t0(e,r)};nl(l,e=>{I()&&tI(u)&&e(s)});var f=eY(l),g=e=>{let t;var n=bG();e2(()=>{nS(n,"width",tI(v)),nS(n,"height",tI(y)),nS(n,"x",T()?tI(h):0),nS(n,"y",T()?0:tI(h)),t=nk(n,"",t,{fill:U()})}),t0(e,n)};nl(f,e=>{H()&&e(g)});var m=eY(f),j=eY(m),$=e=>{var t=bV();nc(t,5,()=>J,nu,(e,t)=>{let n;var r=bX();e2(e=>{nS(r,"d",e),n=nk(r,"",n,{stroke:tI(p),"stroke-width":tI(h)})},[()=>(tI(t),tB(()=>ed(tI(t),!1)))],ev),t0(e,r)}),eD(t),t0(e,t)};nl(j,e=>{tI(d)&&e($)});var A=eY(j);nc(A,5,()=>tI(b),nu,(e,t,n,r)=>{let o,i=()=>tI(t).textAnchor,a=()=>tI(t).dominantBaseline,l=()=>tI(t).labelType,s=()=>tI(t).translate,c=()=>tI(t).labelLines;var d=bQ(),f=eU(d),p=e=>{let t;var n=bK();nc(n,5,c,nu,(e,t,n)=>{let r;var o=bZ();nS(o,"dy",15*(0!==n));var i=eH(o,!0);eD(o),e2(()=>{r=nk(o,"",r,{"dominant-baseline":a()}),t7(i,tI(t))}),t0(e,o)}),eD(n),e2(e=>{n_(n,0,e,"svelte-t2dlnt"),nS(n,"transform",`translate(${s()})`),t=nk(n,"",t,{"text-anchor":i(),"dominant-baseline":a(),fill:(tI(u),tB(()=>tI(u).svgTextStyles.fill)),stroke:(tI(u),tB(()=>tI(u).svgTextStyles.stroke)),"stroke-width":(tI(u),tB(()=>tI(u).svgTextStyles["stroke-width"])),"stroke-linejoin":(tI(u),tB(()=>tI(u).svgTextStyles["stroke-linejoin"]))})},[()=>nv((l(),tB(()=>["buffer",l()].join(" "))))],ev),t0(e,n)};nl(f,e=>{I()&&tI(u)&&e(p)});var h=eY(f);nc(h,5,c,nu,(e,t,n)=>{let r;var o=bJ();nS(o,"dy",15*(0!==n));var i=eH(o,!0);eD(o),e2(()=>{r=nk(o,"",r,{"dominant-baseline":a()}),t7(i,tI(t))}),t0(e,o)}),eD(h),e2(()=>{n_(h,0,nv(l()),"svelte-t2dlnt"),nS(h,"transform",`translate(${s()})`),o=nk(h,"",o,{"text-anchor":i(),"dominant-baseline":a()})}),t0(e,d)}),eD(A);var z=eY(A),O=eH(z),N=eY(O),C=eH(N),L=e=>{let t;var n=b0(),r=eH(n,!0);eD(n),e2(()=>{t=nk(n,"",t,{fill:(tI(u),tB(()=>tI(u).svgTextStyles.fill)),stroke:(tI(u),tB(()=>tI(u).svgTextStyles.stroke)),"stroke-width":(tI(u),tB(()=>tI(u).svgTextStyles["stroke-width"])),"stroke-linejoin":(tI(u),tB(()=>tI(u).svgTextStyles["stroke-linejoin"])),"pointer-events":"none"}),t7(r,tI(M))}),t0(e,n)};nl(C,e=>{I()&&tI(u)&&e(L)});var P=eY(C),R=eH(P,!0);eD(P),eD(N),eD(z),eD(a),nW(a,e=>e$(em,e),()=>tI(em));var B=eY(a),F=eH(B);nc(F,5,()=>Q,nu,(e,t)=>{var n=b1();e2(e=>{nS(n,"offset",`${100*tI(t)}%`),nS(n,"stop-color",e)},[()=>(tI(t),tq(S()),tB(()=>(function(e,t){let n=tI(Z)?1-e:e;return t(tI(K)?n<=.5?2*n*(E()[1]-E()[0])+E()[0]:(n-.5)*2*(E()[2]-E()[1])+E()[1]:n*(E()[1]-E()[0])+E()[0])})(tI(t),S())))],ev),t0(e,n)}),eD(F),eD(B),eD(i),e2((e,t,l)=>{nS(i,"width",(tI(ey),tB(()=>tI(ey).width))),nS(i,"height",(tI(ey),tB(()=>tI(ey).height))),n=n_(i,0,"svelte-t2dlnt",null,n,e),r=n_(a,0,"svelte-t2dlnt",null,r,t),nS(m,"width",tI(v)),nS(m,"height",tI(y)),nS(m,"x",T()?tI(h):0),nS(m,"y",T()?0:tI(h)),o=nk(m,"",o,{fill:`url(#${ee})`,"mix-blend-mode":H()?"screen":null}),nS(A,"transform",`translate(${tI(x)})`),nk(z,tI(ec)),nS(O,"d",tI(_)),nS(O,"transform",l),nS(N,"transform",`translate(${T()?[0,tI(c)+12]:[D()?-12:tI(c)+12,0]})`),t7(R,tI(M)),nS(F,"id",ee),nS(F,"x2",+!!T()),nS(F,"y2",+!T())},[()=>({"no-transition":tI(er)}),()=>({highlighted:null!==tI(k)&&tI(en)}),()=>(tI(w),tB(()=>`translate(${tI(w).join(",")})`))],ev),tG("mouseenter",i,ef),tG("mouseleave",i,ep),tG("mousemove",i,eh),t0(e,i)},$$slots:{default:!0}}),nT(t,"rendered",X);var ew=es({rendered:X});return o(),ew}var b4=tJ('<rect class="buffer"></rect>'),b8=tJ("<rect></rect>"),b7=tJ('<!><rect class="legend-color"></rect>',1),b6=tJ("<text> </text>"),b9=tJ("<text> </text>"),xe=tJ('<path class="tick svelte-wazalu"></path>'),xt=tJ('<path class="tick svelte-wazalu"></path>'),xn=tJ("<!><!>",1),xr=tJ('<g aria-hidden="true"><!><!><!></g>');let xo={hash:"svelte-wazalu",code:"g.swatch.svelte-wazalu path.tick:where(.svelte-wazalu) {shape-rendering:crispEdges;}"};function xi(e,t){let n;el(t,!1),nm(e,xo);let[r,o]=n0(),i=eS(),a=eS(),l=eS(),s=eS(),u=eS(),c=eS(),d=eS(),f=eS(),p=eS(),h=n5(t,"buffer",8),g=n5(t,"horizontal",8),m=n5(t,"labelPosition",8,"center"),v=n5(t,"rtl",8,!1),y=n5(t,"rotateLabel",8,!1),b=n5(t,"parentWidth",8,0),x=n5(t,"blendMultiply",8,!1),_=n5(t,"blendMultiplyBackground",8,""),w=n5(t,"colorLegendTheme",8);if(x()&&!_())throw Error("Property 'blendMultiplyBackground' missing from legend");let k=n5(t,"highlightStore",8),M=n5(t,"color",8),j=n5(t,"label",8),S=n5(t,"key",8),E=n5(t,"index",8),$=n5(t,"min",8),A=n5(t,"max",8),T=n5(t,"width",8),z=n5(t,"height",8),O=n5(t,"className",8,""),N=n5(t,"tickSides",8,"start"),C=eS();function L(e){let t=v()&&!g()?T():0,n=g()?-(.5*tI(s))+("end"===e?T()+tI(s):0):t,r=g()?0:-(.5*tI(s))+("end"===e?z()+tI(s):0),o=(g()?z():T())+tI(a),i=!g()&&v()?-1:1,l=g()?"v":"h";return`M${n},${r}${l}${i*o}`}let P=eS();function D(){return!!tI(P)&&tI(P).getBoundingClientRect().width>T()+2}eQ(()=>tq(w()),()=>{e$(i,w().tickLines.show)}),eQ(()=>tq(w()),()=>{e$(a,w().tickLines.length)}),eQ(()=>tq(w()),()=>{e$(l,w().tickLines.color)}),eQ(()=>tq(w()),()=>{e$(s,w().tickLines.width)}),eQ(()=>(tI(i),tI(s),tq(w())),()=>{e$(u,tI(i)?tI(s):w().gapWidth)}),eQ(()=>(tq(w()),tq(g()),tI(i),tI(a)),()=>{e$(c,w().labels.distance[g()?"vertical":"horizontal"]+(tI(i)?tI(a):0))}),eQ(()=>(tq(g()),tq(E()),tq(T()),tI(u),tq(v()),tq(b()),tq(z())),()=>{e$(d,g()?[E()*(T()+tI(u)),0]:[v()&&b()?b()-T():0,E()*(z()+tI(u))])}),eQ(()=>(tq(y()),tq(v()),tq(g())),()=>{e$(f,y()?v()?"start":"end":g()?"middle":"start")}),eQ(()=>(tq(y()),tq(g())),()=>{e$(p,y()?"central":g()?"hanging":"middle")}),eQ(()=>(tq(y()),tq(z()),tI(c),tq(m()),tq(g()),tq(T()),tq(v())),()=>{let e=[];y()?e$(C,`translate(0, ${z()+tI(c)}) rotate(-90)`):"center"===m()?e=g()?[.5*T(),z()+tI(c)]:[v()?-tI(c):T()+tI(c),.5*z()]:"tick"===m()&&(e=g()?[0,z()+tI(c)]:[v()?-tI(c):T()+tI(c),0]),e.length&&e$(C,`translate(${e.join()})`)}),e0(),nY();var R=xr(),I=eH(R),B=e=>{let t;var n=b4();e2(()=>{nS(n,"width",(tq(T()),tq(h()),tB(()=>T()+h().size))),nS(n,"height",(tq(z()),tq(h()),tB(()=>z()+h().size))),nS(n,"x",(tq(h()),tB(()=>-h().size/2))),nS(n,"y",(tq(h()),tB(()=>-h().size/2))),t=nk(n,"",t,{fill:(tq(h()),tB(()=>h().color))})}),t0(e,n)},F=e=>{let t;var n=b7(),r=eU(n),o=e=>{let t;var n=b8();e2(()=>{nS(n,"width",T()),nS(n,"height",z()),t=nk(n,"",t,{fill:_()})}),t0(e,n)};nl(r,e=>{x()&&e(o)});var i=eY(r);e2(()=>{nS(i,"width",T()),nS(i,"height",z()),t=nk(i,"",t,{fill:M(),"mix-blend-mode":x()?"screen":null})}),t0(e,n)};nl(I,e=>{h()?e(B):e(F,!1)});var q=eY(I),W=e=>{var t=tQ(),n=eU(t),r=e=>{let t;var n=b6(),r=eH(n,!0);eD(n),nW(n,e=>e$(P,e),()=>tI(P)),e2(()=>{nS(n,"transform",tI(C)),t=nk(n,"",t,{"text-anchor":tI(f),"dominant-baseline":tI(p),fill:(tq(h()),tB(()=>h().svgTextStyles.fill)),stroke:(tq(h()),tB(()=>h().svgTextStyles.stroke)),"stroke-width":(tq(h()),tB(()=>h().svgTextStyles["stroke-width"])),"stroke-linejoin":(tq(h()),tB(()=>h().svgTextStyles["stroke-linejoin"]))}),t7(r,j())}),t0(e,n)},o=e=>{let t;var n=b9(),r=eH(n,!0);eD(n),nW(n,e=>e$(P,e),()=>tI(P)),e2(()=>{nS(n,"transform",tI(C)),t=nk(n,"",t,{"text-anchor":tI(f),"dominant-baseline":tI(p)}),t7(r,j())}),t0(e,n)};nl(n,e=>{h()?e(r):e(o,!1)}),t0(e,t)};nl(q,e=>{("center"===m()||E()>0)&&e(W)});var H=eY(q),U=e=>{var t=xn(),n=eU(t),r=e=>{let t;var n=xe();e2(e=>{nS(n,"d",e),t=nk(n,"",t,{stroke:tI(l),"stroke-width":tI(s)})},[()=>tB(()=>L("start"))],ev),t0(e,n)};nl(n,e=>{("both"===N()||"start"===N())&&e(r)});var o=eY(n),i=e=>{let t;var n=xt();e2(e=>{nS(n,"d",e),t=nk(n,"",t,{stroke:tI(l),"stroke-width":tI(s)})},[()=>tB(()=>L("end"))],ev),t0(e,n)};nl(o,e=>{("both"===N()||"end"===N())&&e(i)}),t0(e,t)};nl(H,e=>{tI(i)&&e(U)}),eD(R),e2((e,t)=>{var r;n=n_(R,0,`swatch ${null!=(r=O())?r:""}`,"svelte-wazalu",n,e),nS(R,"transform",t)},[()=>({buffer:h()}),()=>(tI(d),tB(()=>`translate(${tI(d).join()})`))],ev),tG("mouseenter",R,()=>{nQ(k(),{key:S(),label:j(),color:M(),min:$(),max:A()})}),tG("click",R,()=>{nQ(k(),{key:S(),label:j(),color:M(),min:$(),max:A()})}),t0(e,R),nT(t,"labelDoesNotFit",D);var Y=es({labelDoesNotFit:D});return o(),Y}function xa({colors:e,breaks:t,labels:n,format:r=e=>String(+e.toFixed(0)),reverse:o=!1,rtl:i=!1,horizontal:a=!0,labelType:l="ranges"}){let s=i||!a;o&&(s=!s);let u=e.map((o,i)=>{let a=function({i:e,labels:t,format:n,reverseValues:r,labelType:o="ranges",breaks:i,colors:a}){return"ruler"===o?e===(r?a.length-1:0)?"":`${n(i[r?e+1:e])}`:t?t[e]:0===e?`< ${n(i[1])}`:e===a.length-1?`â¥ ${n(i[e])}`:`${n(i[e])}â${n(i[e+1])}`}({i,labels:n,format:r,reverseValues:s,labelType:l,breaks:t,colors:e});return{type:"fill",color:o,min:0===i?-1/0:+t[i],max:i===e.length-1?1/0:+t[i+1],label:a,key:a||`swatch_${i}`}});return s&&u.reverse(),u}var xl=tJ('<svg class="svelte-2ipbo2"><g><!><!></g></svg>');let xs={hash:"svelte-2ipbo2",code:"svg.svelte-2ipbo2 {overflow:visible;display:block;}svg.svelte-2ipbo2 g.swatch text {transition:opacity 0.15s ease-in-out;}.highlighted.svelte-2ipbo2 g.swatch.highlight .buffer {opacity:0.2;}.highlighted.svelte-2ipbo2 g.swatch:not(.highlight) > * {opacity:0.2;}.highlighted.svelte-2ipbo2 g.swatch:not(.highlight) > text {opacity:0.3;}\n    /* Tick line in swatch after highlighted swatch should be fully opaque */.highlighted.svelte-2ipbo2 g.swatch.highlight + g.swatch .tick {opacity:1;}\n    /* For ruler legends, text in swatch after highlighted swatch should be fully opaque */.highlighted.ruler.svelte-2ipbo2 g.swatch.highlight + g.swatch text {opacity:1;}"};function xu(e,t){el(t,!1),nm(e,xs);let[n,r]=n0(),o=()=>nJ(Z,"$highlightStore",n),i=eS(),a=eS(),l=eS(),s=eS(),u=eS(),c=eS(),d=eS(),f=eS(),p=eS(),h=eS(),g=eS(),m=eS(),v=eS(),y=eS(),b=eS(),x=eS(),_=eS(),w=eS(),k=eS(),M=n5(t,"title",8,""),j=n5(t,"horizontal",8,!0),S=n5(t,"highlight",8,!1),E=n5(t,"reverse",8,!1),$=n5(t,"rtl",8,!1),A=n5(t,"emotion",8),T=n5(t,"chroma",8),z=n5(t,"purifyHtml",8),O=n5(t,"colors",8),N=n5(t,"breaks",8),C=n5(t,"labels",8,void 0),L=n5(t,"format",8,e=>e.toFixed(0)),P=n5(t,"themeData",24,()=>({})),D=n5(t,"width",8,100),R=n5(t,"height",8,200),I=n5(t,"position",8,void 0),B=n5(t,"noPadding",8,!1),F=n5(t,"buffer",12,!1),q=n5(t,"blendMultiply",8,!1),W=n5(t,"blendMultiplyBackground",8,""),H=n5(t,"translate",8),U=n5(t,"locale",8),Y=n5(t,"onHighlightChange",8),G=n5(t,"labelType",8,"ranges"),X=eS(),V=new Promise(e=>{e$(X,e)}),Z=yX(S()),K=n5(t,"highlightedValue",8,null),J=eS(),Q=eS(),ee=eS({width:100,height:100}),et=eS(!1);function en(){return(en=td(function*(){if(!tI(Q)||tI(w))return;let e=F();F(!1),yield tD();let t=tI(Q).getBoundingClientRect();eE(ee,tI(ee).height=t.height),eE(ee,tI(ee).width=t.width),F(e),tI(X)(null)})).apply(this,arguments)}let er=eS([]);function eo(){return(eo=td(function*(){e$(et,!1),yield tD(),e$(et,j()&&tI(er).some(e=>null==e?void 0:e.labelDoesNotFit()))})).apply(this,arguments)}function ei(e){return"center"===tI(s)?e===O().length-1?"both":"start":0===e?"none":"start"}eQ(()=>(tq(F()),tq(P())),()=>{e$(i,F()&&bI(cg(P(),"colors.background","white")))}),eQ(()=>(tq(P()),tq(G()),tq(T())),()=>{e$(a,bB(P(),G(),T()))}),eQ(()=>(tq(A()),tq(P()),tI(a),tq(I()),tq(B()),tq($())),()=>{e$(l,bN({emotion:A(),themeData:P(),colorLegendTheme:tI(a),position:I(),noPadding:B(),rtl:$(),type:"color"}))}),eQ(()=>tq(G()),()=>{e$(s,"ruler"===G()?"tick":"center")}),eQ(()=>(tq(O()),tq(N()),tq(C()),tq(L()),tq(E()),tq($()),tq(j()),tq(G())),()=>{e$(u,{colors:O(),breaks:N(),labels:C(),format:L(),reverse:E(),rtl:$(),horizontal:j(),labelType:G()})}),eQ(()=>tI(u),()=>{e$(c,xa(tI(u)))}),eQ(()=>(tq(H()),tq(O()),tq(M()),tq(L()),tI(u)),()=>{e$(d,bL(H(),{colors:O(),title:M(),format:L(),swatches:xa(t8(t8({},tI(u)),{},{horizontal:!0,labelType:"ranges"}))}))}),eQ(()=>tI(a),()=>{e$(f,tI(a).tickLines.show)}),eQ(()=>tI(a),()=>{e$(p,tI(a).tickLines.width)}),eQ(()=>(tI(f),tI(p),tI(a)),()=>{e$(h,tI(f)?tI(p):tI(a).gapWidth)}),eQ(()=>tI(a),()=>{e$(g,tI(a).width)}),eQ(()=>(tq(j()),tq(D()),tq(R())),()=>{e$(m,j()?D():R())}),eQ(()=>(tI(f),tI(s),tI(p)),()=>{e$(v,tI(f)&&"center"===tI(s)?2*tI(p):0)}),eQ(()=>(tI(m),tq(O()),tI(h),tI(v)),()=>{e$(y,Math.floor((tI(m)-(O().length-1)*tI(h)-tI(v))/O().length))}),eQ(()=>(tI(b),tI(x),tq(j()),tI(y),tI(g)),()=>{var e;e$(b,(e={[j()?"width":"height"]:tI(y),[j()?"height":"width"]:tI(g)}).width),e$(x,e.height)}),eQ(()=>(tI(v),tq(j()),tq($()),tI(h)),()=>{e$(_,tI(v)&&(j()&&!$()||!j())?tI(h):0)}),eQ(()=>(tI(c),tq(K())),()=>{var e;e$(J,(null==(e=tI(c).find(e=>{if(null!==K()&&e.min&&e.max)return K()>=e.min&&K()<e.max}))?void 0:e.key)||null)}),eQ(()=>o(),()=>{var e;e$(J,(null==(e=o())?void 0:e.key)||null)}),eQ(()=>(tq(Y()),o()),()=>{var e;null==(e=Y())||e(o())}),eQ(()=>(tq(G()),tI(et)),()=>{e$(k,"ruler"===G()&&tI(et))}),eQ(()=>(tI(Q),tI(c),tI(k),tq(D())),()=>{tI(Q),tI(c),tI(k),D(),function(){en.apply(this,arguments)}()}),eQ(()=>(tq(G()),tI(et),tI(c)),()=>{e$(w,"ranges"===G()&&(tI(et)||1===tI(c).length))}),eQ(()=>(tI(c),tq(D())),()=>{tI(c),D(),function(){eo.apply(this,arguments)}()}),eQ(()=>(tI(w),tI(X)),()=>{tI(w)&&tI(X)(null)}),e0(),nY();var ea=tQ(),eu=eU(ea),ec=e=>{let t=ev(()=>(tq($()),tq(j()),tI(c),tB(()=>$()&&j()?tI(c).slice().reverse():tI(c)))),n=ev(()=>(tq(j()),tq(vv),tq(D()),tB(()=>j()?vv(D()):"auto"))),r=ev(()=>(tq(j()),tq(vv),tq(R()),tB(()=>j()?"auto":vv(R())))),o=ev(()=>tI(J)||"");bW(e,{get title(){return M()},get horizontal(){return j()},get highlight(){return S()},get rtl(){return $()},get emotion(){return A()},get swatches(){return tI(t)},get themeData(){return P()},get chroma(){return T()},get purifyHtml(){return z()},get width(){return tI(n)},get height(){return tI(r)},get buffer(){return F()},get highlightedKey(){return tI(o)},get position(){return I()},get blendMultiply(){return q()},get blendMultiplyBackground(){return W()},get translate(){return H()},get locale(){return U()},get onHighlightChange(){return Y()}})},ed=e=>{let t=ev(()=>(tq(G()),tq(j()),tI(l),tB(()=>["color-legend","stepped",G(),j()?"horizontal":"vertical",tI(l)].join(" ")))),n=ev(()=>(tq(j()),tq(vv),tq(D()),tB(()=>j()?vv(D()):void 0)));yW(e,{get title(){return M()},get buffer(){return tI(i)},get rtl(){return $()},get className(){return tI(t)},get ariaLabel(){return tI(d)},get width(){return tI(n)},get purifyHtml(){return z()},$$events:{mouseleave(...e){var t;null==(t=Z.onLegendMouseLeave)||t.apply(this,e)}},children:(e,t)=>{let n,r;var o=xl(),l=eH(o),u=eH(l),d=e=>{var t=tQ();nc(eU(t),1,()=>tI(c),nu,(e,t,n)=>{let r=ev(()=>tB(()=>ei(n))),o=ev(()=>(tI(J),tI(t),tB(()=>tI(J)===tI(t).key?"highlight":"")));xi(e,{get tickSides(){return tI(r)},get color(){return tI(t),tB(()=>tI(t).color)},get label(){return tI(t),tB(()=>tI(t).label)},get min(){return tI(t),tB(()=>tI(t).min)},get max(){return tI(t),tB(()=>tI(t).max)},index:n,get horizontal(){return j()},get width(){return tI(b)},get height(){return tI(x)},get buffer(){return tI(i)},get colorLegendTheme(){return tI(a)},get key(){return tI(t),tB(()=>tI(t).key)},get labelPosition(){return tI(s)},get rotateLabel(){return tI(k)},get rtl(){return $()},get parentWidth(){return tI(ee),tB(()=>tI(ee).width)},get highlightStore(){return Z},get className(){return tI(o)}})}),t0(e,t)};nl(u,e=>{F()&&e(d)}),nc(eY(u),1,()=>tI(c),nu,(e,t,n)=>{let r=ev(()=>tB(()=>ei(n))),o=ev(()=>(tI(J),tI(t),tB(()=>tI(J)===tI(t).key?"highlight":"")));nW(xi(e,{get tickSides(){return tI(r)},get color(){return tI(t),tB(()=>tI(t).color)},get label(){return tI(t),tB(()=>tI(t).label)},get min(){return tI(t),tB(()=>tI(t).min)},get max(){return tI(t),tB(()=>tI(t).max)},index:n,get horizontal(){return j()},get width(){return tI(b)},get height(){return tI(x)},buffer:!1,get colorLegendTheme(){return tI(a)},get key(){return tI(t),tB(()=>tI(t).key)},get labelPosition(){return tI(s)},get rotateLabel(){return tI(k)},get rtl(){return $()},get parentWidth(){return tI(ee),tB(()=>tI(ee).width)},get highlightStore(){return Z},get className(){return tI(o)},get blendMultiply(){return q()},get blendMultiplyBackground(){return W()},$$legacy:!0}),(e,t)=>eE(er,tI(er)[t]=e),e=>{var t;return null==(t=tI(er))?void 0:t[e]},()=>[n])}),eD(l),nW(l,e=>e$(Q,e),()=>tI(Q)),eD(o),e2(e=>{nS(o,"width",(tI(ee),tB(()=>tI(ee).width))),nS(o,"height",(tI(ee),tB(()=>tI(ee).height))),n=n_(l,0,"svelte-2ipbo2",null,n,e),r=nk(l,"",r,{transform:`translate(${j()?tI(_):0}px, ${!j()?tI(_):0}px)`})},[()=>({highlighted:null!==tI(J),ruler:"ruler"===G()})],ev),tG("mouseleave",o,()=>{nQ(Z,null)}),t0(e,o)},$$slots:{default:!0}})};nl(eu,e=>{tI(w)?e(ec):e(ed,!1)}),t0(e,ea),nT(t,"rendered",V);var ef=es({rendered:V});return r(),ef}function xc(e,t,n={}){let r,o=!1;(n.mouseenter||n.mouseleave)&&(r=e=>{e&&n.mouseenter?(n.mouseenter({detail:e}),o=!0):o&&!e&&n.mouseleave&&n.mouseleave()});let i=ed(t8(t8({onHighlightChange:r},t),{},{highlight:r&&t.highlight,themeData:t.themeData||t.theme}));return t9(bW,{target:e,props:i}),tP(),{highlight:e=>{i.highlightedKey=e||""},container:e}}var xd=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js":(e,t)=>{t.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return -1}}}),xf=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js":(e,t)=>{t.exports=function(e){return e!=e}}}),xp=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js":(e,t)=>{t.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return -1}}}),xh=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js":(e,t)=>{var n=xd(),r=xf(),o=xp();t.exports=function(e,t,i){return t==t?o(e,t,i):n(e,r,i)}}}),xg=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludes.js":(e,t)=>{var n=xh();t.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}}}),xm=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludesWith.js":(e,t)=>{t.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}}}),xv=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js":(e,t)=>{t.exports=function(){}}}),xy=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createSet.js":(e,t)=>{var n=mZ(),r=xv(),o=mI();t.exports=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:r}}),xb=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUniq.js":(e,t)=>{var n=mN(),r=xg(),o=xm(),i=mL(),a=xy(),l=mI();t.exports=function(e,t,s){var u=-1,c=r,d=e.length,f=!0,p=[],h=p;if(s)f=!1,c=o;else if(d>=200){var g=t?null:a(e);if(g)return l(g);f=!1,c=i,h=new n}else h=t?[]:p;t:for(;++u<d;){var m=e[u],v=t?t(m):m;if(m=s||0!==m?m:0,f&&v==v){for(var y=h.length;y--;)if(h[y]===v)continue t;t&&h.push(v),p.push(m)}else c(h,v,s)||(h!==p&&h.push(v),p.push(m))}return p}}}),xx=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqBy.js":(e,t)=>{var n=va(),r=xb();t.exports=function(e,t){return e&&e.length?r(e,n(t,2)):[]}}});let x_={mt:"above",mb:"below",tl:"inside-left-top",tc:"inside-center-top",tr:"inside-right-top",bl:"inside-left-bottom",bc:"inside-center-bottom",br:"inside-right-bottom"},xw=Object.keys(x_).reduce((e,t)=>(e[x_[t]]=t,e),{});var xk=E(xx(),1),xM=E(ye(),1);function xj({vis:e,dw:t}){var n;let r;this.update=(n=td(function*({legendContainer:n,colorScale:o,map:i}){let a,l=dp(e.theme()),s=e.size();e.chart().getMetadata("data.column-format",{});let{numeral:u}=e.libraries(),c=n.colorLegend().node,d=dp({width:s[0],settings:e.get("legends.color"),column:{type:e.axes(!0).values.type(),name:e.axes(!0).values.name()},cs:{limits:o._limits,colors:o._colors,labels:o._labels,stops:o._stops},zoomable:e.get("zoomable"),zoomBtnPos:e.get("zoom-button-pos"),hideRegions:e.get("hide-empty-regions"),colorscale:e.get("colorscale",{}),colorSim:e.colorMode()||"normal",darkMode:e.darkMode(),darkModeInvert:e.get("dark-mode-invert",!0),blendMultiply:e.get("blend-multiply",!1)});if((0,xM.default)(d,r)||(r=d,rL(c).select(".map-key").remove(),!e.get("legends.color.enabled",!0)||o._limits&&void 0===o._limits[0]))return;let f="text"===e.axes(!0).values.type(),p=s[0]<450,h=e.get("legends.color.interactive"),g=cg(l,"vis.base.legend.container.outsideChart.position",p?"below":"above"),m=xw[e.get("legends.color.position",g)],v="div.map-key.export-rect.map-key-"+m+(["mt","mb"].includes(m)?"":".map-key-inside"),y="mt"===m?rL(c).insert(v,".map-outer"):rL(c).append(v),b="m"===m.charAt(0);y.classed("mobile",p),h&&y.style("pointer-events","all");let x=!f&&("discrete"!==e.get("colorscale.mode")||"custom"!==e.get("legends.color.labels","ruler")),_={title:e.get("legends.color.titleEnabled",!1)?e.get("legends.color.title")||e.axes(!0).values.title():"",highlight:h,width:p?s[0]-10:220,horizontal:p&&(x||!b)||b&&x||"horizontal"===e.get("legends.color.orientation","horizontal"),reverse:!f&&e.get("legends.color.reverse",!1),theme:l,rtl:"rtl"===e.textDirection,buffer:!p&&!b,emotion:e.chart().emotion,chroma:e.libraries().chroma,purifyHtml:t.utils.purifyHtml,blendMultiply:e.darkMode()&&e.get("blend-multiply",!1),blendMultiplyBackground:i.regionFill,position:"mb"===m||p&&"mt"!==m?"below":"above",translate:e.chart().translate,locale:e.chart().locale,noPadding:!0},w="discrete"===e.get("colorscale.mode")&&"ruler"!==e.get("legends.color.labels")&&!_.horizontal,k=e.get("legends.color.hideItems",[]),M=!f&&o._colors&&"ruler"!==e.get("legends.color.labels")&&("m"===m.charAt(0)||w);p||b?b&&!p&&"number"===e.axes(!0).values.type()&&("continuous"===e.get("colorscale.mode")||"ruler"===e.get("legends.color.labels"))&&(_.width=e.get("legends.color.size",200)):_[_.horizontal||f||w?"width":"height"]=e.get("legends.color.size",170),(b||p)&&(!_.horizontal||M||f)&&(_.width=null),b||df(_.theme,"vis.base.legend.container.outsideChart.center",!1);let j=i.getValueLabelFormatter(),S={};if(h&&(S.mouseenter=({detail:e})=>{i.highlight(t8(t8({},e),{},{source:"color-legend"}))},S.mouseleave=()=>{i.highlight(null)}),f){let t=e.get("colorscale.categoryOrder",[]),n=e.get("colorscale.categoryLabels",{});(_=t8(t8({},_),{},{swatches:(0,xk.default)(o._labels.sort((e,n)=>t.indexOf(e)-t.indexOf(n)).map((e,t)=>{let r=null!=n[e]?n[e]:e,i=o(e);return{key:`${i}///${r}`,label:r,value:e,index:t,color:i}}),e=>e.key).sort((e,t)=>e.index-t.index).filter(e=>e.label)})).horizontal||(_.height="auto"),a=xc(y.node(),_,S)}else if(M){let t="discrete"===e.get("colorscale.mode")&&"custom"===e.get("legends.color.labels")&&e.get("legends.color.customLabels",[]);_=t8(t8({},_),{},{swatches:o._stops.slice(1).map((e,n)=>({key:`class-${n}`,color:o._colors[n],index:n,min:0===n?-1/0:+o._stops[n],max:n===o._stops.length-2?1/0:+o._stops[n+1],label:t?t[n]:0===n?`<&nbsp;${j(e)}`:n<o._colors.length-1?`${j(o._stops[n])}â${j(e)}`:`â¥&nbsp;${j(o._stops[n])}`}))}),"custom"===e.get("legends.color.labels")&&(_.swatches=_.swatches.filter((e,t)=>!k.includes(t))),_.horizontal||(_.height="auto",_.swatches.reverse()),a=xc(y.node(),_,S)}else _=t8(t8({},_),{},{limits:o._limits,breaks:o._stops,labelType:"ruler"===e.get("legends.color.labels")?"ruler":"ranges",colors:o._colors||o,format:j,useCategoryLegend:!_.horizontal&&"ranges"===_.labelType}),"categories"===e.get("colorscale.mode")?_.labels=o._labels:"continuous"===e.get("colorscale.mode")&&"custom"===e.get("legends.color.labels")?(_.labels=[e.get("legends.color.labelMin",""),e.get("legends.color.labelMax","")],""!==e.get("colorscale.rangeCenter")&&void 0!==e.get("colorscale.rangeCenter")&&_.labels.splice(1,0,e.get("legends.color.labelCenter",""))):"discrete"===e.get("colorscale.mode")&&"custom"===e.get("legends.color.labels")&&(_.labels=e.get("legends.color.customLabels",[]).filter((e,t)=>!k.includes(t)),_.colors=_.colors.filter((e,t)=>!k.includes(t)),_.breaks=_.breaks.filter((e,t)=>0===t||t===_.breaks.length-1||!k.includes(t-1))),a=function(e,t,n={}){var r;let o,i=null,a=null;void 0===t.horizontal&&(t.horizontal=!0);let l=!1;switch((n.mouseenter||n.mouseleave)&&(o=e=>{e&&n.mouseenter?(n.mouseenter({detail:e}),l=!0):l&&!e&&n.mouseleave&&n.mouseleave()}),"function"==typeof(r=t).colors?"continuous":"ruler"===r.labelType?"stepped":"ranges"===r.labelType?r.useCategoryLegend?"category":"stepped":"winner"){case"continuous":{let r=ed(t8(t8({onHighlightChange:o},t),{},{themeData:t.themeData||t.theme}));i=r,a=t9(b3,{target:e,props:r,events:n});break}case"stepped":{let r=ed(t8(t8({onHighlightChange:o},t),{},{themeData:t.themeData||t.theme}));i=r,a=t9(xu,{target:e,props:r,events:n});break}case"category":{let r=ed(t8(t8({onHighlightChange:o},t),{},{themeData:t.themeData||t.theme,swatches:xa({colors:t.colors,breaks:t.breaks,labels:t.labels,format:t.format,rtl:t.rtl,horizontal:t.horizontal}),reverse:t.reverse,height:"auto"}));i=r,a=t9(bW,{target:e,props:r,events:n});break}default:e.innerHTML="winner tk"}return tP(),{highlight:e=>{i&&(i.highlightedValue="number"==typeof e?e:null)},container:e,rendered:null==a?void 0:a.rendered}}(y.node(),_,S);if(h){let t=e.axes(!0).values,n=e.get("colorscale.categoryLabels",{});i.highlightCallbacks.add(e=>{if(!e)return a.highlight();let r=e.data?e.data[t.name()]:e.properties._cluster?e.properties._val2:e.properties[t.name()];if("number"===t.type()&&"number"!=typeof r)return a.highlight();if(M){let e=o._stops.slice(0,-1).map((e,t)=>{let n=[o._stops[t],o._stops[t+1]];return 0===t?n[0]=-1/0:t===o._stops.length-2&&(n[1]=1/0),n}).findIndex(([e,t])=>r>=e&&r<t);r=`class-${e}`}a.highlight("text"===t.type()?`${e.fill||e.properties._color}///${n[r]||r}`:r)},"color-legend")}return a.rendered}),function(e){return n.apply(this,arguments)})}var xS=(e,t=0,n=1)=>xN(xC(t,e),n),xE=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=xS(e[t],0,255)):3===t&&(e[t]=xS(e[t],0,1));return e};let x$={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])x$[`[object ${e}]`]=e.toLowerCase();function xA(e){return x$[Object.prototype.toString.call(e)]||"object"}var xT=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):"object"==xA(e[0])&&t?t.split("").filter(t=>void 0!==e[0][t]).map(t=>e[0][t]):e[0],xz=e=>{if(e.length<2)return null;let t=e.length-1;return"string"==xA(e[t])?e[t].toLowerCase():null};let{PI:xO,min:xN,max:xC}=Math,xL=2*xO,xP=xO/3,xD=xO/180,xR=180/xO;var xI={format:{},autodetect:[]},xB=class{constructor(...e){if("object"===xA(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let t=xz(e),n=!1;if(!t){for(let r of(n=!0,xI.sorted||(xI.autodetect=xI.autodetect.sort((e,t)=>t.p-e.p),xI.sorted=!0),xI.autodetect))if(t=r.test(...e))break}if(xI.format[t]){let r=xI.format[t].apply(null,n?e:e.slice(0,-1));this._rgb=xE(r)}else throw Error("unknown format: "+e);3===this._rgb.length&&this._rgb.push(1)}toString(){return"function"==xA(this.hex)?this.hex():`[${this._rgb.join(",")}]`}};let xF=(...e)=>new xF.Color(...e);xF.Color=xB,xF.version="2.6.0";let{max:xq}=Math;var xW=(...e)=>{let[t,n,r]=xT(e,"rgb"),o=1-xq(t/=255,xq(n/=255,r/=255)),i=o<1?1/(1-o):0;return[(1-t-o)*i,(1-n-o)*i,(1-r-o)*i,o]};xB.prototype.cmyk=function(){return xW(this._rgb)},xF.cmyk=(...e)=>new xB(...e,"cmyk"),xI.format.cmyk=(...e)=>{let[t,n,r,o]=e=xT(e,"cmyk"),i=e.length>4?e[4]:1;return 1===o?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-o),n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i]},xI.autodetect.push({p:2,test:(...e)=>{if("array"===xA(e=xT(e,"cmyk"))&&4===e.length)return"cmyk"}});let xH=e=>Math.round(100*e)/100;var xU=(...e)=>{let t=xT(e,"hsla"),n=xz(e)||"lsa";return t[0]=xH(t[0]||0),t[1]=xH(100*t[1])+"%",t[2]=xH(100*t[2])+"%","hsla"===n||t.length>3&&t[3]<1?(t[3]=t.length>3?t[3]:1,n="hsla"):t.length=3,`${n}(${t.join(",")})`},xY=(...e)=>{let t,n,[r,o,i]=e=xT(e,"rgba"),a=xN(r/=255,o/=255,i/=255),l=xC(r,o,i),s=(l+a)/2;return(l===a?(t=0,n=NaN):t=s<.5?(l-a)/(l+a):(l-a)/(2-l-a),r==l?n=(o-i)/(l-a):o==l?n=2+(i-r)/(l-a):i==l&&(n=4+(r-o)/(l-a)),(n*=60)<0&&(n+=360),e.length>3&&void 0!==e[3])?[n,t,s,e[3]]:[n,t,s]};let{round:xG}=Math;var xX=(...e)=>{let t=xT(e,"rgba"),n=xz(e)||"rgb";return"hsl"==n.substr(0,3)?xU(xY(t),n):(t[0]=xG(t[0]),t[1]=xG(t[1]),t[2]=xG(t[2]),("rgba"===n||t.length>3&&t[3]<1)&&(t[3]=t.length>3?t[3]:1,n="rgba"),`${n}(${t.slice(0,"rgb"===n?3:4).join(",")})`)};let{round:xV}=Math;var xZ=(...e)=>{let t,n,r,[o,i,a]=e=xT(e,"hsl");if(0===i)t=n=r=255*a;else{let e=[0,0,0],l=[0,0,0],s=a<.5?a*(1+i):a+i-a*i,u=2*a-s,c=o/360;e[0]=c+1/3,e[1]=c,e[2]=c-1/3;for(let t=0;t<3;t++)e[t]<0&&(e[t]+=1),e[t]>1&&(e[t]-=1),6*e[t]<1?l[t]=u+(s-u)*6*e[t]:2*e[t]<1?l[t]=s:3*e[t]<2?l[t]=u+(s-u)*(2/3-e[t])*6:l[t]=u;[t,n,r]=[xV(255*l[0]),xV(255*l[1]),xV(255*l[2])]}return e.length>3?[t,n,r,e[3]]:[t,n,r,1]};let xK=RegExp("^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$",""),xJ=RegExp("^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$",""),xQ=RegExp("^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$",""),x0=RegExp("^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$",""),x1=RegExp("^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$",""),x2=RegExp("^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$",""),{round:x5}=Math,x3=e=>{let t;if(e=e.toLowerCase().trim(),xI.format.named)try{return xI.format.named(e)}catch(e){}if(t=e.match(xK)){let e=t.slice(1,4);for(let t=0;t<3;t++)e[t]=+e[t];return e[3]=1,e}if(t=e.match(xJ)){let e=t.slice(1,5);for(let t=0;t<4;t++)e[t]=+e[t];return e}if(t=e.match(xQ)){let e=t.slice(1,4);for(let t=0;t<3;t++)e[t]=x5(2.55*e[t]);return e[3]=1,e}if(t=e.match(x0)){let e=t.slice(1,5);for(let t=0;t<3;t++)e[t]=x5(2.55*e[t]);return e[3]=+e[3],e}if(t=e.match(x1)){let e=t.slice(1,4);e[1]*=.01,e[2]*=.01;let n=xZ(e);return n[3]=1,n}if(t=e.match(x2)){let e=t.slice(1,4);e[1]*=.01,e[2]*=.01;let n=xZ(e);return n[3]=+t[4],n}};x3.test=e=>xK.test(e)||xJ.test(e)||xQ.test(e)||x0.test(e)||x1.test(e)||x2.test(e),xB.prototype.css=function(e){return xX(this._rgb,e)},xF.css=(...e)=>new xB(...e,"css"),xI.format.css=x3,xI.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===xA(e)&&x3.test(e))return"css"}}),xI.format.gl=(...e)=>{let t=xT(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},xF.gl=(...e)=>new xB(...e,"gl"),xB.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};let{floor:x4}=Math;var x8=(...e)=>{let t,[n,r,o]=xT(e,"rgb"),i=xN(n,r,o),a=xC(n,r,o),l=a-i;return 0===l?t=NaN:(n===a&&(t=(r-o)/l),r===a&&(t=2+(o-n)/l),o===a&&(t=4+(n-r)/l),(t*=60)<0&&(t+=360)),[t,100*l/255,i/(255-l)*100]};xB.prototype.hcg=function(){return x8(this._rgb)},xF.hcg=(...e)=>new xB(...e,"hcg"),xI.format.hcg=(...e)=>{let t,n,r,[o,i,a]=e=xT(e,"hcg");a*=255;let l=255*i;if(0===i)t=n=r=a;else{360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360);let e=x4(o/=60),s=o-e,u=a*(1-i),c=u+l*(1-s),d=u+l*s,f=u+l;switch(e){case 0:[t,n,r]=[f,d,u];break;case 1:[t,n,r]=[c,f,u];break;case 2:[t,n,r]=[u,f,d];break;case 3:[t,n,r]=[u,c,f];break;case 4:[t,n,r]=[d,u,f];break;case 5:[t,n,r]=[f,u,c]}}return[t,n,r,e.length>3?e[3]:1]},xI.autodetect.push({p:1,test:(...e)=>{if("array"===xA(e=xT(e,"hcg"))&&3===e.length)return"hcg"}});let x7=RegExp("^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",""),x6=RegExp("^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$","");var x9=e=>{if(e.match(x7)){(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(x6)){(5===e.length||9===e.length)&&(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),n=Math.round((255&t)/255*100)/100;return[t>>24&255,t>>16&255,t>>8&255,n]}throw Error(`unknown hex color: ${e}`)};let{round:_e}=Math;var _t=(...e)=>{let[t,n,r,o]=xT(e,"rgba"),i=xz(e)||"auto";void 0===o&&(o=1),"auto"===i&&(i=o<1?"rgba":"rgb"),t=_e(t);let a="000000"+(t<<16|(n=_e(n))<<8|(r=_e(r))).toString(16);a=a.substr(a.length-6);let l="0"+_e(255*o).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}};xB.prototype.hex=function(e){return _t(this._rgb,e)},xF.hex=(...e)=>new xB(...e,"hex"),xI.format.hex=x9,xI.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&"string"===xA(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});let{cos:_n}=Math,{min:_r,sqrt:_o,acos:_i}=Math;var _a=(...e)=>{let t,[n,r,o]=xT(e,"rgb"),i=_r(n/=255,r/=255,o/=255),a=(n+r+o)/3,l=a>0?1-i/a:0;return 0===l?t=NaN:(t=_i(t=(n-r+(n-o))/2/_o((n-r)*(n-r)+(n-o)*(r-o))),o>r&&(t=xL-t),t/=xL),[360*t,l,a]};xB.prototype.hsi=function(){return _a(this._rgb)},xF.hsi=(...e)=>new xB(...e,"hsi"),xI.format.hsi=(...e)=>{let t,n,r,[o,i,a]=e=xT(e,"hsi");return isNaN(o)&&(o=0),isNaN(i)&&(i=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?n=1-((r=(1-i)/3)+(t=(1+i*_n(xL*o)/_n(xP-xL*o))/3)):o<2/3?(o-=1/3,r=1-((t=(1-i)/3)+(n=(1+i*_n(xL*o)/_n(xP-xL*o))/3))):(o-=2/3,t=1-((n=(1-i)/3)+(r=(1+i*_n(xL*o)/_n(xP-xL*o))/3))),t=xS(a*t*3),[255*t,255*(n=xS(a*n*3)),255*(r=xS(a*r*3)),e.length>3?e[3]:1]},xI.autodetect.push({p:2,test:(...e)=>{if("array"===xA(e=xT(e,"hsi"))&&3===e.length)return"hsi"}}),xB.prototype.hsl=function(){return xY(this._rgb)},xF.hsl=(...e)=>new xB(...e,"hsl"),xI.format.hsl=xZ,xI.autodetect.push({p:2,test:(...e)=>{if("array"===xA(e=xT(e,"hsl"))&&3===e.length)return"hsl"}});let{floor:_l}=Math,{min:_s,max:_u}=Math;var _c=(...e)=>{let t,n,[r,o,i]=e=xT(e,"rgb"),a=_s(r,o,i),l=_u(r,o,i),s=l-a;return 0===l?(t=NaN,n=0):(n=s/l,r===l&&(t=(o-i)/s),o===l&&(t=2+(i-r)/s),i===l&&(t=4+(r-o)/s),(t*=60)<0&&(t+=360)),[t,n,l/255]};xB.prototype.hsv=function(){return _c(this._rgb)},xF.hsv=(...e)=>new xB(...e,"hsv"),xI.format.hsv=(...e)=>{let t,n,r,[o,i,a]=e=xT(e,"hsv");if(a*=255,0===i)t=n=r=a;else{360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360);let e=_l(o/=60),l=o-e,s=a*(1-i),u=a*(1-i*l),c=a*(1-i*(1-l));switch(e){case 0:[t,n,r]=[a,c,s];break;case 1:[t,n,r]=[u,a,s];break;case 2:[t,n,r]=[s,a,c];break;case 3:[t,n,r]=[s,u,a];break;case 4:[t,n,r]=[c,s,a];break;case 5:[t,n,r]=[a,s,u]}}return[t,n,r,e.length>3?e[3]:1]},xI.autodetect.push({p:2,test:(...e)=>{if("array"===xA(e=xT(e,"hsv"))&&3===e.length)return"hsv"}});var _d={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452};let{pow:_f}=Math,_p=e=>255*(e<=.00304?12.92*e:1.055*_f(e,1/2.4)-.055),_h=e=>e>_d.t1?e*e*e:_d.t2*(e-_d.t0);var _g=(...e)=>{let t,n,r,o,[i,a,l]=e=xT(e,"lab");return n=(i+16)/116,t=isNaN(a)?n:n+a/500,r=isNaN(l)?n:n-l/200,n=_d.Yn*_h(n),o=_p(3.2404542*(t=_d.Xn*_h(t))-1.5371385*n-.4985314*(r=_d.Zn*_h(r))),[o,_p(-.969266*t+1.8760108*n+.041556*r),_p(.0556434*t-.2040259*n+1.0572252*r),e.length>3?e[3]:1]};let{pow:_m}=Math,_v=e=>(e/=255)<=.04045?e/12.92:_m((e+.055)/1.055,2.4),_y=e=>e>_d.t3?_m(e,1/3):e/_d.t2+_d.t0,_b=(e,t,n)=>{e=_v(e);let r=_y((.4124564*e+.3575761*(t=_v(t))+.1804375*(n=_v(n)))/_d.Xn);return[r,_y((.2126729*e+.7151522*t+.072175*n)/_d.Yn),_y((.0193339*e+.119192*t+.9503041*n)/_d.Zn)]};var _x=(...e)=>{let[t,n,r]=xT(e,"rgb"),[o,i,a]=_b(t,n,r),l=116*i-16;return[l<0?0:l,500*(o-i),200*(i-a)]};xB.prototype.lab=function(){return _x(this._rgb)},xF.lab=(...e)=>new xB(...e,"lab"),xI.format.lab=_g,xI.autodetect.push({p:2,test:(...e)=>{if("array"===xA(e=xT(e,"lab"))&&3===e.length)return"lab"}});let{sin:__,cos:_w}=Math;var _k=(...e)=>{let[t,n,r]=xT(e,"lch");return isNaN(r)&&(r=0),[t,_w(r*=xD)*n,__(r)*n]},_M=(...e)=>{let[t,n,r]=e=xT(e,"lch"),[o,i,a]=_k(t,n,r),[l,s,u]=_g(o,i,a);return[l,s,u,e.length>3?e[3]:1]};let{sqrt:_j,atan2:_S,round:_E}=Math;var _$=(...e)=>{let[t,n,r]=xT(e,"lab"),o=_j(n*n+r*r),i=(_S(r,n)*xR+360)%360;return 0===_E(1e4*o)&&(i=NaN),[t,o,i]},_A=(...e)=>{let[t,n,r]=xT(e,"rgb"),[o,i,a]=_x(t,n,r);return _$(o,i,a)};xB.prototype.lch=function(){return _A(this._rgb)},xB.prototype.hcl=function(){return _A(this._rgb).reverse()},xF.lch=(...e)=>new xB(...e,"lch"),xF.hcl=(...e)=>new xB(...e,"hcl"),xI.format.lch=_M,xI.format.hcl=(...e)=>_M(...xT(e,"hcl").reverse()),["lch","hcl"].forEach(e=>xI.autodetect.push({p:2,test:(...t)=>{if("array"===xA(t=xT(t,e))&&3===t.length)return e}}));var _T={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};xB.prototype.name=function(){let e=_t(this._rgb,"rgb");for(let t of Object.keys(_T))if(_T[t]===e)return t.toLowerCase();return e},xI.format.named=e=>{if(_T[e=e.toLowerCase()])return x9(_T[e]);throw Error("unknown color name: "+e)},xI.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===xA(e)&&_T[e.toLowerCase()])return"named"}});var _z=(...e)=>{let[t,n,r]=xT(e,"rgb");return(t<<16)+(n<<8)+r};xB.prototype.num=function(){return _z(this._rgb)},xF.num=(...e)=>new xB(...e,"num"),xI.format.num=e=>{if("number"==xA(e)&&e>=0&&e<=0xffffff)return[e>>16,e>>8&255,255&e,1];throw Error("unknown num color: "+e)},xI.autodetect.push({p:5,test:(...e)=>{if(1===e.length&&"number"===xA(e[0])&&e[0]>=0&&e[0]<=0xffffff)return"num"}});let{round:_O}=Math;xB.prototype.rgb=function(e=!0){return!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(_O)},xB.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?!1===e?t:_O(t):t)},xF.rgb=(...e)=>new xB(...e,"rgb"),xI.format.rgb=(...e)=>{let t=xT(e,"rgba");return void 0===t[3]&&(t[3]=1),t},xI.autodetect.push({p:3,test:(...e)=>{if("array"===xA(e=xT(e,"rgba"))&&(3===e.length||4===e.length&&"number"==xA(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});let{log:_N}=Math;var _C=e=>{let t,n,r,o=e/100;return o<66?(t=255,n=o<6?0:-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*_N(n),r=o<20?0:-254.76935184120902+.8274096064007395*(r=o-10)+115.67994401066147*_N(r)):(t=351.97690566805693+.114206453784165*(t=o-55)-40.25366309332127*_N(t),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*_N(n),r=255),[t,n,r,1]};let{round:_L}=Math;var _P=(...e)=>{let t,n=xT(e,"rgb"),r=n[0],o=n[2],i=1e3,a=4e4;for(;a-i>.4;){let e=_C(t=(a+i)*.5);e[2]/e[0]>=o/r?a=t:i=t}return _L(t)};xB.prototype.temp=xB.prototype.kelvin=xB.prototype.temperature=function(){return _P(this._rgb)},xF.temp=xF.kelvin=xF.temperature=(...e)=>new xB(...e,"temp"),xI.format.temp=xI.format.kelvin=xI.format.temperature=_C;let{pow:_D,sign:_R}=Math;var _I=(...e)=>{let[t,n,r]=e=xT(e,"lab"),o=_D(t+.3963377774*n+.2158037573*r,3),i=_D(t-.1055613458*n-.0638541728*r,3),a=_D(t-.0894841775*n-1.291485548*r,3);return[255*_B(4.0767416621*o-3.3077115913*i+.2309699292*a),255*_B(-1.2684380046*o+2.6097574011*i-.3413193965*a),255*_B(-.0041960863*o-.7034186147*i+1.707614701*a),e.length>3?e[3]:1]};function _B(e){let t=Math.abs(e);return t>.0031308?(_R(e)||1)*(1.055*_D(t,1/2.4)-.055):12.92*e}let{cbrt:_F,pow:_q,sign:_W}=Math;var _H=(...e)=>{let[t,n,r]=xT(e,"rgb"),[o,i,a]=[_U(t/255),_U(n/255),_U(r/255)],l=_F(.4122214708*o+.5363325363*i+.0514459929*a),s=_F(.2119034982*o+.6806995451*i+.1073969566*a),u=_F(.0883024619*o+.2817188376*i+.6299787005*a);return[.2104542553*l+.793617785*s-.0040720468*u,1.9779984951*l-2.428592205*s+.4505937099*u,.0259040371*l+.7827717662*s-.808675766*u]};function _U(e){let t=Math.abs(e);return t<.04045?e/12.92:(_W(e)||1)*_q((t+.055)/1.055,2.4)}xB.prototype.oklab=function(){return _H(this._rgb)},xF.oklab=(...e)=>new xB(...e,"oklab"),xI.format.oklab=_I,xI.autodetect.push({p:3,test:(...e)=>{if("array"===xA(e=xT(e,"oklab"))&&3===e.length)return"oklab"}});var _Y=(...e)=>{let[t,n,r]=xT(e,"rgb"),[o,i,a]=_H(t,n,r);return _$(o,i,a)};xB.prototype.oklch=function(){return _Y(this._rgb)},xF.oklch=(...e)=>new xB(...e,"oklch"),xI.format.oklch=(...e)=>{let[t,n,r]=e=xT(e,"lch"),[o,i,a]=_k(t,n,r),[l,s,u]=_I(o,i,a);return[l,s,u,e.length>3?e[3]:1]},xI.autodetect.push({p:3,test:(...e)=>{if("array"===xA(e=xT(e,"oklch"))&&3===e.length)return"oklch"}}),xB.prototype.alpha=function(e,t=!1){return void 0!==e&&"number"===xA(e)?t?(this._rgb[3]=e,this):new xB([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},xB.prototype.clipped=function(){return this._rgb._clipped||!1},xB.prototype.darken=function(e=1){let t=this.lab();return t[0]-=_d.Kn*e,new xB(t,"lab").alpha(this.alpha(),!0)},xB.prototype.brighten=function(e=1){return this.darken(-e)},xB.prototype.darker=xB.prototype.darken,xB.prototype.brighter=xB.prototype.brighten,xB.prototype.get=function(e){let[t,n]=e.split("."),r=this[t]();if(!n)return r;{let e=t.indexOf(n)-2*("ok"===t.substr(0,2));if(e>-1)return r[e];throw Error(`unknown channel ${n} in mode ${t}`)}};let{pow:_G}=Math;xB.prototype.luminance=function(e,t="rgb"){if(void 0!==e&&"number"===xA(e)){if(0===e)return new xB([0,0,0,this._rgb[3]],"rgb");if(1===e)return new xB([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=20,o=(n,i)=>{let a=n.interpolate(i,.5,t),l=a.luminance();return!(1e-7>Math.abs(e-l))&&r--?l>e?o(n,a):o(a,i):a},i=(n>e?o(new xB([0,0,0]),this):o(this,new xB([255,255,255]))).rgb();return new xB([...i,this._rgb[3]])}return _X(...this._rgb.slice(0,3))};let _X=(e,t,n)=>(e=_V(e),.2126*e+.7152*(t=_V(t))+.0722*(n=_V(n))),_V=e=>(e/=255)<=.03928?e/12.92:_G((e+.055)/1.055,2.4);var _Z={},_K=(e,t,n=.5,...r)=>{let o=r[0]||"lrgb";if(_Z[o]||r.length||(o=Object.keys(_Z)[0]),!_Z[o])throw Error(`interpolation mode ${o} is not defined`);return"object"!==xA(e)&&(e=new xB(e)),"object"!==xA(t)&&(t=new xB(t)),_Z[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};xB.prototype.mix=xB.prototype.interpolate=function(e,t=.5,...n){return _K(this,e,t,...n)},xB.prototype.premultiply=function(e=!1){let t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new xB([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},xB.prototype.saturate=function(e=1){let t=this.lch();return t[1]+=_d.Kn*e,t[1]<0&&(t[1]=0),new xB(t,"lch").alpha(this.alpha(),!0)},xB.prototype.desaturate=function(e=1){return this.saturate(-e)},xB.prototype.set=function(e,t,n=!1){let[r,o]=e.split("."),i=this[r]();if(!o)return i;{let e=r.indexOf(o)-2*("ok"===r.substr(0,2));if(e>-1){if("string"==xA(t))switch(t.charAt(0)){case"+":case"-":i[e]+=+t;break;case"*":i[e]*=t.substr(1);break;case"/":i[e]/=t.substr(1);break;default:i[e]=+t}else if("number"===xA(t))i[e]=t;else throw Error("unsupported value for Color.set");let o=new xB(i,r);return n?(this._rgb=o._rgb,this):o}throw Error(`unknown channel ${o} in mode ${r}`)}},xB.prototype.tint=function(e=.5,...t){return _K(this,"white",e,...t)},xB.prototype.shade=function(e=.5,...t){return _K(this,"black",e,...t)},_Z.rgb=(e,t,n)=>{let r=e._rgb,o=t._rgb;return new xB(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};let{sqrt:_J,pow:_Q}=Math;_Z.lrgb=(e,t,n)=>{let[r,o,i]=e._rgb,[a,l,s]=t._rgb;return new xB(_J(_Q(r,2)*(1-n)+_Q(a,2)*n),_J(_Q(o,2)*(1-n)+_Q(l,2)*n),_J(_Q(i,2)*(1-n)+_Q(s,2)*n),"rgb")},_Z.lab=(e,t,n)=>{let r=e.lab(),o=t.lab();return new xB(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};var _0=(e,t,n,r)=>{let o,i,a,l,s,u,c,d,f,p,h,g;return"hsl"===r?(o=e.hsl(),i=t.hsl()):"hsv"===r?(o=e.hsv(),i=t.hsv()):"hcg"===r?(o=e.hcg(),i=t.hcg()):"hsi"===r?(o=e.hsi(),i=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",o=e.hcl(),i=t.hcl()):"oklch"===r&&(o=e.oklch().reverse(),i=t.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&([a,s,c]=o,[l,u,d]=i),isNaN(a)||isNaN(l)?isNaN(a)?isNaN(l)?p=NaN:(p=l,(1==c||0==c)&&"hsv"!=r&&(f=u)):(p=a,(1==d||0==d)&&"hsv"!=r&&(f=s)):(g=l>a&&l-a>180?l-(a+360):l<a&&a-l>180?l+360-a:l-a,p=a+n*g),void 0===f&&(f=s+n*(u-s)),h=c+n*(d-c),"oklch"===r?new xB([h,f,p],r):new xB([p,f,h],r)};let _1=(e,t,n)=>_0(e,t,n,"lch");_Z.lch=_1,_Z.hcl=_1,_Z.num=(e,t,n)=>{let r=e.num();return new xB(r+n*(t.num()-r),"num")},_Z.hcg=(e,t,n)=>_0(e,t,n,"hcg"),_Z.hsi=(e,t,n)=>_0(e,t,n,"hsi"),_Z.hsl=(e,t,n)=>_0(e,t,n,"hsl"),_Z.hsv=(e,t,n)=>_0(e,t,n,"hsv"),_Z.oklab=(e,t,n)=>{let r=e.oklab(),o=t.oklab();return new xB(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")},_Z.oklch=(e,t,n)=>_0(e,t,n,"oklch");let{pow:_2,sqrt:_5,PI:_3,cos:_4,sin:_8,atan2:_7}=Math,_6=(e,t)=>{let n=e.length,r=[0,0,0,0];for(let o=0;o<e.length;o++){let i=e[o],a=t[o]/n,l=i._rgb;r[0]+=_2(l[0],2)*a,r[1]+=_2(l[1],2)*a,r[2]+=_2(l[2],2)*a,r[3]+=l[3]*a}return r[0]=_5(r[0]),r[1]=_5(r[1]),r[2]=_5(r[2]),r[3]>.9999999&&(r[3]=1),new xB(xE(r))},{pow:_9}=Math;function we(e){let t="rgb",n=xF("#ccc"),r=0,o=[0,1],i=[],a=[0,0],l=!1,s=[],u=!1,c=0,d=1,f=!1,p={},h=!0,g=1,m=function(e){if("string"===xA(e=e||["#fff","#000"])&&xF.brewer&&xF.brewer[e.toLowerCase()]&&(e=xF.brewer[e.toLowerCase()]),"array"===xA(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(let t=0;t<e.length;t++)e[t]=xF(e[t]);i.length=0;for(let t=0;t<e.length;t++)i.push(t/(e.length-1))}return _(),s=e},v=function(e){if(null!=l){let t=l.length-1,n=0;for(;n<t&&e>=l[n];)n++;return n-1}return 0},y=e=>e,b=e=>e,x=function(e,r){let o,u;if(null==r&&(r=!1),isNaN(e)||null===e)return n;u=r?e:l&&l.length>2?v(e)/(l.length-2):d!==c?(e-c)/(d-c):1,u=b(u),r||(u=y(u)),1!==g&&(u=_9(u,g));let f=Math.floor(1e4*(u=xS(u=a[0]+u*(1-a[0]-a[1]),0,1)));if(h&&p[f])o=p[f];else{if("array"===xA(s))for(let e=0;e<i.length;e++){let n=i[e];if(u<=n||u>=n&&e===i.length-1){o=s[e];break}if(u>n&&u<i[e+1]){u=(u-n)/(i[e+1]-n),o=xF.interpolate(s[e],s[e+1],u,t);break}}else"function"===xA(s)&&(o=s(u));h&&(p[f]=o)}return o};var _=()=>p={};m(e);let w=function(e){let t=xF(x(e));return u&&t[u]?t[u]():t};return w.classes=function(e){if(null!=e){if("array"===xA(e))l=e,o=[e[0],e[e.length-1]];else{let t=xF.analyze(o);l=0===e?[t.min,t.max]:xF.limits(t,"e",e)}return w}return l},w.domain=function(e){if(!arguments.length)return o;c=e[0],d=e[e.length-1],i=[];let t=s.length;if(e.length===t&&c!==d)for(let t of Array.from(e))i.push((t-c)/(d-c));else{for(let e=0;e<t;e++)i.push(e/(t-1));if(e.length>2){let t=e.map((t,n)=>n/(e.length-1)),n=e.map(e=>(e-c)/(d-c));n.every((e,n)=>t[n]===e)||(b=e=>{if(e<=0||e>=1)return e;let r=0;for(;e>=n[r+1];)r++;let o=(e-n[r])/(n[r+1]-n[r]);return t[r]+o*(t[r+1]-t[r])})}}return o=[c,d],w},w.mode=function(e){return arguments.length?(t=e,_(),w):t},w.range=function(e,t){return m(e,t),w},w.out=function(e){return u=e,w},w.spread=function(e){return arguments.length?(r=e,w):r},w.correctLightness=function(e){return null==e&&(e=!0),f=e,_(),y=f?function(e){let t=x(0,!0).lab()[0],n=x(1,!0).lab()[0],r=t>n,o=x(e,!0).lab()[0],i=t+(n-t)*e,a=o-i,l=0,s=1,u=20;for(;Math.abs(a)>.01&&u-- >0;)r&&(a*=-1),a<0?(l=e,e+=(s-e)*.5):(s=e,e+=(l-e)*.5),a=(o=x(e,!0).lab()[0])-i;return e}:e=>e,w},w.padding=function(e){return null!=e?("number"===xA(e)&&(e=[e,e]),a=e,w):a},w.colors=function(t,n){arguments.length<2&&(n="hex");let r=[];if(0==arguments.length)r=s.slice(0);else if(1===t)r=[w(.5)];else if(t>1){let e=o[0],n=o[1]-e;r=(function(e,t,n){let r=[],o=0<t,i=n?o?t+1:t-1:t;for(let t=e;o?t<i:t>i;o?t++:t--)r.push(t);return r})(0,t,!1).map(r=>w(e+r/(t-1)*n))}else{e=[];let t=[];if(l&&l.length>2)for(let e=1,n=l.length,r=1<=n;r?e<n:e>n;r?e++:e--)t.push((l[e-1]+l[e])*.5);else t=o;r=t.map(e=>w(e))}return xF[n]&&(r=r.map(e=>e[n]())),r},w.cache=function(e){return null!=e?(h=e,w):h},w.gamma=function(e){return null!=e?(g=e,w):g},w.nodata=function(e){return null!=e?(n=xF(e),w):n},w}let wt=function(e){let t=[1,1];for(let n=1;n<e;n++){let e=[1];for(let n=1;n<=t.length;n++)e[n]=(t[n]||0)+t[n-1];t=e}return t},wn=function(e){let t,n,r,o;if(2===(e=e.map(e=>new xB(e))).length)[n,r]=e.map(e=>e.lab()),t=function(e){return new xB([0,1,2].map(t=>n[t]+e*(r[t]-n[t])),"lab")};else if(3===e.length)[n,r,o]=e.map(e=>e.lab()),t=function(e){return new xB([0,1,2].map(t=>(1-e)*(1-e)*n[t]+2*(1-e)*e*r[t]+e*e*o[t]),"lab")};else if(4===e.length){let i;[n,r,o,i]=e.map(e=>e.lab()),t=function(e){return new xB([0,1,2].map(t=>(1-e)*(1-e)*(1-e)*n[t]+3*(1-e)*(1-e)*e*r[t]+3*(1-e)*e*e*o[t]+e*e*e*i[t]),"lab")}}else if(e.length>=5){let n,r,o;n=e.map(e=>e.lab()),r=wt(o=e.length-1),t=function(e){let t=1-e;return new xB([0,1,2].map(i=>n.reduce((n,a,l)=>n+r[l]*Math.pow(t,o-l)*Math.pow(e,l)*a[i],0)),"lab")}}else throw RangeError("No point in running bezier with only one color.");return t},wr=(e,t,n)=>{if(!wr[n])throw Error("unknown blend mode "+n);return wr[n](e,t)},wo=e=>(t,n)=>{let r=xF(n).rgb(),o=xF(t).rgb();return xF.rgb(e(r,o))},wi=e=>(t,n)=>{let r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r};wr.normal=wo(wi(e=>e)),wr.multiply=wo(wi((e,t)=>e*t/255)),wr.screen=wo(wi((e,t)=>255*(1-(1-e/255)*(1-t/255)))),wr.overlay=wo(wi((e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)))),wr.darken=wo(wi((e,t)=>e>t?t:e)),wr.lighten=wo(wi((e,t)=>e>t?e:t)),wr.dodge=wo(wi((e,t)=>255===e||(e=t/255*255/(1-e/255))>255?255:e)),wr.burn=wo(wi((e,t)=>255*(1-(1-t/255)/(e/255))));let{pow:wa,sin:wl,cos:ws}=Math,{floor:wu,random:wc}=Math,{log:wd,pow:wf,floor:wp,abs:wh}=Math;function wg(e,t=null){let n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===xA(e)&&(e=Object.values(e)),e.forEach(e=>{t&&"object"===xA(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(e,t)=>wm(n,e,t),n}function wm(e,t="equal",n=7){"array"==xA(e)&&(e=wg(e));let{min:r,max:o}=e,i=e.values.sort((e,t)=>e-t);if(1===n)return[r,o];let a=[];if("c"===t.substr(0,1)&&(a.push(r),a.push(o)),"e"===t.substr(0,1)){a.push(r);for(let e=1;e<n;e++)a.push(r+e/n*(o-r));a.push(o)}else if("l"===t.substr(0,1)){if(r<=0)throw Error("Logarithmic scales are only possible for values > 0");let e=Math.LOG10E*wd(r),t=Math.LOG10E*wd(o);a.push(r);for(let r=1;r<n;r++)a.push(wf(10,e+r/n*(t-e)));a.push(o)}else if("q"===t.substr(0,1)){a.push(r);for(let e=1;e<n;e++){let t=(i.length-1)*e/n,r=wp(t);if(r===t)a.push(i[r]);else{let e=t-r;a.push(i[r]*(1-e)+i[r+1]*e)}}a.push(o)}else if("k"===t.substr(0,1)){let e,t=i.length,l=Array(t),s=Array(n),u=!0,c=0,d=null;(d=[]).push(r);for(let e=1;e<n;e++)d.push(r+e/n*(o-r));for(d.push(o);u;){for(let e=0;e<n;e++)s[e]=0;for(let e=0;e<t;e++){let t,r=i[e],o=Number.MAX_VALUE;for(let i=0;i<n;i++){let n=wh(d[i]-r);n<o&&(o=n,t=i),s[t]++,l[e]=t}}let r=Array(n);for(let e=0;e<n;e++)r[e]=null;for(let n=0;n<t;n++)null===r[e=l[n]]?r[e]=i[n]:r[e]+=i[n];for(let e=0;e<n;e++)r[e]*=1/s[e];u=!1;for(let e=0;e<n;e++)if(r[e]!==d[e]){u=!0;break}d=r,++c>200&&(u=!1)}let f={};for(let e=0;e<n;e++)f[e]=[];for(let n=0;n<t;n++)f[e=l[n]].push(i[n]);let p=[];for(let e=0;e<n;e++)p.push(f[e][0]),p.push(f[e][f[e].length-1]);p=p.sort((e,t)=>e-t),a.push(p[0]);for(let e=1;e<p.length;e+=2){let t=p[e];isNaN(t)||-1!==a.indexOf(t)||a.push(t)}}return a}let{sqrt:wv,pow:wy,min:wb,max:wx,atan2:w_,abs:ww,cos:wk,sin:wM,exp:wj,PI:wS}=Math,wE={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};for(let e of Object.keys(wE))wE[e.toLowerCase()]=wE[e];Object.assign(xF,{average:(e,t="lrgb",n=null)=>{let r=e.length;n||(n=Array.from(Array(r)).map(()=>1));let o=r/n.reduce(function(e,t){return e+t});if(n.forEach((e,t)=>{n[t]*=o}),e=e.map(e=>new xB(e)),"lrgb"===t)return _6(e,n);let i=e.shift(),a=i.get(t),l=[],s=0,u=0;for(let e=0;e<a.length;e++)if(a[e]=(a[e]||0)*n[0],l.push(isNaN(a[e])?0:n[0]),"h"===t.charAt(e)&&!isNaN(a[e])){let t=a[e]/180*_3;s+=_4(t)*n[0],u+=_8(t)*n[0]}let c=i.alpha()*n[0];e.forEach((e,r)=>{let o=e.get(t);c+=e.alpha()*n[r+1];for(let e=0;e<a.length;e++)if(!isNaN(o[e]))if(l[e]+=n[r+1],"h"===t.charAt(e)){let t=o[e]/180*_3;s+=_4(t)*n[r+1],u+=_8(t)*n[r+1]}else a[e]+=o[e]*n[r+1]});for(let e=0;e<a.length;e++)if("h"===t.charAt(e)){let t=_7(u/l[e],s/l[e])/_3*180;for(;t<0;)t+=360;for(;t>=360;)t-=360;a[e]=t}else a[e]=a[e]/l[e];return c/=r,new xB(a,t).alpha(c>.99999?1:c,!0)},bezier:e=>{let t=wn(e);return t.scale=()=>we(t),t},blend:wr,cubehelix:function(e=300,t=-1.5,n=1,r=1,o=[0,1]){let i=0,a;"array"===xA(o)?a=o[1]-o[0]:(a=0,o=[o,o]);let l=function(l){let s=xL*((e+120)/360+t*l),u=wa(o[0]+a*l,r),c=(0!==i?n[0]+l*i:n)*u*(1-u)/2,d=ws(s),f=wl(s);return xF(xE([255*(u+c*(-.14861*d+1.78277*f)),255*(u+c*(-.29227*d-.90649*f)),255*(u+1.97294*d*c),1]))};return l.start=function(t){return null==t?e:(e=t,l)},l.rotations=function(e){return null==e?t:(t=e,l)},l.gamma=function(e){return null==e?r:(r=e,l)},l.hue=function(e){return null==e?n:("array"===xA(n=e)?0==(i=n[1]-n[0])&&(n=n[1]):i=0,l)},l.lightness=function(e){return null==e?o:("array"===xA(e)?(o=e,a=e[1]-e[0]):(o=[e,e],a=0),l)},l.scale=()=>xF.scale(l),l.hue(n),l},mix:_K,interpolate:_K,random:()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789abcdef".charAt(wu(16*wc()));return new xB(e,"hex")},scale:we,analyze:wg,contrast:(e,t)=>{e=new xB(e),t=new xB(t);let n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},deltaE:function(e,t,n=1,r=1,o=1){var i=function(e){return 360*e/(2*wS)},a=function(e){return 2*wS*e/360};e=new xB(e),t=new xB(t);let[l,s,u]=Array.from(e.lab()),[c,d,f]=Array.from(t.lab()),p=(l+c)/2,h=(wv(wy(s,2)+wy(u,2))+wv(wy(d,2)+wy(f,2)))/2,g=.5*(1-wv(wy(h,7)/(wy(h,7)+wy(25,7)))),m=s*(1+g),v=d*(1+g),y=wv(wy(m,2)+wy(u,2)),b=wv(wy(v,2)+wy(f,2)),x=(y+b)/2,_=i(w_(u,m)),w=i(w_(f,v)),k=_>=0?_:_+360,M=w>=0?w:w+360,j=ww(k-M)>180?(k+M+360)/2:(k+M)/2,S=1-.17*wk(a(j-30))+.24*wk(a(2*j))+.32*wk(a(3*j+6))-.2*wk(a(4*j-63)),E=M-k;E=180>=ww(E)?E:M<=k?E+360:E-360,E=2*wv(y*b)*wM(a(E)/2);let $=b-y,A=1+.015*wy(p-50,2)/wv(20+wy(p-50,2)),T=1+.045*x,z=1+.015*x*S,O=30*wj(-wy((j-275)/25,2)),N=-(2*wv(wy(x,7)/(wy(x,7)+wy(25,7))))*wM(2*a(O));return wx(0,wb(100,wv(wy((c-l)/(n*A),2)+wy($/(r*T),2)+wy(E/(o*z),2)+$/(r*T)*N*(E/(o*z)))))},distance:function(e,t,n="lab"){e=new xB(e),t=new xB(t);let r=e.get(n),o=t.get(n),i=0;for(let e in r){let t=(r[e]||0)-(o[e]||0);i+=t*t}return Math.sqrt(i)},limits:wm,valid:(...e)=>{try{return new xB(...e),!0}catch(e){return!1}},scales:{cool:()=>we([xF.hsl(180,1,.9),xF.hsl(250,.7,.4)]),hot:()=>we(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},input:xI,colors:_T,brewer:wE});var w$=function(e,t,n,r=.8){var o;let i=xF(e).alpha(1),a=xF(e).alpha();if(0===a)return e;let l=i.lab()[0],s=mt(n,xF),u=mt(t,xF),c=wA(e,n);if(.01>Math.abs(c-1))return xF(t).alpha(a).hex();let d=s>l,f=d?y(u,100,10):y(0,u,10),p=100*Math.pow(f.lab()[0]/100,r),h=f.set("lab.l",p).hex();if(1===a)return h;let g=xF.mix(t,h,a,"rgb"),m=xF.contrast(t,g),v=function(e,t,n,r){let o=xF.mix(t,e,n,"rgb");return xF.contrast(o,t)-r>-.01||!n?n:function n(o,i,a){let l=(o+i)/2,s=xF.mix(t,e,l,"rgb"),u=xF.contrast(s,t);return .01>Math.abs(u-r)||!a?l:u<r?n(l,i,a-1):n(o,l,a-1)}(n,1,10)}(h,t,a,m*(1+((o=m)<1.5?1:o>3?0:1-(o-1.5)/1.5)*(1.05-1)));return xF(h).alpha(v).hex();function y(n,r,o){let i=(n+r)*.5,a=xF(e).set("lab.l",i),l=wA(t,a);if(.01>Math.abs(l-c)||!o)return a;let s=i>u,f=s&&d||!s&&d;return f&&l>c||!f&&l<c?y(n,i,o-1):y(i,r,o-1)}};function wA(e,t){return xF.contrast(e,t)}function wT({theme:e,type:t,darkMode:n,layers:r,forceSVG:o,hideRegionBorders:i}){let a=t=>n?w$(t,e._computed.bgDark,e._computed.bgLight):t,l=cg(e,"colors.background","#ffffff"),s="d3-maps-choropleth"===t,u=s?l:a("#888"),c=s?cg(e,"vis.d3-maps-choropleth.noDataFill",a("#dddddd")):cg(e,"vis.d3-maps-symbols.regionFill",a("#f3f3f3")),d=r.find(e=>"bg"===e.id),f=r.find(e=>"region"===e.id),p=r.filter(e=>"border"===e.type&&"outlines"!==e.id),h=r.find(({id:e})=>"outlines"===e);if(d){let e={color:a(s?"#eeeeed":"#f8f8f8"),opacity:s?.5:1},t=g("backgroundLayer.color",e.color),n=g("backgroundLayer.opacity",e.opacity);o?d.selection.st({fill:t,opacity:n}):d.style={fill:wz(t,n)}}return f&&(o?f.selection.attr("fill",c):f.style={fill:c}),p.forEach(e=>{let t={stroke:"regions"===e.id&&i?"transparent":g(`borders.${e.id}.stroke`,u),lineWidth:g(`borders.${e.id}.scale`,e.defaultStyle.lineWidth),strokeDasharray:g(`borders.${e.id}.strokeDasharray`,e.defaultStyle.strokeDasharray),opacity:e.defaultStyle.opacity};o?(e.selection.st(t),e.style=t):e.style={stroke:wz(t.stroke,t.opacity),lineWidth:.45*t.lineWidth,dash:t.strokeDasharray?t.strokeDasharray.split(",").map(e=>.45*Number(e)):null}}),h&&(h.style={lineWidth:cg(e,"vis.d3-maps-choropleth.borders.hoverOutline.scale",h.defaultStyle.lineWidth)}),c;function g(n,r){return cg(e,`vis.${t}.${n}`,cg(e,`vis.d3-maps-core.${n}`,r))}}function wz(e,t=1){let n=ox(e);return n.opacity=t,n.formatRgb()}ct();let wO={circle:"M -1,0 a 1,1 0 1,0 2,0 a 1,1 0 1,0 -2,0 Z",square:"M-0.88622,-0.88622L0.88622,-0.88622L0.88622,0.88622L-0.88622,0.88622Z"};var wN=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/now.js":(e,t)=>{var n=cy();t.exports=function(){return n.Date.now()}}}),wC=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js":(e,t)=>{var n=cm(),r=wN(),o=gZ(),i=Math.max,a=Math.min;t.exports=function(e,t,l){var s,u,c,d,f,p,h=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=s,r=u;return s=u=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-p,r=e-h;return void 0===p||n>=t||n<0||m&&r>=c}function x(){var e,n,o,i=r();if(b(i))return _(i);f=setTimeout(x,(e=i-p,n=i-h,o=t-e,m?a(o,c-n):o))}function _(e){return(f=void 0,v&&s)?y(e):(s=u=void 0,d)}function w(){var e,n=r(),o=b(n);if(s=arguments,u=this,p=n,o){if(void 0===f)return h=e=p,f=setTimeout(x,t),g?y(e):d;if(m)return clearTimeout(f),f=setTimeout(x,t),y(p)}return void 0===f&&(f=setTimeout(x,t)),d}return t=o(t)||0,n(l)&&(g=!!l.leading,c=(m="maxWait"in l)?i(o(l.maxWait)||0,t):c,v="trailing"in l?!!l.trailing:v),w.cancel=function(){void 0!==f&&clearTimeout(f),h=0,s=p=u=f=void 0},w.flush=function(){return void 0===f?d:_(r())},w}}});function wL(){return null}function wP(e,t){if("object"!=typeof e)return 1==arguments.length?this.style(e):r(this,e,t);for(var n in e)r(this,n,e[n]);return this;function r(e,t,n){var r;return t=t.replace(RegExp("([a-z\\d])([A-Z])","g"),"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(t)?e.style(t,"function"==typeof n?(r=n,function(){var e=r.apply(this,arguments);return o(e)}):o(n)):e.style(t,n),e}function o(e){return e.match?e:e+"px"}}function wD(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var wR=(1===(s=wD).length&&(a=s,s=function(e,t){return wD(a(e),t)}),{left:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var o=n+r>>>1;0>s(e[o],t)?n=o+1:r=o}return n},right:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var o=n+r>>>1;s(e[o],t)>0?r=o:n=o+1}return n}});wR.right,wR.left;var wI=Array.prototype;wI.slice,wI.map;var wB={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function wF(e,t,n,r){var o,i,a,l,s,u,c=[],d=[],f=[];return(i=e.split(" ")).forEach(function(e,t){var n=e.split("-"),r=t<i.length-1?" ":"";n.length>1?n.forEach(function(e,t){d.push(e+(t<n.length-1?"-":r))}):d.push(e+r)}),a=t||40,l=n||Math.max(3,Math.min(.5*a,.75*d.map(function(e){return e.length}).sort(function(e,t){return e-t})[Math.round(d.length/2)])),s=a*wB.a,u=l*wB.a,o=0,d.forEach(function(e){var t=function(e,t){for(var n,r=e.length,o=-1,i=0;++o<r;)(n=+e[o])&&(i+=n);return i}(e.split("").map(p));return o+t>s&&o>u&&(c.push(f.join("")),f.length=0,o=0),o+=t,f.push(e)}),f.length&&c.push(f.join("")),c.filter(function(e){return""!==e});function p(e){return!r&&wB[e]||wB.a}}function wq(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wW(e){return(e=wq(Math.abs(e)))?e[1]:NaN}var wH=RegExp("^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$","i");function wU(e){var t;if(!(t=wH.exec(e)))throw Error("invalid format: "+e);return new wY({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function wY(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function wG(e,t){var n=wq(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+Array(o-r.length+2).join("0")}wU.prototype=wY.prototype,wY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var wX={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return wG(100*e,t)},r:wG,s:function(e,t){var n=wq(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(p=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+Array(1-i).join("0")+wq(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function wV(e){return e}var wZ=Array.prototype.map,wK=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];g=(h=function(e){var t,n,r,o=void 0===e.grouping||void 0===e.thousands?wV:(t=wZ.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,l=t[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(e.substring(o-=l,o+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return i.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?wV:(r=wZ.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return r[+e]})}),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=wU(e)).fill,n=e.align,r=e.sign,f=e.symbol,h=e.zero,g=e.width,m=e.comma,v=e.precision,y=e.trim,b=e.type;"n"===b?(m=!0,b="g"):wX[b]||(void 0===v&&(v=12),y=!0,b="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===f?a:/[%p]/.test(b)?u:"",w=wX[b],k=/[defgprs%]/.test(b);function M(e){var i,a,u,f=x,M=_;if("c"===b)M=w(e)+M,e="";else{var j=(e*=1)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),v),y&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),j&&0==+e&&"+"!==r&&(j=!1),f=(j?"("===r?r:c:"-"===r||"("===r?"":r)+f,M=("s"===b?wK[8+p/3]:"")+M+(j&&"("===r?")":""),k){for(i=-1,a=e.length;++i<a;)if(48>(u=e.charCodeAt(i))||u>57){M=(46===u?l+e.slice(i+1):e.slice(i))+M,e=e.slice(0,i);break}}}m&&!h&&(e=o(e,1/0));var S=f.length+e.length+M.length,E=S<g?Array(g-S+1).join(t):"";switch(m&&h&&(e=o(E+e,E.length?g-M.length:1/0),E=""),n){case"<":e=f+e+M+E;break;case"=":e=f+E+e+M;break;case"^":e=E.slice(0,S=E.length>>1)+f+e+M+E.slice(S);break;default:e=E+f+e+M}return s(e)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return e+""},M}return{format:f,formatPrefix:function(e,t){var n=f(((e=wU(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(wW(t)/3))),o=Math.pow(10,-r),i=wK[8+r/3];return function(e){return n(o*e)+i}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})).format,m=h.formatPrefix,rC.prototype.translate=aV,ak.prototype.translate=aV,rC.prototype.append=aX,rC.prototype.insert=function(e,t){var n=aG(e),r=n9(n.tag),o=null==t?wL:"function"==typeof t?t:rt(t),i=this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)});for(var a in n.attr)i.attr(a,n.attr[a]);return i},rC.prototype.parent=function(){var e=[];return this.filter(function(){return!(e.indexOf(this.parentNode)>-1)&&(e.push(this.parentNode),!0)}).select(function(){return this.parentNode})},rC.prototype.selectAppend=function(e){var t,n=rt(e),r=aG(e);for(var o in e=n9(r.tag),t=this.select(function(){return n.apply(this,arguments)||this.appendChild(e.apply(this,arguments))}),r.attr)t.attr(o,r.attr[o]);return t},rC.prototype.tspans=aZ,rC.prototype.appendMany=function(e,t){if("string"==typeof t){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=t;t=e,e=n}return this.selectAll(null).data(t).enter().append(e)},rC.prototype.at=aY,rC.prototype.st=wP,ak.prototype.at=aY,ak.prototype.st=wP,rC.prototype.prop=rC.prototype.property;var wJ=E(wC(),1);function wQ({projection:e,featuresToFit:t,width:n,height:r,pixelPadding:o=0,percentPadding:i=0,fitHeight:a=!1,alignment:l="center",verticalShift:s=0}){let u=s4().projection(e).bounds(t),c=u[1][0]-u[0][0],d=u[1][1]-u[0][1],f=function(e,t,n=0,r=0){return{left:w1(n,r,"left",e),right:w1(n,r,"right",e),top:w1(n,r,"top",t),bottom:w1(n,r,"bottom",t)}}(n,n/(c/d),i,o);f.top+=s,f.bottom-=s;let p=(n||50)-f.left-f.right,h=(r||50)-f.top-f.bottom,[g,m]=function(e,t,n,r){let o=e/t;return o>n/r?[n,Math.round(n/o)]:[r*o,r]}(c,d,p,h),v=a?h:m,y=w0(g,p,l),b=w0(m,v,"center"),x=[f.left+y,f.top+b],_=[x[0]+g,x[1]+m];return{extent:[x,_],padding:f,h:v+f.top+f.bottom,offset:[y,b]}}function w0(e,t,n){return"left"===n?0:"right"===n?t-e:(t-e)/2}function w1(e=0,t=0,n,r){let o="number"==typeof t;return("number"==typeof e?Math.round(r*e/2):Math.round((e[n]||0)*r))+(o?t:t[n]||0)}ct();let w2=e=>{let[t,n]=e[0],[r,o]=e[1];return{x1:t,x2:r,y1:o,y2:n}},w5=["geoAlbersUsa"],w3={type:"diagonal-up",width:1,gap:3,excludeFromLegend:!1,label:""},w4={"greyscale-1":"#ffffff","greyscale-2":"hsl(0, 0%, 65%)","greyscale-3":"#000000"},w8="#e4e4e4",w7="#4a4a4a";function w6(e){let t=cg(e,"vis.d3-maps-choropleth.patterns.defaultPattern",{});return t8(t8({},w3),t)}function w9(e){return Array.from(new Set(e.map(e=>e||""))).sort((e,t)=>e||t?e?t?e.localeCompare(t):-1:1:0)}let ke=new Set(["à¸¿","â¿","\xa2","$","â¬","eur","\xa3","gbp","\xa5","yen","usd","cad","us$","ca$","can$"]);var kt=function(e,t,n={}){let r=function(e,t,n={}){var r,o;if(void 0===t||isNaN(t)||null===t)return{prefix:"",number:""};let i=n.format||"0.[00]",a=n.multiply||1,l=n.prepend||"",s=n.append||"",u=null!=(r=n.minusChar)?r:"â",c=null!=(o=n.plusMinusChar)?o:"\xb1";i.includes("%")&&Number.isFinite(t)&&(t*=.01),t*=a;let d=i.indexOf("(")>-1,f=!d&&i.indexOf("|")>-1,p=i.indexOf(";")>-1,h=i.includes("+")&&!d;i=i.replace(/;/g,",").replace(/\|/g,"");let g=e(d?t:Math.abs(t)).format(i);if(d&&t<0&&(g=g.slice(1,-1)),p){let n=e.options.currentLocale,r=e.locales[n].delimiters.thousands;g=1e4>Math.abs(i.includes("%")?t/.01:t)?g.replace(r,""):g}return l&&!d&&!f&&t<0&&ke.has(l.trim().toLowerCase())?{prefix:u,number:`${l}${g.replace("+","")}${s}`}:l&&(t>=0||f)&&ke.has(l.trim().toLowerCase())&&h?{prefix:0===t?c:"+",number:`${l}${g.replace("+","")}${s}`}:0===t&&h?(g.includes("+"),{prefix:`${l}${c}`,number:`${g.replace("+","")}${s}`}):!(t<0)||d||f?h?{prefix:`${l}+`,number:`${g.replace("+","")}${s}`}:d&&t<0?{prefix:"(",number:`${l}${g}${s})`}:{prefix:"",number:`${l}${g}${s}`}:{prefix:`${l}${u}`,number:`${g.replace("+","")}${s}`}}(e,t,n);return`${r.prefix}${r.number}`},kn=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js":(e,t)=>{var n=mb(),r=mJ(),o=ms(),i=cC(),a=gY(),l=mc(),s=mm(),u=mh(),c=Object.prototype.hasOwnProperty;t.exports=function(e){if(null==e)return!0;if(a(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(s(e))return!n(e).length;for(var d in e)if(c.call(e,d))return!1;return!0}}}),kr=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsDate.js":(e,t)=>{var n=cw(),r=cL();t.exports=function(e){return r(e)&&"[object Date]"==n(e)}}}),ko=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isDate.js":(e,t)=>{var n=kr(),r=mf(),o=mp(),i=o&&o.isDate;t.exports=i?r(i):n}}),ki=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isString.js":(e,t)=>{var n=cw(),r=cC(),o=cL();t.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==n(e)}}}),ka=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniq.js":(e,t)=>{var n=xb();t.exports=function(e){return e&&e.length?n(e):[]}}});ct();var kl=E(cn(),1),ks=E(cf(),1),ku=E(cp(),1),kc=E(ch(),1),kd=E(kn(),1),kf=E(vn(),1),kp=E(ko(),1),kh=E(ki(),1),kg=E(ka(),1),km=E(wC(),1);function kv(e){return String(null!=e?e:"").toLowerCase().replace(/\u00AD/g,"").replace(/[-\u2015\u2014\u2013\u2012\u23BC\u2212]+/g,"-").replace(/[ \u00A0\u1680\u2002-\u200B\u202F\u205F\u3000]+/g," ").trim()}function ky(e){return Number(e)}function kb(e){return e.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(RegExp("^(\\d)",""),"_$1").replace(RegExp("^(and|or|in|true|false)$",""),"$1_")}rC.prototype.at=aY,rC.prototype.append=aX,rC.prototype.translate=aV,rC.prototype.tspans=aZ,ks.default.extend(ku.default),ks.default.extend(kc.default),ks.default.extend((e,t)=>{let n=t.prototype,r=n.format;n.format=function(e){let t=this.$locale().seasonSeparator||"-",n=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(RegExp("(\\[[^\\]]+])|BB|B","g"),(e,n)=>{let r=this.$y,o=r+1,i="B"===e,a=i?[String(r).slice(-2),2]:[r,4],l=[String(o).slice(-2),2];return n||`${i?"'":""}${this.$utils().s(...a,"0")}${t}${i?"'":""}${this.$utils().s(...l,"0")}`});return r.bind(this)(n)}});var kx="object"==typeof global&&global&&global.Object===Object&&global,k_="object"==typeof self&&self&&self.Object===Object&&self,kw=(kx||k_||Function("return this")()).Symbol,kk=Object.prototype,kM=kk.hasOwnProperty,kj=kk.toString,kS=kw?kw.toStringTag:void 0,kE=function(e){var t=kM.call(e,kS),n=e[kS];try{e[kS]=void 0;var r=!0}catch(e){}var o=kj.call(e);return r&&(t?e[kS]=n:delete e[kS]),o},k$=Object.prototype.toString,kA=kw?kw.toStringTag:void 0,kT=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":kA&&kA in Object(e)?kE(e):k$.call(e)},kz="object"==typeof exports&&exports&&!exports.nodeType&&exports,kO=kz&&"object"==typeof module&&module&&!module.nodeType&&module,kN=kO&&kO.exports===kz&&kx.process,kC=function(){try{var e=kO&&kO.require&&kO.require("util").types;if(e)return e;return kN&&kN.binding&&kN.binding("util")}catch(e){}}(),kL=kC&&kC.isDate,kP=kL?function(e){return kL(e)}:function(e){return null!=e&&"object"==typeof e&&"[object Date]"==kT(e)},kD=E(cf(),1);function kR(e,t,n){return kP(t)?(0,kD.default)(t).format(n):kt(e,+t,{format:n})}function kI(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,l,s,u,c,d,f,p=e._root,h={data:r},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!p)return e._root=h,e;for(;p.length;)if((u=t>=(i=(g+v)/2))?g=i:v=i,(c=n>=(a=(m+y)/2))?m=a:y=a,o=p,!(p=p[d=c<<1|u]))return o[d]=h,e;if(l=+e._x.call(null,p.data),s=+e._y.call(null,p.data),t===l&&n===s)return h.next=p,o?o[d]=h:e._root=h,e;do o=o?o[d]=[,,,,]:e._root=[,,,,],(u=t>=(i=(g+v)/2))?g=i:v=i,(c=n>=(a=(m+y)/2))?m=a:y=a;while((d=c<<1|u)==(f=(s>=a)<<1|l>=i));return o[f]=p,o[d]=h,e}function kB(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function kF(e){return e[0]}function kq(e){return e[1]}function kW(e,t,n){var r=new kH(null==t?kF:t,null==n?kq:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function kH(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function kU(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var kY=kW.prototype=kH.prototype;function kG(e,t,n){let r=s4();e.forEach(e=>{void 0!==e.properties.cx&&void 0!==e.properties.cy&&(e.properties.__centroid=t([e.properties.cx,e.properties.cy])),e.properties.__centroid&&void 0!==e.properties.__centroid[0]||(e.properties.__centroid=r.centroid(e)),void 0===e.properties._x&&([e.properties._x,e.properties._y]=n(e.properties.__centroid)),e.properties.__bbox=r.bounds(e)})}function kX(e){return`<div class="tooltip-warning"'>Woops! There's an error in your tooltip formula: ${function(e){let t=document.createElement("div");return t.innerText=e,t.innerHTML}(e.message)}</div>`}function kV({feature:e,featureBbox:t,containerBBox:n,map:r}){let{left:o,top:i,width:a,height:l}=t||kZ(e,r);return o>=0&&o+a<=n.width&&i>=0&&i+l<=n.height}function kZ(e,t){if("Point"!==e.geometry.type)return kK(e.properties.__bbox.map(t.proj),t);{var n,r;let o=e.properties.__symbolProps,i=e.properties.__symbol,a=t.getZoom(),l="area"===o.scale?Math.pow(e.properties._r,2)*Math.PI:e.properties._r,[s,u]=a.apply([e.properties._x,e.properties._y]),{width:c,height:d}=i.bbox(l);if("arrow"===i.name){let t=e.properties._angle*Math.PI/180,n=+(d*Math.cos(t)).toFixed(2),r=+(d*Math.sin(t)).toFixed(2);return{left:0===r?s-c/2:Math.min(s,s+r),right:0===r?s+c/2:Math.max(s,s+r),top:0===n?u-c/2:Math.min(u,u-n),bottom:0===n?u+c/2:Math.max(u,u-n),width:0===r?c:Math.abs(r),height:0===n?c:Math.abs(n)}}return{left:s-c/2,top:u-d*(null!=(n=i.baseline)?n:.5),right:s+c/2,bottom:u+d*(null!=(r=i.baseline)?r:.5),width:c,height:d}}}function kK(e,t,{padding:n=0,verticalShift:r=0}={}){let o=t.getZoom(),i=o.apply(e[0]),a=o.apply(e[1]),l=Math.min(i[0],a[0])-n,s=Math.max(i[0],a[0])+n,u=Math.min(i[1],a[1])-n+r,c=Math.max(i[1],a[1])+n+r;return{left:l,right:s,top:u,bottom:c,width:s-l,height:c-u}}function kJ(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function kQ(e){return+e}kY.copy=function(){var e,t,n=new kH(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=kU(r),n;for(e=[{source:r,target:n._root=[,,,,]}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=[,,,,]}):r.target[o]=kU(t));return n},kY.add=function(e){let t=+this._x.call(null,e),n=+this._y.call(null,e);return kI(this.cover(t,n),t,n,e)},kY.addAll=function(e){var t,n,r,o,i=e.length,a=Array(i),l=Array(i),s=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<i;++n)!(isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t)))&&(a[n]=r,l[n]=o,r<s&&(s=r),r>c&&(c=r),o<u&&(u=o),o>d&&(d=o));if(s>c||u>d)return this;for(this.cover(s,u).cover(c,d),n=0;n<i;++n)kI(this,a[n],l[n],e[n]);return this},kY.cover=function(e,t){if(isNaN(e*=1)||isNaN(t*=1))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,l,s=o-n||1,u=this._root;n>e||e>=o||r>t||t>=i;)switch(l=(t<r)<<1|e<n,(a=[,,,,])[l]=u,u=a,s*=2,l){case 0:o=n+s,i=r+s;break;case 1:n=o-s,i=r+s;break;case 2:o=n+s,r=i-s;break;case 3:n=o-s,r=i-s}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},kY.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},kY.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},kY.find=function(e,t,n){var r,o,i,a,l,s,u,c=this._x0,d=this._y0,f=this._x1,p=this._y1,h=[],g=this._root;for(g&&h.push(new kB(g,c,d,f,p)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,p=t+n,n*=n);s=h.pop();)if((g=s.node)&&!((o=s.x0)>f)&&!((i=s.y0)>p)&&!((a=s.x1)<c)&&!((l=s.y1)<d))if(g.length){var m=(o+a)/2,v=(i+l)/2;h.push(new kB(g[3],m,v,a,l),new kB(g[2],o,v,m,l),new kB(g[1],m,i,a,v),new kB(g[0],o,i,m,v)),(u=(t>=v)<<1|e>=m)&&(s=h[h.length-1],h[h.length-1]=h[h.length-1-u],h[h.length-1-u]=s)}else{var y=e-this._x.call(null,g.data),b=t-this._y.call(null,g.data),x=y*y+b*b;if(x<n){var _=Math.sqrt(n=x);c=e-_,d=t-_,f=e+_,p=t+_,r=g.data}}return r},kY.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,l,s,u,c,d,f,p=this._root,h=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((u=i>=(l=(h+m)/2))?h=l:m=l,(c=a>=(s=(g+v)/2))?g=s:v=s,t=p,!(p=p[d=c<<1|u]))return this;if(!p.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return((o=p.next)&&delete p.next,r)?o?r.next=o:delete r.next:t?(o?t[d]=o:delete t[d],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[f]=p:this._root=p)):this._root=o,this},kY.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},kY.root=function(){return this._root},kY.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},kY.visit=function(e){var t,n,r,o,i,a,l=[],s=this._root;for(s&&l.push(new kB(s,this._x0,this._y0,this._x1,this._y1));t=l.pop();)if(!e(s=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&s.length){var u=(r+i)/2,c=(o+a)/2;(n=s[3])&&l.push(new kB(n,u,c,i,a)),(n=s[2])&&l.push(new kB(n,r,c,u,a)),(n=s[1])&&l.push(new kB(n,u,o,i,c)),(n=s[0])&&l.push(new kB(n,r,o,u,c))}return this},kY.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new kB(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,l=t.y0,s=t.x1,u=t.y1,c=(a+s)/2,d=(l+u)/2;(i=o[0])&&n.push(new kB(i,a,l,c,d)),(i=o[1])&&n.push(new kB(i,c,l,s,d)),(i=o[2])&&n.push(new kB(i,a,d,c,u)),(i=o[3])&&n.push(new kB(i,c,d,s,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},kY.x=function(e){return arguments.length?(this._x=e,this):this._x},kY.y=function(e){return arguments.length?(this._y=e,this):this._y},ct(),cf(),ko(),r7();var k0=[0,1];function k1(e){return e}function k2(e,t){var n;return(t-=e*=1)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function k5(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=k2(o,r),i=n(a,i)):(r=k2(r,o),i=n(i,a)),function(e){return i(r(e))}}function k3(e,t,n){var r=Math.min(e.length,t.length)-1,o=Array(r),i=Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=k2(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=iq(e,t,1,r)-1;return i[n](o[n](t))}}function k4(){var e,t=(function(){var e,t,n,r,o,i,a=k0,l=k0,s=function e(t,n){var r,o,i=typeof n;return null==n||"boolean"===i?ig(n):("number"===i?ib:"string"===i?(o=om(n))?(n=o,iv):iw:n instanceof om?iv:n instanceof Date?function(e,t){var n=new Date;return e*=1,t*=1,function(r){return n.setTime(e*(1-r)+t*r),n}}:!ArrayBuffer.isView(r=n)||r instanceof DataView?Array.isArray(n)?function(t,n){var r,o=n?n.length:0,i=t?Math.min(o,t.length):0,a=Array(i),l=Array(o);for(r=0;r<i;++r)a[r]=e(t[r],n[r]);for(;r<o;++r)l[r]=n[r];return function(e){for(r=0;r<i;++r)l[r]=a[r](e);return l}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var r,o={},i={};for(r in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)r in t?o[r]=e(t[r],n[r]):i[r]=n[r];return function(e){for(r in o)i[r]=o[r](e);return i}}:ib:function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}})(t,n)},u=k1;function c(){var e,t,n,s=Math.min(a.length,l.length);return u!==k1&&(e=a[0],t=a[s-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=s>2?k3:k5,o=i=null,d}function d(t){return null==t||isNaN(t*=1)?n:(o||(o=r(a.map(e),l,s)))(e(u(t)))}return d.invert=function(n){return u(t((i||(i=r(l,a.map(e),ib)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,kQ),c()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),c()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),s=ik,c()},d.clamp=function(e){return arguments.length?(u=!!e||k1,c()):u!==k1},d.interpolate=function(e){return arguments.length?(s=e,c()):s},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}})()(k1,k1);return t.copy=function(){return k4().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())},kJ.apply(t,arguments),e=t.domain,t.ticks=function(t){var n=e();return rK(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(e,t,n,r){var o,i,a,l=rQ(e,t,n);switch((r=wU(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wW(s)/3)))-wW(Math.abs(l))))||(r.precision=a),m(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Math.max(0,wW(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(o=Math.abs(o=l)))-wW(o))+1)||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Math.max(0,-wW(Math.abs(l))))||(r.precision=a-("%"===r.type)*2)}return g(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,l=i.length-1,s=i[a],u=i[l],c=10;for(u<s&&(o=s,s=u,u=o,o=a,a=l,l=o);c-- >0;){if((o=rJ(s,u,n))===r)return i[a]=s,i[l]=u,e(i);if(o>0)s=Math.floor(s/o)*o,u=Math.ceil(u/o)*o;else if(o<0)s=Math.ceil(s*o)/o,u=Math.floor(u*o)/o;else break;r=o}return t},t}function k8(){var e,t=[.5],n=[0,1],r=1;function o(o){return null!=o&&o<=o?n[iq(t,o,0,r)]:e}return o.domain=function(e){return arguments.length?(r=Math.min((t=Array.from(e)).length,n.length-1),o):t.slice()},o.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),o):n.slice()},o.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return k8().domain(t).range(n).unknown(e)},kJ.apply(o,arguments)}r7(),r7(),r7();var k7=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseDifference.js":(e,t)=>{var n=mN(),r=xg(),o=xm(),i=de(),a=mf(),l=mL();t.exports=function(e,t,s,u){var c=-1,d=r,f=!0,p=e.length,h=[],g=t.length;if(!p)return h;s&&(t=i(t,a(s))),u?(d=o,f=!1):t.length>=200&&(d=l,f=!1,t=new n(t));t:for(;++c<p;){var m=e[c],v=null==s?m:s(m);if(m=u||0!==m?m:0,f&&v==v){for(var y=g;y--;)if(t[y]===v)continue t;h.push(m)}else d(t,v,u)||h.push(m)}return h}}}),k6=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRest.js":(e,t)=>{var n=vn(),r=yl(),o=yd();t.exports=function(e,t){return o(r(e,t,n),e+"")}}}),k9=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLikeObject.js":(e,t)=>{var n=gY(),r=cL();t.exports=function(e){return r(e)&&n(e)}}}),Me=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/difference.js":(e,t)=>{var n=k7(),r=yo(),o=k6(),i=k9();t.exports=o(function(e,t){return i(e)?n(e,r(t,1,i,!0)):[]})}}),Mt=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/without.js":(e,t)=>{var n=k7(),r=k6(),o=k9();t.exports=r(function(e,t){return o(e)?n(e,t):[]})}}),Mn=E(Me(),1),Mr=E(ka(),1),Mo=E(Mt(),1);function Mi(e){let t={},n=e.palette,r=e.categoryOrder||[],o=!!r.length&&r,i=(0,Mr.default)(e.values).sort(),a=o||i;o&&(a.push(...(0,Mn.default)(i,o)),a=(0,Mo.default)(a,...(0,Mn.default)(o,i)));let l=0;a.forEach(r=>{r&&(t[r]=e.map[r]||(l>=n.length?e.fallback:n[l++]))});let s=n=>t[n]||e.fallback;return s._labels=Object.keys(t),s._colors=s._labels.map(e=>t[e]),s}function Ma(e){return(+e).toFixed(Math.max(0,String(e-Math.floor(e)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2))}function Ml({stops:e,mode:t,stopCount:n,customStops:r,values:o,rangeMin:i,rangeCenter:a,rangeMax:l}){var s;if(""!==(s=a)&&null!=s&&"continuous"===t){if("equidistant"===e)return[i,a,l];n++;let t=[],r=[];o.filter(e=>e>=i&&e<=l).forEach(e=>(e<a?t:r).push(e)),t.push(a),Ma(r[0])>a&&r.unshift(a);let s=Math.floor((n-1)/2)+1,u=r4(s).map((e,t)=>t/(s-1)).map(e=>r1(t,e)),c=r4(s).map((e,t)=>t/(s-1)).map(e=>r1(r,e));return u.length+c.length>n?c.shift():c[0]+=1e-7,[...u,...c]}if("continuous"===t&&"equidistant"===e)return[i,l];let u=Math.LOG10E*Math.log(i),c=Math.LOG10E*Math.log(l),d=o.filter(e=>e>=i&&e<=l),f="custom"===e?r.map(e=>+e):"pretty"===e?rK(i,l,n):"natural"===e?[...(function(e,t){let n=[],r=[],o=[],i=!1;for(let e=0;e<t;e++)n[e]=[];let a=Math.round(e.length/(t+1));for(let n=0;n<t;n++)r[n]=e[a*(n+1)];let l=20;do{for(let e=0;e<t;e++)n[e].length=0;i=!1;let a=-1;for(let o=0;o<e.length;o++){let i=-1;for(let n=0;n<t;n++){let t=Math.abs(r[n]-e[o]);(-1===i||t<=i)&&(i=t,a=n)}n[a].push(e[o])}o=r.slice(0);for(let e=0;e<t;e++){let t=0;for(let r=0;r<n[e].length;r++)t+=n[e][r];r[e]=t/n[e].length}for(let e=0;e<t;e++)1e-6>Math.abs(r[e]-o[e])||(i=!0)}while(i&&l-- >0);return n.filter(e=>e.length)})(d,n).map(e=>e[0]),l]:"logarithmic"===e?r4(1,n).map(e=>Math.pow(10,u+e/n*(c-u))):"quantiles"===e?r4(0,1.001,1/n).map(e=>r1(d,e)):r4(i,l+1e-5,(l-i)/n);return!["natural","custom"].includes(e)&&(Ma(f[0])>i&&f.unshift(i),Ma(f[f.length-1])<l&&f.push(l)),f}r7();var Ms=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayAggregator.js":(e,t)=>{t.exports=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}}}),Mu=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAggregator.js":(e,t)=>{var n=mk();t.exports=function(e,t,r,o){return n(e,function(e,n,i){t(o,e,r(e),i)}),o}}}),Mc=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createAggregator.js":(e,t)=>{var n=Ms(),r=Mu(),o=va(),i=cC();t.exports=function(e,t){return function(a,l){var s=i(a)?n:r,u=t?t():{};return s(a,e,o(l,2),u)}}}}),Md=M({"../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/countBy.js":(e,t)=>{var n=cz(),r=Mc(),o=Object.prototype.hasOwnProperty;t.exports=r(function(e,t,r){o.call(e,r)?++e[r]:n(e,r,1)})}});function Mf(e){if(!e||"object"!=typeof e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}var Mp={values:[],margins:null,mode:"continuous",fallback:"#e4e4e4",rangeMin:null,rangeCenter:null,rangeMax:null,colors:[{color:"#ffffff",position:0},{color:"#000000",position:1}],stops:"equidistant",customStops:[],stopCount:5,palette:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],map:{}},Mh=E(Md(),1);function Mg(e){return""===e||null==e}function Mm(e={}){if("categories"===e.mode)return function(e={},t){if("categories"===(e=t8(t8({},Mf(Mp)),Mf(e))).mode)return e.margins?t(e):Mi(e)}(e,Mv);let t=function(e={}){e=t8(t8({},Mf(Mp)),Mf(e));let t=(0,Mh.default)(e.values);e.values.forEach((n,r)=>{t[n]>1&&t[n]>.1*t.length&&(e.values[r]+=(Math.random()-.5)*1e-6)}),e.values=e.values.filter(Number.isFinite).sort((e,t)=>e-t),Mg(e.rangeMin)&&(e.rangeMin=e.values[0]),Mg(e.rangeMax)&&(e.rangeMax=e.values[e.values.length-1]),["rangeMin","rangeMax","rangeCenter","stopCount"].forEach(t=>{Mg(e[t])||(e[t]=+e[t])}),e.colors&&e.colors.length||(e.colors=[{color:"#ffffff",position:0},{color:"#000000",position:1}]);let n=Ml(t8(t8({},e),{},{rangeCenter:"discrete"===e.mode?void 0:e.rangeCenter,stopCount:e.stopCount-("continuous"===e.mode)}));return{options:e,stops:n}}(e);e=t.options;let n=t.stops,r=k4().domain(e.colors.map(e=>e.position)).range(e.colors.map(e=>e.color)).interpolate(iN);if("continuous"===e.mode){var o;let t=n.map((e,t)=>t/(n.length-1)),i=k4(n,t).clamp(!0),a=t=>"number"!=typeof t?e.fallback:r(i(t))+"";return a._limits=""===(o=e.rangeCenter)||null==o?[e.rangeMin,e.rangeMax]:[e.rangeMin,+e.rangeCenter,e.rangeMax],a._stops=n,a}if("discrete"===e.mode){let t=r4(0,1.0001,1/(n.length-2)).map(r);t.unshift(t[0]),t.push(t[t.length-1]);let o=r=>"number"!=typeof r?e.fallback:k8(n,t)(r);return o._stops=n,o._colors=t.slice(1,-1),o}}function Mv(e){let t=e.margins.sort((e,t)=>e-t),n=[t[0],t[t.length-1]],r=Mi(e),o={},i=Ml(t8(t8({},e),{},{values:t,rangeMin:n[0],rangeMax:n[1]})),a=r4(i.length-1).map(e=>(i[e]+i[e+1])*.5),l=k4().domain([a[0],a[a.length-1]]).range([90,20]);function s(e,t){return o[e](t)}return s._stops=i,s._colors={},s._labels=r._labels,s._labels.forEach(e=>{let t=oD(r(e)),n=a.map(e=>oD(l(e),t.a,t.b)+"");o[e]=k8(i.slice(1,-1),n),s._colors[e]=i.slice(0,-1).map((t,n)=>o[e](.5*(t+i[n+1])))}),s}function My(e,t){return"number"==typeof e?t.colors.palette[e%t.colors.palette.length]:e}r7();let Mb="ontouchstart"in window||navigator.msMaxTouchPoints;function Mx(e){var t,n;let r=e.get("patterns.enabled",!1),o=e.get("legends.pattern.enabled",!0);if(!r||!o)return[];let i=w9(null!=(t=null==(n=e.axes(!0).pattern)?void 0:n.values())?t:[]),a=e.get("patterns.map",{}),l=e.get("patterns.order",[]),s=e.colorMap(),u=e.theme(),c=w6(u),d=cg(u,"vis.d3-maps-choropleth.patterns.swatchPatternColor");return i.filter(e=>e in a&&!a[e].excludeFromLegend).sort((e,t)=>l.indexOf(e)-l.indexOf(t)).map(e=>{let t=t8(t8({},c),a[e]);return{label:t.label||e,color:s(d||"#767676",{noInvert:!!d}),key:`pattern-${e||""}`,config:{pattern:{lineGap:t.gap,strokeWidth:t.width,type:t.type}}}})}function M_(e,t){return e.replace(RegExp("{{ *([a-zA-Z0-9_]+) *}}","g"),(e,n)=>t[n]?`{{ ${kb(t[n])} }}`:e)}function Mw(e,t){return"ListFormat"in Intl?new Intl.ListFormat(t).format(e.map(e=>`"${e}"`)):e.map(e=>`"${e}"`).join(", ")}-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Internet Explorer/")>-1||window.navigator.appVersion.indexOf("Trident/7.0"),rC.prototype.append=aX,rC.prototype.st=wP;let Mk="d3-maps-core-choropleth";dw.visualization.register(Mk,"base",function(){let e,t,n,r;return{init(e){this.svg=e.node(),this.mapKey=new xj({vis:this,dw});try{let e=this.chart().locales.dayjs;e&&ks.default.locale(e)}catch(e){console.warn("Couldnt register locale",e)}},initBaseMap(o,a,l,s){let u=this,c=u.size(),d=u.axes(),f=u.theme(),p=JSON.parse(u.chart().asset(`${a}.json`)),h=0,g=0,m=c[0],v=c[1],y=+u.get("max-map-height",650),b=!1,x=l.fitchart,_=l.svgonly,w="custom_upload"===a?u.get("layers",{}):{},k=u.chart().inEditor(),M=u.chart().flags().isEditingAllowed,j=u.chart().createPostEvent();if(p){p.meta.attribution&&u.addMapAttribution(p.meta.attribution);let l=rL(o),A=l.append("div.map-outer"),T=!1,z=window.devicePixelRatio||1;_||(T=A.append("canvas").attr("aria-hidden",!0).at({width:m*z,height:v*z}).st({width:"100%",height:v}));let O=A.append("svg.svg-main").attr("aria-hidden",!0).classed(a,!0).st({width:"100%",overflow:"hidden",position:"relative"}).at({width:m,height:v});O.append("defs"),u.init(O),["borders","exteriorBorders","innerborders"].forEach(e=>{w[e]&&(p.meta[e]=w[e])}),function(a,l,A,T,z,O,N){let C,L,P,D,R=u.get("basemap"),{getBorder:I}={getBorder:(e,t)=>cg(f,`vis.${u.meta.id}.borders.${e}`,cg(f,`vis.d3-maps-core.borders.${e}`,t))},B=O?O.node().getContext("2d"):null,F=[],q=[],W=l.projection,H=l.extent;l.maxZoom=l.maxZoom||("custom_upload"===R?20:8),"custom_upload"===R&&"string"==typeof w.extent&&(H.layer=w.extent,l.background=w.extent);let U=!(0,kd.default)(H.exclude);O&&function(e,t){var n=e.transform?co(e.transform):cd,r=function(){var e={},t=[],n=0;function r(e,n){for(;n>0;){var r=(n+1>>1)-1,o=t[r];if(cc(e,o)>=0)break;t[o._=n]=o,t[e._=n=r]=e}}function o(e,r){for(;;){var o=r+1<<1,i=o-1,a=r,l=t[a];if(i<n&&0>cc(t[i],l)&&(l=t[a=i]),o<n&&0>cc(t[o],l)&&(l=t[a=o]),a===r)break;t[l._=r]=l,t[e._=r=a]=e}}return e.push=function(e){return r(t[e._=n]=e,n++),n},e.pop=function(){if(!(n<=0)){var e,r=t[0];return--n>0&&(e=t[n],o(t[e._=0]=e,0)),r}},e.remove=function(e){var i,a=e._;if(t[a]===e)return a!==--n&&(0>cc(i=t[n],e)?r:o)(t[i._=a]=i,a),a},e}();function o(e){r.remove(e),e[1][2]=t(e),r.push(e)}null==t&&(t=cu),e.arcs.map(function(e){var i,a,l,s=[],u=0;for(a=1,l=(e=e.map(n)).length-1;a<l;++a)(i=[e[a-1],e[a],e[a+1]])[1][2]=t(i),s.push(i),r.push(i);for(a=0,e[0][2]=e[l][2]=1/0,l=s.length;a<l;++a)(i=s[a]).previous=s[a-1],i.next=s[a+1];for(;i=r.pop();){var c=i.previous,d=i.next;i[1][2]<u?i[1][2]=u:u=i[1][2],c&&(c.next=d,c[2]=i[2],o(c)),d&&(d.previous=c,d[0]=i[0],o(d))}return e}),e.bbox,e.objects}(a);let Y=ci(a,a.objects[l.regions]),G="geoNaturalEarth"===W.type?"geoNaturalEarth1":W.type,X=W.rotate,V=W.center,Z=t8(t8({},ce),{},{geoAlbersUsaTerritories:kl.geoAlbersUsaTerritories})[G]();X&&Z.rotate&&Z.rotate(X);let K=JSON.stringify(p.content).length,J=O?yR(K>5e5?l.weight||.01:-99):uZ(),Q="crop"===u.get("mapView","full")&&u.get("hide-empty-regions"),ee=U?(D=Y.features,Object.keys(H.exclude).forEach(e=>{H.exclude[e].forEach(t=>{D=D.filter(n=>n.properties[e]!==t)})}),{type:"FeatureCollection",features:D}):Y,et=ee;H.layer&&(ee=ci(a,a.objects[H.layer]));let{extent:en,padding:er,h:eo}=S({projection:J,featuresToFit:ee});v=eo,J.fitExtent(en,ee),V&&J.center&&console.warn("todo: what to do with projection center?");let ei=s4().projection(J),ea=z.append("g.map"),el=ea.append("rect.background").attr("width",m).attr("height",v);l.background&&a.objects[l.background]&&!Q&&(O?F.push({id:"bg",features:[ci(a,a.objects[l.background])]}):q.push({id:"bg",selection:ea.append("path.bg.geo").datum(ci(a,a.objects[l.background])).attr("d",ei)}));let{regionShapes:es,regions:eu}=((e,t)=>{let n,r,o,i=e.features;if(i.forEach(e=>{e.anchor=ez(e)}),O&&!t)F.push({id:"region",features:i});else{let e=(r=(n=ea.append("g.regions")).selectAll(".region").data(i).enter().append("g.region")).append("path.geo.region").attr("d",e=>ei(e)).attr("data-key",e=>e.properties[p.meta.keys[0].value]).classed("highlight",e=>"#id="===location.hash.substr(0,4)&&location.hash.substr(4).split(",").indexOf(e.properties.RS)>-1);t||(q.push({id:"gregion",selection:r}),q.push({id:"region",selection:e}))}return{regionShapes:i,regions:n,gregion:r,region:o}})(Y),ec=[{id:"regions",type:"border",defaultStyle:{lineWidth:1},meshFunc:(e,t)=>e!==t},{id:"borders",type:"border",defaultStyle:{lineWidth:3.33},meshFunc:(e,t)=>e!==t},{id:"innerborders",defaultStyle:{lineWidth:1,opacity:.3},meshFunc:()=>!0},{id:"exteriorBorders",type:"border",defaultStyle:{lineWidth:2,strokeDasharray:"2,8"},meshFunc:()=>!0}];if(I("outerBorder")&&(l.outerBorder=l.regions,ec.push({id:"outerBorder",type:"border",defaultStyle:{lineWidth:1},meshFunc:(e,t)=>e===t})),ec.forEach(e=>{let{id:t,defaultStyle:n,meshFunc:r}=e;if(!l[t]||!a.objects[l[t]])return;let o=function(e){return cl(e,cs.apply(this,arguments))}(a,a.objects[l[t]],r);if(O)F.push({id:t,type:"border",defaultStyle:n,features:[o]});else{let e=ea.append(`path.geo.borders.${t}`).datum(o).attr("d",ei);q.push({id:t,type:"border",selection:e,defaultStyle:n})}}),!O&&"d3-maps-choropleth"===u.meta.id){let e=ea.append("g.outlines").selectAll(".region-outline").data(es).enter().append("path.geo.region-outline").attr("data-key",e=>e.properties[p.meta.keys[0].value]).attr("d",ei);q.push({id:"outlines",type:"border",selection:e,defaultStyle:{lineWidth:2}})}let ef=[],ep={},eh=!1;function eg(){null==L||L.remove(),L=void 0,clearTimeout(P)}!x&&(z.at({height:v}),O&&O.at({height:v*N}).st({height:v}));let em=wT({theme:f,type:u.meta.id,darkMode:u.darkMode(),layers:_?q:F,forceSVG:_}),ev={},ey={svg:z,mapOuter:T,canvas:O,scale:1,meta:l,getZoom:eM,g:ea,data:es,proj:J,mapProj:Z,path:ei,feat:Y,svgBorderList:q.filter(e=>"border"===e.type),svgLayers:q,canvasLayers:F,isDatawrapperEditor:u.chart().inEditor(),draw:ek,getThemeBgColor:E,SVG_TO_CANVAS_SCALE:.45,height:eo,fitExtent:en,extentPadding:er,featuresToFit:ee,getBasemapBounds:()=>s4().projection(J).bounds(ee),extraPadding:0,highlightCallbacks:{add:(e,t)=>{ev[t]=e},get:()=>ev},onHighlight:e=>{Object.values(ev).forEach(t=>t(e))},renderPlaces(){!function({map:e,vis:t,theme:n,getZoom:r}){let o=r(),i=/<br *\/?>|\n/g,a=dp(t.get("labels.places")).filter(t=>{t.origAlign=t.align;let n=!!e.mapProj([t.x,t.y]);return t.visible&&n});if(e.g.selectAll("g.places").remove(),!a.length||!t.get("labels.enabled")||"places"!==t.get("labels.type"))return;let l=e.g.append("g.places"),s=l.appendMany("g.place",a).attr("class",e=>["place",e.inverted?"inverted":"",e.type,!e._visible?"place-hidden":""].join(" ")),u={country:13},c={capital:wO.square,point:wO.circle};s.each(function(e){e.fontSize=cg(n,`vis.d3-maps-core.places.${e.type}.label.fontSize`,cg(n,"vis.d3-maps-core.places.general.label.fontSize",u[e.type]||10)),e.symbolSize=cg(n,`vis.d3-maps-core.places.${e.type}.symbol.size`,cg(n,"vis.d3-maps-core.places.general.symbol.size",3)),e.symbolPath=cg(n,`vis.d3-maps-core.places.${e.type}.symbol.path`,c[e.type]||!1)}),s.attr("transform",function(t){let n=e.proj(e.mapProj([t.x,t.y]));return t.anchor=n,`translate(${t.anchor}) scale(${1/o.k})`});let d=s.append("g.text-wrapper");function f(){s.each(function(e){let t=e.text.replace(/-/g,"- ");e.__lines=(!t?[]:t.match(i)?t.trim().split(i):wF(t,10)).map(function(e){return e.replace(/- /g,"-")}),"t"===e.align.split("")[0]&&e.__lines.reverse()}),d.attr("transform",function(e){let[t,r]=e.align.split(""),o=cg(n,`vis.d3-maps-core.places.${e.type}.label.translateX`,0),i=cg(n,`vis.d3-maps-core.places.${e.type}.label.translateY`,0),a=(e.symbolSize+o)*({l:1,c:0,r:-1})[r],l=(e.fontSize+e.symbolSize+i)*({t:-1,m:0,b:1})[t];return`translate(${a},${l})`}),s.selectAll("text").style("text-anchor",function(e){return({l:"end",c:"middle",r:"start"})[e.align.split("")[1]]}),e.g.selectAll("tspan").remove(),s.selectAll("text").tspans(e=>e.__lines,function(e){let t=e.align;return((e.fontSize||10)+4)*({t:-1,m:1,b:1})[t.split("")[0]]})}d.append("text.buffer"),d.append("text.place-label"),s.append("path.place-symbol").attr("d",function(e){return e.symbolPath||""}).attr("transform",function(e){return`scale(${e.symbolSize})`}),f(),e.updateLabelOverlaps(l,"g.place"),f(),s.classed("place-hidden",e=>!e._visible),e.addZoomLayer("place-labels-layer",l,s),e.updatePlacesAfterZoom=(0,wJ.default)(function(){e.updateLabelOverlaps(l,"g.place"),f(),s.classed("place-hidden",e=>!e._visible);let t=!1;a.forEach(e=>{e.align!==e.origAlign&&(e.align=e.origAlign,t=!0)}),t&&f(),e.updateLabelOverlaps(l,"g.place"),f(),s.classed("place-hidden",e=>!e._visible)},200),e.onZoom(e.updatePlacesAfterZoom)}({map:ey,vis:u,theme:f,getZoom:eM})},insetMap:{render:function(){var e,t,n,r;let o=u.get("mapView","full"),s=u.get("miniMap.type","region"),c=function(e){var t;let{deltaLong:n,deltaLat:r}=!!(t=e)&&{deltaLong:Math.abs(t[1][0]-t[0][0]),deltaLat:Math.abs(t[1][1]-t[0][1])};return Math.max(Math.round(n/60),Math.round(r/30))}(l.bounds),d=u.get("zoomable",!1),f="region"===s||c>1?d||"crop"===o:"globe"===s&&!(null==(e=l.tags)?void 0:e.includes("cartogram"))&&!w5.includes(null==(t=l.projection)?void 0:t.type),h=u.get("miniMap.enabled",!1)&&f;if(ey.insetMap.type=s,A.select(".inset-map-container").remove(),!h){ey.insetMap.instance=null;return}A.classed("inset-map-zoom-only",h&&"crop"!==o&&("region"===s||c>1)),ey.insetMap.target=A.select(".map-outer").append("div.inset-map-container").attr("aria-hidden",!0),ey.insetMap.minZoom="region"===ey.insetMap.type?1.3:c;let g=Math.min(1,u.size()[0]/550),m=u.get("miniMap.size",120)*g,v=u.get("miniMap.position","bottom-left"),y=u.get("miniMap.offsetX",1),b=u.get("miniMap.offsetY",1),x=u.theme(),_=cg(x,"vis.base.insetMap",{});cg(_,"region.land")||(df(_,"region.land",ey.darkThemeBackground?oE(ey.regionFill).darker(ey.darkMapBackground?-1:1).formatHex():"#ffffff"),df(x,"vis.base.insetMap",_));let w=(null==(n=l.minimap)?void 0:n.weight)?yR(l.minimap.weight):uZ(),k=l.background?ci(a,{type:"GeometryCollection",geometries:[...a.objects[l.background].geometries,...a.objects[l.regions].geometries]}):dp(Y),{h:M,extent:j}=wQ({projection:w,width:m,height:m,featuresToFit:ee,percentPadding:(null==(r=p.meta.minimap)?void 0:r.padding)||0});w.fitExtent(j,ee),ey.insetMap.instance=function(e={},t){let n={type:"region",width:250,height:250,center:[0,0],position:"top-right",boundaryGeom:void 0,viewPoints:void 0,labelText:"",customUpload:!1,clampViewbox:!1,darkMode:!1,fitMap:!0,viewBuffer:15};if("region"===(n=(0,gk.default)(n,e,{arrayMerge:gM})).type&&!n.boundaryGeom&&0===Object.keys(n.boundaryGeom).length)throw Error("you need to pass geometry for type region");if(!n.themeData)throw Error("you need to pass themeData");let r=()=>{},o=function(e,t){let n=cg(e,"vis.base.insetMap",{});return gx.default.all([gw(t),n],{arrayMerge:g_})}(n.themeData,n.darkMode);return{render:function(e,a={}){n=(0,gk.default)(n,a,{arrayMerge:gM}),e.html("");let l=e.classed("inset-map-container",!0).classed(`inset-map-${n.type}`,!0),s=l.append("svg").style("overflow","visible").at({width:n.width,height:n.height}).append("g.inset-map");if("globe"===n.type){var u=n;function c(){var e,t,n,r,a;let l=[u.width/2,u.height/2],c=(Math.min(u.width,u.height)-10)/2,d=(e=2,t=0,(r=(n=h5(gr))(e,t)).distance=function(r){return arguments.length?n(e=+r,t):e},r.tilt=function(r){return arguments.length?n(e,t=r*gt):t*ge},r.scale(432.147).clipAngle(((a=1/e)>1?0:a<-1?h6:Math.acos(a))*ge-1e-6)).scale(1.7*c).translate(l).rotate([-u.center[0],-u.center[1]]).precision(.1),f=hX().projection(d),p=function(){var e,t,n,r,o,i,a,l,s,u,c,d,f=10,p=10,h=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return dx(dO(r/h)*h,n,h).map(c).concat(dx(dO(l/g)*g,a,g).map(d)).concat(dx(dO(t/f)*f,e,f).filter(function(e){return d$(e%h)>1e-6}).map(s)).concat(dx(dO(i/p)*p,o,p).filter(function(e){return d$(e%g)>1e-6}).map(u))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(d(a).slice(1),c(n).reverse().slice(1),d(l).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),v.precision(m)):[[r,l],[n,a]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),i>o&&(n=i,i=o,o=n),v.precision(m)):[[t,i],[e,o]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(h=+e[0],g=+e[1],v):[h,g]},v.stepMinor=function(e){return arguments.length?(f=+e[0],p=+e[1],v):[f,p]},v.precision=function(f){return arguments.length?(m=+f,s=fr(i,o,90),u=fo(t,e,m),c=fr(l,a,90),d=fo(r,n,m),v):m},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}(),h=ci(i,i.objects.world);"none"!==cg(o,"globe.background")&&s.append("circle.water-outline").translate(l).attr("r",c+1.2).style("fill",cg(o,"globe.background"));let g=s.append("circle.water").translate(l).attr("r",c).style("fill",cg(o,"globe.water")).style("stroke",cg(o,"globe.globeOutline.color")).style("stroke-width",cg(o,"globe.globeOutline.width")).style("stroke-dasharray",cg(o,"globe.globeOutline.strokeDashArray"));if(cg(o,"globe.outerBlur",!0)&&go(g,{strength:0,blur:6,alpha:.15}),s.append("path.graticule").datum(p).attr("d",f).style("stroke",cg(o,"globe.graticule.color")).style("stroke-width",cg(o,"globe.graticule.width")).style("stroke-dasharray",cg(o,"globe.graticule.strokeDashArray")),s.append("path.land").attr("d",f(h)).style("fill",cg(o,"globe.land")).style("stroke",cg(o,"globe.landOutline.color")).style("stroke-width",cg(o,"globe.landOutline.width")).style("stroke-dasharray",cg(o,"globe.landOutline.strokeDashArray")),!u.viewPoints)return;let m=gi(u.viewPoints);"box"==("locator-maps"===u.visType&&u.zoom?u.zoom<6?"box":"circle":f.area(m)>30?"box":"circle ")?s.append("path.view").attr("d",f(gi(u.viewPoints))).style("stroke",cg(o,"view.color")).style("stroke-width",cg(o,"view.strokeWidth")).style("stroke-dasharray",cg(o,"view.strokeDashArray")):s.append("circle.view").translate(l).attr("r",3).style("fill",cg(o,"view.color")).style("stroke-width",cg(o,"view.strokeDashArray")),s.append("circle.outline").translate(l).attr("r",c).style("fill","none").style("stroke",cg(o,"globe.globeOutline.color"))}i?c():function(e,t,n){var r,o;let i,a;2==arguments.length&&"function"==typeof t?(a=t,i="include"):1==arguments.length?(a=void 0,i="include"):(a=n,i=t),r=i,o=a,window.fetch(e,{method:"GET",body:null,mode:"cors",credentials:r}).then(e=>{if(!e.ok)throw Error(e.statusText);return e.text()}).then(e=>{try{return JSON.parse(e)}catch(t){return console.warn("malformed json input",e),e}}).then(e=>(o&&o(e),e)).catch(e=>{if(o)console.error(e);else throw e})}("https://tiles.dwcdn.net/topojson/world.json",void 0,e=>{i=e,c()})}else if("region"===n.type){let{centroidPx:e,dx:i,dy:a,setView:u}=function(e,t,n,r,o){let i=function(e){let t;if(e&&"FeatureCollection"===e.type)t=e;else if(!e||!e.objects)return void console.warn("No boundary geom");else try{t=ci(e,e.objects.geom)}catch(e){console.warn("TopoJSON conversion not working ",e);return}return t}(r.boundaryGeom);if(!i)return{};let a=function(e,t){let{width:n,height:r,projection:o,fitMap:i}=t,a=hX().projection(null),l=a.centroid(e),s=o||h5(function(){return h3})().scale(124.75).clipAngle(179.999).rotate([-l[0],-l[1]]).fitSize([n,r],e);return a.projection(s),i&&s.fitSize([n,r],e),a}(i,r),l=r.customUpload||r.hasInnerBorders,s={stroke:cg(o,"region.landOutline","#494949"),strokeWidth:cg(o,"region.outline.width",.7)/(l?2:1),strokeDasharray:cg(o,"region.outline.strokeDashArray")};l||n.append("path").datum(i).attr("d",a).style("fill","transparent").st(s);let u=n.append("path").datum(i).attr("d",a).style("fill",cg(o,"region.land"));l&&u.st(s),cg(o,"region.outerBlur")&&go(u,{strength:0,blur:6,alpha:.15});let c=t.getElementBounds(u.node()),d=cg(o,"region.inBox",!1),f=d||!r.fitMap?0:(r.width-c.width)/2,p=d||!r.fitMap?0:(r.height-c.height)/2;function h(e){n.select(".view").remove();let l=gi(e),s=a.bounds(i),c=s[1][0]-s[0][0],d=s[1][1]-s[0][1],h=t.getElementBounds(u.node());if(a.area(l)<=c*d*.8)if(10>a.area(l)){let e=n.append("circle.view").translate(a.centroid(l)).attr("r",3).style("fill",cg(o,"view.color")).style("stroke-width",cg(o,"view.strokeWidth")),r=t.getElementBounds(e.node());(r.left+4<h.left||r.bottom-4>h.bottom||r.top+4<h.top||r.right-4>h.right)&&e.style("opacity",0)}else if(r.clampViewbox){let[e,t]=a.bounds(l);e[0]=Math.max(f+1,e[0]),e[1]=Math.max(p,e[1]),t[0]=Math.min(r.width-f,t[0]),t[1]=Math.min(r.height-p,t[1]);let i=gd();i.rect(e[0],e[1],t[0]-e[0],t[1]-e[1]),n.append("path.view").attr("d",i.toString()).style("opacity",1).style("stroke",cg(o,"view.color")).style("stroke-width",cg(o,"view.strokeWidth")).style("stroke-dasharray",cg(o,"view.strokeDashArray"))}else{let e=n.append("path.view").attr("d",a(l)).style("opacity",1).style("stroke",cg(o,"view.color")).style("stroke-width",cg(o,"view.strokeWidth")).style("stroke-dasharray",cg(o,"view.strokeDashArray")),i=t.getElementBounds(e.node()),s="object"==typeof r.viewBuffer?r.viewBuffer:{left:r.viewBuffer,right:r.viewBuffer,top:r.viewBuffer,bottom:r.viewBuffer};(i.left<h.left-s.left||i.bottom>h.bottom+s.bottom||i.top<h.top-s.top||i.right>h.right+s.right)&&e.style("opacity",0)}}return n.translate([f*(r.position.indexOf("left")>-1?-1:1),p*(r.position.indexOf("top")>-1?-1:1)]),r.viewPoints&&h(r.viewPoints),{centroidPx:a.centroid(i),dx:f,dy:p,setView:h}}(0,t,s,n,o);""!==n.labelText&&function(e,t,n,r,o,i,a){e.append("div.label.outline"),e.append("div.label");let l=e.selectAll("div.label").style("width",n.width+"px"),s=gy(n.labelText,"<b><i><br><strong><em><img>");l.append("span").html(s.replace(/\n/g,"<br>")).st({color:cg(r,"label.color")});let u=t.getElementBounds(l.node()),c=cg(r,"region.land");e.selectAll("div.label.outline span").st({"text-shadow":`0 1px 0 ${c}, 1px 0 0 ${c}, 0 -1px 0 ${c}, -1px 0 0 ${c},1px 1px 0 ${c}, 1px -1px 0 ${c}, -1px -1px 0 ${c}, -1px 1px 0 ${c},0 2px 1px ${c}, 2px 0 1px ${c}, 0 -2px 1px ${c}, -2px 0 1px ${c},-1px 2px 0px ${c}, 2px -1px 0px ${c}, -1px -2px 0px ${c}, -2px -1px 0px ${c},1px 2px 0px ${c}, 2px 1px 0px ${c}, 1px -2px 0px ${c}, -2px 1px 0px ${c}`}),e.selectAll("div.label:not(.outline) span").st({color:cg(r,"label.color")});let d=e.st("padding")||r.padding[n.position],f=Number(d.split("px")[3]),p=Number(d.split("px")[0]);l.st({left:`${f+i*(n.position.indexOf("left")>-1?-1:1)+o[0]-.5*u.width}px`,top:`${p+a*(n.position.indexOf("top")>-1?-1:1)+o[1]-.5*u.height}px`,"letter-spacing":`${cg(r,"label.letterSpacing")}px`,"line-height":`${function(){let e=cg(r,"label.lineHeight");return e>3?`${e}px`:String(e)}()}`,"font-size":cg(r,"label.fontSize"),"font-weight":cg(r,"label.fontWeight"),"text-transform":cg(r,"label.textTransform"),"font-family":cg(r,"label.typeface")})}(l,t,n,o,e,i,a),r=u}else console.warn("this type doesn't exist");return l},setView:function(...e){r(...e)}}}({type:ey.insetMap.type,viewPoints:null,boundaryGeom:k,themeData:x,width:m,height:"region"===ey.insetMap.type?M:m,projection:w,hasInnerBorders:u.get("miniMap.innerBorders"),position:v,clampViewbox:!0,darkMode:ey.darkThemeBackground,fitMap:!1},u.chart()),ey.insetMap.instance.render(ey.insetMap.target),ey.insetMap.target.style(v.includes("top")?"top":"bottom",b+"%").style(v.includes("left")?"left":"right",y+"%"),ey.insetMap.updateView(eM())},updateView:eS,instance:null,minZoom:null,type:u.get("miniMap.type","region")},updateLabelOverlaps:function(e,t){let n=eM(),r=!1;if(!u.get("avoid-label-overlap",!0)&&"column"===u.get("labels.type","places"))return;let o=[],i=u.__chart.getElementBounds(ey.svg.node());function a(e,t){let r=e.top-i.top-2,a=e.bottom-i.top+2,l=e.left-i.left-2,s=e.right-i.left+2,u=!1;return(l<0||r<0||a>i.height||s>i.width)&&1===n.k&&(u=!0),u||o.forEach(function(e){r>e.b||s<e.l||a<e.t||l>e.r||t===e.data||(u=!0)}),u||o.push({t:r,l:l,b:a,r:s,data:t}),u}return A.selectAll(".text-annotation .text").each(function(){let e=u.__chart.getElementBounds(this),t=e.top-i.top-2,n=e.bottom-i.top+2,r=e.left-i.left-2,a=e.right-i.left+2;o.push({t:t,l:r,b:n,r:a})}),e.selectAll(t).each(function(e){let t=u.__chart.getElementBounds(this),o=a(t,e);if(o&&("point"===e.type||"capital"===e.type)&&"places"===u.get("labels.type","places")&&1===n.k){let n=dp(t),l=e.anchor,s=e.symbolSize;(0,kg.default)(["tr","br","bl","tl"]).forEach(t=>{if(o){switch(t){case"tr":n.left=l[0]-s,n.right=l[0]+n.width-s,n.top=l[1]-n.height+i.top+2*s,n.bottom=l[1]+i.top;break;case"tl":n.left=l[0]-n.width+s,n.right=l[0]+s,n.top=l[1]-n.height+i.top+2*s,n.bottom=l[1]+i.top;break;case"bl":n.left=l[0]-n.width+s,n.right=l[0]+s,n.top=l[1]+i.top,n.bottom=l[1]+n.height+i.top-2*s;break;case"br":n.left=l[0]-s,n.right=l[0]+n.width-s,n.top=l[1]+i.top,n.bottom=l[1]+n.height+i.top-2*s}a(n,e)||(e.align=t,r=!0,o=!1)}})}e._visible=!o}),{alignmentChanged:r}},clearZoomLayer(){ef.forEach(e=>e.g.remove()),ef.length=0},addZoomLayer(e,t,n){ep[e]={g:t,feat:n},ef.push(ep[e])},updateZoomLayerSelection(e,t){ep[e].feat=t},onZoom(e){C=e},setBottomMargin:e=>(g=e,ej(u.size()),ey),setUserPadding:e=>(h=e,ej(u.size()),ey),setFeaturesToFit(e,t=0,n=0){let r=ey.containedByInitialBounds(e,t,"d3-maps-symbols"===u.meta.id);ey.featuresToFit=r?e:ee,ey.extraPadding=r?t:0,ey.verticalShift=r?n:0,ey.updateFitExtent()},updateFitExtent(){let{extent:e,padding:t,h:n,offset:r}=S({projection:J,pixelPadding:ey.extraPadding,featuresToFit:ey.featuresToFit,verticalShift:ey.verticalShift});J.fitExtent(e,ey.featuresToFit),ey.fitExtent=e,ey.extentPadding=t,ey.height=n,ey.offset=r},containedByInitialBounds(e,t=0,n=!1){let r=s4().projection(J),o=w2(r.bounds(ee)),i=w2(r.bounds(e));return n&&(i.x1-=t,i.x2+=t,i.y1+=t,i.y2-=t,o.x1-=50+m*h*2,o.x2+=50+m*h*2,o.y1+=50+v*h*2,o.y2-=50+v*h*2),i.x1>=o.x1&&i.y1<=o.y1&&i.x2<=o.x2&&i.y2>=o.y2},zoomRegionsWithData(){let e={type:"FeatureCollection",features:et.features.filter(e=>!ey.hasNoData(e))};ey.setFeaturesToFit(e),ej(u.size())},zoomExtentOfSymbols(e,t=0){let n=s4().projection(J),r=w2(n.bounds(ee)),o=u.dataset.list().map(e=>ey.mapProj([e[d.lon],e[d.lat]])).filter(e=>{if(!e)return!1;let t=n.centroid({type:"Feature",geometry:{coordinates:e,type:"Point"}});return t[0]>=r.x1&&t[0]<=r.x2&&t[1]>=r.y2&&t[1]<=r.y1});o.length>1&&(ey.setFeaturesToFit({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:o,type:"MultiPoint"}}]},e,t),ej(u.size()))},hasNoData:e=>!e.data||void 0===e.data[d.values]||null===e.data[d.values]||"null"===e.data[d.values]||"-"===e.data[d.values],setThemeStyles(){let e=function(e,t,n,r){let{css:o,getProp:i}=vm(e,t),a=cg(t,"colors.background","#ffffff");return o`
        ${function(){let e=`
            .g.places {
                pointer-events: none;
            }
            g.places g.place {
                font-size: 13px;
            }
            g.places g.place .buffer {
                opacity: 0.5;
                stroke-width: 3px;
                stroke-linejoin: round;
            }
            g.places g.place tspan {
                dominant-baseline: middle;
            }
            g.places g.place .place-symbol {
                stroke-width: 0.3px;
                stroke-opacity: 0.5;
            }
            g.places g.place.place-hidden {
                visibility: hidden;
            }
            g.places g.place.inverted .buffer {
                opacity: 0.6;
            }
            g.places g.place.inverted .place-symbol {
                stroke-opacity: 0.6;
            }
            g.places g.place.capital tspan {
                text-decoration: underline;
                text-underline-offset: 2px;
            }
            g.places g.place.country {
                text-transform: uppercase;
                letter-spacing: 0.2em;
                font-size: 13px;
            }
        `;for(let t of["general","point","capital","country","region"]){let n="country"!==t&&"region"!==t,r=`g.places g.place${"general"===t?"":`.${t}`}`;e+=`
                ${r} {
                    font-size: ${vv(i(`vis.d3-maps-core.places.${t}.label.fontSize`))};
                    fill: ${i(`vis.d3-maps-core.places.${t}.label.color.normal`)};
                    font-family: ${i(`vis.d3-maps-core.places.${t}.label.typeface`)};
                    text-transform: ${i(`vis.d3-maps-core.places.${t}.label.textTransform`)};
                    font-weight: ${i(`vis.d3-maps-core.places.${t}.label.fontWeight.normal`)};
                    letter-spacing: ${vv(i(`vis.d3-maps-core.places.${t}.label.letterSpacing`))};
                    font-style: ${i(`vis.d3-maps-core.places.${t}.label.fontStyle`)};
                }
                ${r} tspan {
                    text-decoration: ${i(`vis.d3-maps-core.places.${t}.label.textDecoration`)};
                }
                ${r} .buffer {
                    opacity: ${i(`vis.d3-maps-core.places.${t}.label.buffer.opacity`)};
                    stroke: ${i(`vis.d3-maps-core.places.${t}.label.buffer.color.normal`)};
                    stroke-width: ${vv(i(`vis.d3-maps-core.places.${t}.label.buffer.strokeWidth`))};
                }
                ${r}.inverted {
                    fill: ${i(`vis.d3-maps-core.places.${t}.label.color.inverted`)};
                    font-weight: ${i(`vis.d3-maps-core.places.${t}.label.fontWeight.inverted`)};
                }
                ${r}.inverted .buffer {
                    stroke: ${i(`vis.d3-maps-core.places.${t}.label.buffer.color.inverted`)};
                }
            `,n&&(e+=`
                    ${r} .place-symbol {
                        fill: ${i(`vis.d3-maps-core.places.${t}.symbol.fill.normal`)};
                        stroke: ${i(`vis.d3-maps-core.places.${t}.symbol.stroke.normal`)};
                        stroke-width: ${vv(i(`vis.d3-maps-core.places.${t}.symbol.strokeWidth`))};
                        stroke-opacity: ${i(`vis.d3-maps-core.places.${t}.symbol.strokeOpacity`)};
                    }
                    ${r}.inverted .place-symbol {
                        fill: ${i(`vis.d3-maps-core.places.${t}.symbol.fill.inverted`)};
                        stroke: ${i(`vis.d3-maps-core.places.${t}.symbol.stroke.inverted`)};
                    }
                `)}return e}()}
        ${`
            .zoom-buttons {
                position: absolute;
                z-index: 10;
                border-radius: 4px;
            }
            .zoom-buttons-br {
                bottom: 9px;
                right: 6px;
            }
            .zoom-buttons-tr {
                top: 9px;
                right: 6px;
            }
            .zoom-buttons-tl {
                top: 9px;
                left: 6px;
            }
            .zoom-buttons-bl {
                bottom: 9px;
                left: 6px;
            }
            .zoom-btn {
                border: 1px solid ${n?"rgba(255, 255, 255, .2)":"rgba(0, 0, 0, .2)"};
                display: block;
                width: 30px;
                height: 30px;
                line-height: 30px;
                padding: 0;
                border-radius: 4px;
                -webkit-appearance: none;
                -moz-appearance: none;
                background: ${n?"rgba(0, 0, 0, .26)":"rgba(255, 255, 255, .85)"};
                transition: background 0.3s;
                text-align: center;
                cursor: pointer;
                font-size: 17px;
            }
            .zoom-btn svg path {
                fill: ${n?"rgba(255, 255, 255, .5)":"rgba(0, 0, 0, .6)"};
            }
            .zoom-btn:hover {
                background: ${n?"rgba(0, 0, 0, .3)":"rgba(240, 240, 240, .8)"};
            }
            .zoom-btn:hover svg path {
                fill: ${n?"white":"black"};
            }
            .zoom-btn-in {
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
            }
            .zoom-btn-out {
                border-top: 0;
                border-top-left-radius: 0;
                border-top-right-radius: 0;
            }
            .zoom-btn-out[disabled], .zoom-btn-in[disabled] {
                background: ${n?"rgba(255, 255, 255, .13)":"hsla(0, 0%, 97%, .85)"};
                border-color: ${n?"rgba(255, 255, 255, .1)":""};
                pointer-events: none;
            }
            &:not(.d3-maps-zoomed-in) .zoom-btn-out svg path {
                fill: ${n?"rgba(255, 255, 255, .5)":"rgba(23, 23, 23, .5)"};
            }
            .zoom-btn-home {
                display: none;
            }
            &.d3-maps-zoomed-in .zoom-btn-home {
                display: block;
                margin-bottom: 5px;
            }
            &.d3-maps-zoomed-in .zoom-buttons-tr .zoom-btn-home,
            &.d3-maps-zoomed-in .zoom-buttons-tl .zoom-btn-home {
                margin-bottom: 0;
                margin-top: 5px;
            }
        `}
        ${n?`
            .color-legend.continuous .highlighted g.highlight path.triangle {
                /* Using !important to overwrite style coming from block-d3-color-legend which has higher specificity. */
                fill: ${i("colors.chartContentBaseColor","#f1f1f1")} !important;
            }
        `:""}
        ${"d3-maps-choropleth"===r?`
            path.region-outline {
                stroke: none;
                fill-opacity: 0;
                stroke-linejoin: round;
            }
            path.region-outline.has-data:hover,
            path.region-outline.hover-outline,
            path.region-outline.sticky {
                stroke: ${i("vis.d3-maps-choropleth.borders.hoverOutline.stroke",n?"#ffffff":"#000000")};
            }
            g.label text.label,
            g.label text.buffer {
                text-anchor: middle;
                font-size: ${vv(i("vis.d3-maps-choropleth.labels.fontSize",13))};
                font-weight: ${i("vis.d3-maps-choropleth.labels.fontWeight")};
                font-family: ${i("vis.d3-maps-choropleth.labels.typeface")};
            }
            g.label text tspan {
                dominant-baseline: middle;
            }
            g.label text.buffer {
                stroke-linejoin: round;
                opacity: ${i("vis.d3-maps-choropleth.labels.outline.opacity",.45)};
                stroke-width: ${vv(i("vis.d3-maps-choropleth.labels.outline.strokeWidth",3))};
            }
            g.label:not(.inverted) text.buffer {
                stroke: ${i("vis.d3-maps-choropleth.labels.outline.color.normal",a)};
            }
            g.label.inverted text.buffer {
                stroke: ${i("vis.d3-maps-choropleth.labels.outline.color.inverted")};
            }
        `:`
            .nocluster.show-outline:not(.sticky):hover path.shape,
            path.symbol-hover.nocluster {
                // Using !important to override inline styles.
                stroke-opacity: ${i("vis.d3-maps-symbols.symbols.stroke.hover.opacity",.5)} !important;
                stroke: ${i("vis.d3-maps-symbols.symbols.stroke.hover.color")} !important;
            }
            .nocluster.sticky path.shape,
            path.symbol-hover.sticky {
                // Using !important to override inline styles.
                stroke-opacity: ${i("vis.d3-maps-symbols.symbols.stroke.sticky.opacity",1)} !important;
                stroke: ${i("vis.d3-maps-symbols.symbols.stroke.sticky.color")} !important;
            }
            g.symbol text {
                user-select: none;
                text-anchor: middle;
                fill: white;
                font-size: ${vv(i("vis.d3-maps-symbols.labels.clusters.fontSize",vy(t,"fontSize",14)))};
                font-weight: ${i("vis.d3-maps-symbols.labels.clusters.fontWeight")};
                font-family: ${i("vis.d3-maps-symbols.labels.clusters.typeface")};
            }
        `}
        ${function(){let e=i("vis.base.legend.container.outsideChart.distanceToChart",10);return`
        .legend-container[data-position=above] {
            padding-bottom: ${vv(e)};
        }
        .legend-container[data-position=below] {
            padding-top: ${vv(e)};
        }
        `}()}
    `}(u.chart().emotion,f,$(E()),u.meta.id);r!==e&&(r&&A.classed(r,!1),A.classed(e,!0),r=e)},setLayerThemeStyles(e){ey.regionFill=wT({theme:e,type:u.meta.id,darkMode:u.darkMode(),layers:_?q:F,forceSVG:_,hideRegionBorders:u.get("hide-region-borders",!1)}),ey.darkMapBackground=$(ey.regionFill),ey.darkThemeBackground=$(E())},sizeTooltip:eO(c),resizeMap:ej,fixZoom:eT,getContainerBounds:()=>u.chart().getElementBounds(ey.mapOuter.node()),getValueLabelFormatter:()=>(function(e){if("text"===e.axes(!0).values.type())return e=>e;let t=e.theme(),n=cg(t,"vis.base.format.minusCharacter","â"),r=cg(t,"vis.base.format.plusMinusCharacter","\xb1"),o=e.get("legends.color.labelFormat","0.[00]"),i=e.axes().values,a=e.chart().getMetadata("data.column-format",{})[i]||{},l=a["number-prepend"]||"",s=a["number-append"]||"",u=Math.pow(10,-a["number-divisor"]||0),c=e.libraries().numeral;return e=>kt(c,e,{format:o,multiply:u,prepend:l,append:s,minusChar:n,plusMinusChar:r})})(u),zoomBehavior:!1,regionFill:em,darkMapBackground:$(em),darkThemeBackground:$(E()),getRelativeMousePosition:u.chart().getRelativeMousePosition,addFillPattern:(e,t)=>{let n=z.select("defs"),r=`pattern-${e}`;return n.select(`#${r}`).node()||!function({defs:e,id:t,stroke:n="black",strokeWidth:r=1,lineGap:o=10,patternType:i="horizontal",opacity:a=1,rotation:l=0,scale:s=1,flipV:u=!1}){let c=(o+r)*s,d=dh[i]||0;u&&(d=180-d),e.append("pattern").attr("id",t).attr("patternTransform",`rotate(${d-l} 0 0)`).attr("patternUnits","userSpaceOnUse").attr("height",c).attr("width",c).append("line").attr("x1",c/2).attr("y1",0).attr("x2",c/2).attr("y2",c).attr("stroke",n).attr("stroke-width",r*s).attr("opacity",a)}({defs:n,id:r,stroke:t.color,opacity:t.opacity/100,strokeWidth:t.width,lineGap:t.gap,patternType:"diagonal-up"===t.type?"diagonal-down":"diagonal-down"===t.type?"diagonal-up":t.type,rotation:0,scale:1,flipV:!1}),r}};O&&ek();let eb=A.select(".map-outer").append("div.annotations"),ex=k&&M?gE():null,e_="";!function(r){let o=dp(u.get("text-annotations",[]));if(!o.length&&!k)return;let i=A.append("div.annotation-keys"),a=eN(),l=eC();if(e)try{nt(e.layer),nt(e.keys)}catch(e){console.warn("Annotation layer not destroyed, error caught to prevent issue in IE")}let s=ed({textAnnotations:o,dataToPx:a,pxToData:l,theme:u.theme(),cm:u.colorMap(),visWidth:m,rtl:"rtl"===u.textDirection,chroma:u.libraries().chroma,purifyHtml:dw.utils.purifyHtml});t=s;let c=ed({textAnnotations:o,dataToPx:a,theme:u.theme(),rtl:"rtl"===u.textDirection,chroma:u.libraries().chroma,purifyHtml:dw.utils.purifyHtml,emotion:u.chart().emotion,visOuterWidth:m});n=c,e={layer:t9(yO,{target:r.node(),props:s}),keys:t9(yD,{target:i.node(),props:c})};let d=k&&M?gE(e):null;d&&(s.editMode=!0,d.syncAnnotationLayer(e),ea.on("mousedown",()=>{let{editorState:e}=d.get();e.selectedTextAnnotations=[],d.set({editorState:e})}))}(eb);let ew=(0,km.default)(ey.renderPlaces,100);function ek(){!function({context:e,getZoom:t,proj:n,width:r,height:o,canvasScale:i,canvasLayers:a,theme:l,vis:s}){let u=t(),c="vis.d3-maps-symbols.labels.clusters",d=s.get("hide-region-borders",!1),f=[cg(l,`${c}.fontWeight`,vy(l,"fontWeight",400)),cg(l,`${c}.fontSize`,vy(l,"fontSize",14))/u.k+"px",cg(l,`${c}.typeface`,vy(l,"typeface","sans-serif"))].filter(e=>e).join(" "),p=new Map,h=s4(n,e);e.clearRect(0,0,r*i,o*i),e.lineJoin="round",e.lineCap="round",e.save(),e.scale(i,i),e.translate(u.x,u.y),e.scale(u.k,u.k),a.forEach(t=>{let r=t.features.filter(e=>!e.__hidden);e.globalCompositeOperation="function"==typeof t.blendMode?t.blendMode():t.blendMode||"source-over",r.forEach(r=>{e.beginPath();let o="function"==typeof t.style?t.style(r):t.style;if(d&&"regions"===t.id)return;let a="Feature"===r.type?r.geometry:r;if(a){if("Point"===a.type){let t=r.properties.__projCache;if(!t)return;let i=n(t);e.save(),e.translate(i[0],i[1]);let a=void 0!==r.properties.__r?r.properties.__r:1,s=r.properties.__symbol;if(s){var l;let t=r.properties.__symbolProps,n="y"===t.scale?a:Math.pow(a/u.k,2)*Math.PI;"_angle"in r.properties&&e.rotate(r.properties._angle*Math.PI/180),"y"===t.scale&&e.scale(1/u.k,1/u.k),s.draw(e,n,"arrow"===s.name&&null!=(l=o.lineWidth)?l:0),t.fill&&e.closePath()}e.restore()}else h(r);if(e.strokeStyle=o.stroke?o.stroke:null,o.fill&&(e.fillStyle=o.fill,e.fill()),"Point"!==a.type&&o.pattern&&"none"!==o.pattern.type){let{gap:t,width:n,opacity:r,color:a}=o.pattern,l=[o.pattern.type,t,n,r,a].join("/"),s={horizontal:90,vertical:0,"diagonal-down":-45,"diagonal-up":45}[o.pattern.type];if(!p.has(l)){let e=document.createElement("canvas"),a=e.getContext("2d"),s=t+n;e.width=s*i,e.height=s*i,a.scale(i,i),a.strokeStyle=o.pattern.color,a.lineWidth=n,a.globalAlpha=r/100,a.translate(s/2,s/2),a.moveTo(0,-20),a.lineTo(0,20),a.stroke(),p.set(l,e)}let c=e.createPattern(p.get(l),"repeat");c.setTransform(new DOMMatrix().rotate(s).scale(1/u.k/i,1/u.k/i)),e.fillStyle=c,e.fill()}o.stroke&&(e.lineWidth=(o.lineWidth||1)/u.k,e.strokeStyle=o.stroke,e.setLineDash(o.dash?o.dash.map(e=>e/u.k):[]),e.stroke())}}),e.globalCompositeOperation="source-over",e.font=f,e.textAlign="center",e.textBaseline="middle",r.forEach(r=>{let o="Feature"===r.type?r.geometry:r;if(o&&"Point"===o.type&&r.properties.__label){e.fillStyle=("function"==typeof t.style?t.style(r):t.style).labelFill||"#000000";let o=r.properties.__projCache;if(!o)return;let i=n(o);if(e.save(),"marker"===r.properties.__symbolProps.id){let t=.85*(void 0!==r.properties.__r?r.properties.__r:1)/u.k;e.translate(i[0],i[1]-t)}else e.translate(i[0],i[1]);e.fillText(r.properties.__label,0,0),e.restore()}})}),e.restore(),n.log()}({context:B,getZoom:eM,proj:J,mapProj:Z,width:m,height:v,canvasScale:N,canvasLayers:F,theme:f,vis:u})}function eM(){return ey&&void 0!==ey.zoomBehavior&&!1!==ey.zoomBehavior?aT(z.node()):aA}if(e&&ex&&e.layer.onUpdate(()=>{let{editorState:e}=ex.get(),t=JSON.stringify(cg(e,"internalProps",""));cg(e,"selectedTextAnnotations",[]).length&&t!==e_&&ew(),e_=t}),u.get("zoomable",!1)){ey.zoomBehavior=(function(){var e,t,n=aN,r=aC,o=aR,i=aP,a=aD,l=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,c=iO,d=iu("start","zoom","end"),f=0;function p(e){e.property("__zoom",aL).on("wheel.zoom",x).on("mousedown.zoom",_).on("dblclick.zoom",w).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new a$(t,e.x,e.y)}function g(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new a$(e.k,r,o)}function m(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function v(e,t,n){e.on("start.zoom",function(){y(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).end()}).tween("zoom",function(){var e=arguments,o=y(this,e),i=r.apply(this,e),a=null==n?m(i):"function"==typeof n?n.apply(this,e):n,l=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),s=this.__zoom,u="function"==typeof t?t.apply(this,e):t,d=c(s.invert(a).concat(l/s.k),u.invert(a).concat(l/u.k));return function(e){if(1===e)e=u;else{var t=d(e),n=l/t[2];e=new a$(n,a[0]-t[0]*n,a[1]-t[1]*n)}o.zoom(null,e)}})}function y(e,t,n){return!n&&e.__zooming||new b(e,t)}function b(e,t){this.that=e,this.args=t,this.active=0,this.extent=r.apply(e,t),this.taps=0}function x(){if(n.apply(this,arguments)){var e=y(this,arguments),t=this.__zoom,r=Math.max(l[0],Math.min(l[1],t.k*Math.pow(2,i.apply(this,arguments)))),a=rR(this);if(e.wheel)(e.mouse[0][0]!==a[0]||e.mouse[0][1]!==a[1])&&(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],am(this),e.start()}aO(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},150),e.zoom("mouse",o(g(h(t,r),e.mouse[0],e.mouse[1]),e.extent,s))}}function _(){if(!t&&n.apply(this,arguments)){var e,r,i,a=y(this,arguments,!0),l=rL(rS.view).on("mousemove.zoom",function(){if(aO(),!a.moved){var e=rS.clientX-c,t=rS.clientY-d;a.moved=e*e+t*t>f}a.zoom("mouse",o(g(a.that.__zoom,a.mouse[0]=rR(a.that),a.mouse[1]),a.extent,s))},!0).on("mouseup.zoom",function(){var e,t,n,r;l.on("mousemove.zoom mouseup.zoom",null),e=rS.view,t=a.moved,n=e.document.documentElement,r=rL(e).on("dragstart.drag",null),t&&(r.on("click.drag",ip,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect),aO(),a.end()},!0),u=rR(this),c=rS.clientX,d=rS.clientY;r=(e=rS.view).document.documentElement,i=rL(e).on("dragstart.drag",ip,!0),"onselectstart"in r?i.on("selectstart.drag",ip,!0):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none"),az(),a.mouse=[u,this.__zoom.invert(u)],am(this),a.start()}}function w(){if(n.apply(this,arguments)){var e=this.__zoom,t=rR(this),i=e.invert(t),a=e.k*(rS.shiftKey?.5:2),l=o(g(h(e,a),t,i),r.apply(this,arguments),s);aO(),u>0?rL(this).transition().duration(u).call(v,l,t):rL(this).call(p.transform,l)}}function k(){if(n.apply(this,arguments)){var t,r,o,i,a=rS.touches,l=a.length,s=y(this,arguments,rS.changedTouches.length===l);for(az(),r=0;r<l;++r)o=a[r],i=[i=rI(this,a,o.identifier),this.__zoom.invert(i),o.identifier],s.touch0?s.touch1||s.touch0[2]===i[2]||(s.touch1=i,s.taps=0):(s.touch0=i,t=!0,s.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(s.taps<2&&(e=setTimeout(function(){e=null},500)),am(this),s.start())}}function M(){if(this.__zooming){var t,n,r,i,a=y(this,arguments),l=rS.changedTouches,u=l.length;for(aO(),e&&(e=clearTimeout(e)),a.taps=0,t=0;t<u;++t)n=l[t],r=rI(this,l,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],d=a.touch0[1],f=a.touch1[0],p=a.touch1[1],m=(m=f[0]-c[0])*m+(m=f[1]-c[1])*m,v=(v=p[0]-d[0])*v+(v=p[1]-d[1])*v;n=h(n,Math.sqrt(m/v)),r=[(c[0]+f[0])/2,(c[1]+f[1])/2],i=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",o(g(n,r,i),a.extent,s))}}function j(){if(this.__zooming){var e,n,r=y(this,arguments),o=rS.changedTouches,i=o.length;for(az(),t&&clearTimeout(t),t=setTimeout(function(){t=null},500),e=0;e<i;++e)n=o[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=rL(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property("__zoom",aL),e!==r?v(e,t,n):r.interrupt().each(function(){y(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},p.scaleBy=function(e,t,n){p.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n)},p.scaleTo=function(e,t,n){p.transform(e,function(){var e=r.apply(this,arguments),i=this.__zoom,a=null==n?m(e):"function"==typeof n?n.apply(this,arguments):n,l=i.invert(a),u="function"==typeof t?t.apply(this,arguments):t;return o(g(h(i,u),a,l),e,s)},n)},p.translateBy=function(e,t,n){p.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),s)})},p.translateTo=function(e,t,n,i){p.transform(e,function(){var e=r.apply(this,arguments),a=this.__zoom,l=null==i?m(e):"function"==typeof i?i.apply(this,arguments):i;return o(aA.translate(l[0],l[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,s)},i)},b.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){!function(e,t,n,r){var o=rS;e.sourceEvent=rS,rS=e;try{return t.apply(n,r)}finally{rS=o}}(new aE(p,e,this.that.__zoom),d.apply,d,[e,this.that,this.args])}},p.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:aS(+e),p):i},p.filter=function(e){return arguments.length?(n="function"==typeof e?e:aS(!!e),p):n},p.touchable=function(e){return arguments.length?(a="function"==typeof e?e:aS(!!e),p):a},p.extent=function(e){return arguments.length?(r="function"==typeof e?e:aS([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),p):r},p.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],p):[l[0],l[1]]},p.translateExtent=function(e){return arguments.length?(s[0][0]=+e[0][0],s[1][0]=+e[1][0],s[0][1]=+e[0][1],s[1][1]=+e[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(e){return arguments.length?(o=e,p):o},p.duration=function(e){return arguments.length?(u=+e,p):u},p.interpolate=function(e){return arguments.length?(c=e,p):c},p.on=function(){var e=d.on.apply(d,arguments);return e===d?p:e},p.clickDistance=function(e){return arguments.length?(f=(e*=1)*e,p):Math.sqrt(f)},p})().scaleExtent([1,l.maxZoom]).extent(ey.fitExtent).translateExtent(ey.fitExtent).filter(()=>{let e="wheel"===rS.type&&!rS.ctrlKey,t=rS.touches&&1===rS.touches.length;return!rS.button&&!e&&!t}).on("zoom",eE),z.call(ey.zoomBehavior).style("touch-action","auto");let e={in:"M1,5 h4 v-4 h2 v4 h4 v2 h-4 v4 h-2 v-4 h-4 v-2 Z",out:"M1,5 h10 v2 h-10 v-2 Z",home:"M0,2h2v-2h2v4h-4v-2Z M0,8h4v4h-2v-2h-2v-2z M8,0h2v2h2v2h-4v-4z M8,8h4v2h-2v2h-2v-4z"},t=u.get("zoom-button-pos","br");A.select(".map-outer").append(`div.zoom-buttons.zoom-buttons-${t}`).attr("aria-label",u.chart().translate("accessibility / d3-maps / zoom-controls")).selectAll(".zoom-btn").data("b"===t.charAt(0)?["home","in","out"]:["in","out","home"]).enter().append("button").attr("aria-label",e=>u.chart().translate(`accessibility / d3-maps / zoom / ${e}`)).attr("class",e=>`zoom-btn zoom-btn-${e}`).on("click",e$).append("svg").attr("aria-hidden",!0).at({width:12,height:12}).append("path").attr("d",t=>e[t]),k&&M&&(u.zoomMap=()=>{let e=z.transition().duration(500),t=Math.max(ey.insetMap.minZoom);ey.zoomBehavior.scaleTo(e,t)}),A.on("keypress",()=>{rS.target.classList.contains("zoom-btn")&&["Enter"," "].includes(rS.key)&&(1!==eM().k||L||(L=A.append("div.pan-keyboard-hint").attr("aria-hidden",!0).append("div.hint").html(u.chart().translate("d3-maps / pan-hint").replace("%KEYS%",'<span class="kbd-group"><kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd></span>')),P=setTimeout(eg,eh?3e3:6e3),eh=!0));let e=rS.key.toLowerCase();if("wasd".includes(e)){let n=eM();if(eg(),n.k>1){var t;ey.zoomBehavior.translateBy(z,("a"===e?100:"d"===e?-100:0)/n.k,("w"===e?100:"s"===e?-100:0)/n.k),null==(t=ey.featureFocus)||t.outlineFeature()}}}),eE(!0)}else eE();function ej(r){if(y=+u.get("max-map-height",650),u.size(r[0],r[1]),m=r[0],v=r[1]-g,x){let e=o.querySelector(".annotation-keys"),t=e?function(e,t=!1){if(!e)return null;let n=e.offsetHeight;if(!t)return n;let r=getComputedStyle(e),o=parseInt(r.marginTop)+parseInt(r.marginBottom);return n+(t?o:0)}(e,!0):0,n=Array.from(o.querySelectorAll('.legend-container[data-position="above"], .legend-container[data-position="below"]')).reduce((e,t)=>e+t.offsetHeight,0);n>0&&(n+=5),v-=n+t}ey.updateFitExtent(),v=ey.height,ey.zoomBehavior&&ey.zoomBehavior.extent(ey.fitExtent).translateExtent(ey.fitExtent),O?(O.at({width:m*N,height:v*N}).st({width:m,height:v}),ek()):z.selectAll("path.geo").attr("d",e=>ei(e)),z.at({width:m,height:v}),el.attr("width",m).attr("height",v),ey.sizeTooltip=eO(r),O?ey.data.forEach(e=>{e.anchor=ez(e)}):eu.selectAll("g.region").each(e=>e.anchor=ez(e));let i=eN(),a=eC();e&&(t.dataToPx=i,t.pxToData=a,t.visWidth=m,t.theme=u.theme(),t.cm=u.colorMap(),n.dataToPx=i,n.theme=u.theme()),eT()}function eS(e){if(!ey.insetMap.instance)return;let t=ey.insetMap.instance,n=ey.insetMap.type,[r,o]=ey.fitExtent,[i,a]=ey.offset,l=ey.extentPadding,s="region"===n||"crop"===u.get("mapView","full")?l:{left:0,right:0,top:0,bottom:0},c={left:(r[0]-s.left-e.x-i)/e.k,top:(r[1]-s.top-e.y-a)/e.k,right:(o[0]+s.right-e.x+i)/e.k,bottom:(o[1]+s.bottom-e.y+a)/e.k},d=[[c.left,c.top],[c.right,c.top],[c.right,c.bottom],[c.left,c.bottom]].map(e=>{let t=J.invert(e);return"globe"===n&&(t=Z.invert(t)),{lng:t[0],lat:t[1]}});if("region"===ey.insetMap.type)t.setView(d);else{let e=[(c.right-c.left)/2+c.left,(c.bottom-c.top)/2+c.top],n=Z.invert(J.invert(e));t.render(ey.insetMap.target,{viewPoints:d,center:n})}}return s(ey);function eE(r){let o=rS&&rS.transform&&!r?rS.transform:{k:1,x:0,y:0};A.classed("d3-maps-zoomed-in",o.k>1),A.select(".zoom-btn-out").attr("disabled",1===o.k||null),A.select(".zoom-btn-in").attr("disabled",o.k===l.maxZoom||null),1===o.k&&eg(),b||A.classed("inset-map-show",ey.insetMap.instance&&o.k>=ey.insetMap.minZoom),eT();let i=eN(),a=eC();e&&(t.dataToPx=i,t.pxToData=a,n.dataToPx=i),eS(o),C&&C(o.k,[o.x,o.y]),k&&M&&j("map.zoom",dp(o))}function e$(e){return eA.apply(this,arguments)}function eA(){return(eA=td(function*(e){if(b&&b.direction===e){b.repeat=!0;return}let t=z.transition().duration(500),n=1;if("home"===e)ey.zoomBehavior.transform(t,aA);else{var r;let o=(r=eM().k*Math.pow(2,+("in"===e?1:-1)),Math.max(1,Math.min(l.maxZoom,r)));1e-4>Math.abs(o-1)?ey.zoomBehavior.transform(t,aA):(ey.zoomBehavior.scaleTo(t,o),n=o)}if(setTimeout(()=>{A.classed("inset-map-show",n>=ey.insetMap.minZoom)},250),b={direction:e,repeat:!1},yield t.end(),!1!==b){let{direction:e,repeat:t}=b;b=!1,t&&(yield e$(e))}})).apply(this,arguments)}function eT(){let e=eM(),t=ey.scale=e.k;O&&J.areaThreshold(t===l.maxZoom?0:1/Math.pow(t,1.5)/Math.pow(Math.min(600,m)/600,2));let n=(.45+.25*Math.pow(Math.min(1,t-1),.5))/t,r=q.filter(e=>"border"===e.type);O&&ek(),ea.attr("transform",e),r.forEach(({id:e,selection:t,style:r})=>{if((l[e]||"outlines"===e)&&t.style("stroke-width",n*r.lineWidth+"px"),r.strokeDasharray){let e=r.strokeDasharray.split(",").map(e=>Number(e)*n);t.style("stroke-dasharray",e.join(","))}});let o=ef.length;for(let e=0;e<o;e++)ef[e].feat.attr("transform",i);function i(e){let n=`translate(${e.anchor}) scale(${1/t})`;return"_angle"in e?`${n} rotate(${e._angle})`:n}}function ez(e){if(void 0===e.properties.cx||void 0===e.properties.cy)return ei.centroid(e);let t=Z([e.properties.cx,e.properties.cy]);return t?J(t):ei.centroid(e)}function eO(e){let t="rtl"===u.textDirection;return(n,r,i)=>{if(e[0]<400){let t=n[1]/e[1],r=!0===u.__chart.get("metadata.describe.hide-title")||""===u.__chart.get("metadata.describe.intro")&&""===u.__chart.get("title"),a=!o.classList.contains("content-below-chart");i.st({top:t<.5?"auto":r?"0px":"-20px",bottom:t<.5?a?"0px":"-20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*e[1]+"px"})}else{let o=i.property("offsetWidth"),a=i.property("offsetHeight"),l=r.offsetWidth,s=r.offsetHeight,u=t?n[0]-o-10<0:n[0]+10+o<l,c=n[1]+10+a<s;i.st({top:c?n[1]-10+"px":"auto",bottom:c?"auto":Math.min(s-a,s-n[1]+10)+"px",left:u?n[0]+10+"px":"auto",right:u?"auto":l-n[0]+10+"px","max-height":.55*e[1]+"px"}),i.style("max-width",null)}}}function eN(){let e;return({position:{x:t,y:n}})=>{let r=e||[20,20];if(Math.abs(t)>180||Math.abs(n)>90)return r;let o=Z([t,n]);if(!o)return r;let[i,a]=o,[l,s]=J([i,a]),[u,c]=eM().apply([l,s]);return e=[u,c].map(e=>isNaN(+e)?void 0:+e.toFixed(1))}}function eC(){return({x:e,y:t})=>{let[n,r]=eM().invert([e,t]),[o,i]=J.invert([n,r]),a=Z.invert([o,i]);return{position:{x:a[0],y:a[1]}}}}}(p.content,p.meta,l,A,O,T,z)}else setTimeout(()=>location.reload(),2e3);function S({projection:e,pixelPadding:t=0,featuresToFit:n,verticalShift:r=0}){return wQ({projection:e,pixelPadding:t,percentPadding:h,featuresToFit:n,width:m,height:x?v||50:y,fitHeight:x,alignment:u.get("map-align","center"),verticalShift:r})}function E(){return u.theme().colors.background}function $(e){return oD(e).l<50}},_svgCanvas(){return this.svg},getFormat(e,t,n){let r=e=>{let t,n={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"};return Object.prototype.hasOwnProperty.call(n,e)?n[e]:e};if(!t)return kf.default;let o=this,i=o.get(e,n),a=i.indexOf("%")>-1,{numeral:l}=o.libraries(),s="number"===t.type()?e=>l(a?.01*e:e).format(r(i)):"date"===t.type()?t=>moment(t).format(o.get(e)||"YYYY"):kf.default;return e=>"date"===t.type()?(0,kp.default)(e)?s(e):e:s(e)},getColorScale(e){let t=this.dataset,n=this.axes(!0).values,r=n.type(),o=this.get(e+".colors",function(e){let t=[{c:"#fff",p:0},{c:"#000",p:1}],n=e.theme(),r=n.colors?n.colors.gradients:null;if(!r)return t;let o=r[0];return o&&(0,kh.default)(o[0])&&!(o.length<2)?o.map((e,t)=>({c:e,p:t/(o.length-1)})):t}(this)),i=this.get(e+".stops",function(e,t){let n=[{p:0,v:0},{p:1,v:1}],r=t.name();if(!r)return n;let o=e.column(r).range();return o?[{p:0,v:o[0]},{p:1,v:o[1]}]:n}(t,n));if(window.ds=t,"number"===r){let e=il().range(i.map(aH("p"))).domain(i.map(aH("v"))),t=il().clamp(!0).domain(o.map(aH("p"))).range(o.map(aH("c")));return aH(e,t)}{let e=(0,kg.default)(n.values()).filter(kf.default);return o=this.__categoryColors=function(e,t,n){let r=aW(e),o=[].concat(n.colors.palette).concat(n.colors.secondary).filter(e=>0>r.indexOf(e)),i=Object.assign({},e);return t.forEach(e=>{if(!i[e]){let t=o.shift();i[e]=t}}),i}(this.get("categories",{}),e,this.theme()),(function e(){var t=new iH,n=[],r=[],o=r9;function i(e){let i=t.get(e);if(void 0===i){if(o!==r9)return o;t.set(e,i=n.push(e)-1)}return r[i%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();for(let r of(n=[],t=new iH,e))t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},r6.apply(i,arguments),i})().domain(function(e){var t=[];for(var n in e)t.push(n);return t}(o)).range(aW(o))}}}},...dw.visualization.hasVisHash?["33acae1d","%%0ab6dd6d%%".slice(2,-2)]:[]),dw.visualization.register("d3-maps-choropleth",Mk,function(){let e,t,n,r,o,i,a,l,s,u={},c=!1,d={},f=["zoomable","zoom-button-pos","mapView","hide-empty-regions"],p=new Map,h=new Map;return{render:function(g){let m=this,v=m.chart(),y=m.theme(),b=m.size(),x=m.dataset.list(),_=v.getMetadata("data.column-format",{}),w=v.flags(),k="rtl"===m.textDirection;!function(e,{visualize:t={},data:n={},axes:r={}},o){var i,a,l;let s="marker"===t["symbol-shape"];if(t["max-radius"]&&(t["max-size"]=t["max-radius"]*(s?1.5:2),delete t["max-radius"]),t["fixed-radius"]&&(t["fixed-size"]=t["fixed-radius"]*(s?1.5:2),delete t["fixed-radius"]),(null==(i=t.clustering)?void 0:i.radius)&&(t.clustering.size=t.clustering.radius*(s?1.5:2),delete t.clustering.radius),t.gradient||t.categories){let e={mode:"continuous",stops:"quantiles",interpolation:"equidistant",colors:[],rangeMin:"",rangeMax:"",rangeCenter:"",stopCount:5,palette:0,categoryOrder:[],categoryLabels:{},map:{}};if(t.categories&&(e.map=t.categories,delete t.categories),t.gradient){let n=t.gradient;if(n.colors&&(e.colors=n.colors.map(({c:e,p:t})=>({color:e,position:t}))),n.stops){let t=n.stops.filter(e=>0===e.p)[0];t&&(e.rangeMin=t.v);let r=n.stops.filter(e=>1===e.p)[0];if(r&&(e.rangeMax=r.v),3===n.stops.length){let t=n.stops.filter(e=>.03>Math.abs(e.p-.5))[0];t&&(e.rangeCenter=t.v),e.interpolation="quantiles-3"}else n.stops.length>3&&(e.interpolation=n.stops.length<6?"quantiles-5":"quantiles-6")}}t.colorscale=e,delete t.gradient}if(t.colorscale&&!t.colorscale.customStops&&(t.colorscale.customStops=["","","","","","","",""]),t.legend&&!t.legend.hideItems&&(t.legend.hideItems=[]),t.tooltip&&void 0===t.tooltip.enabled){let e={enabled:!1,sticky:!0,body:"",title:""};if(t.tooltip){let{title:n,body:r,fields:o}=t.tooltip;(n||r)&&(e.body=o?M_(r||"",o):r||"",e.title=o?M_(n||"",o):n||"",e.migrated=!0,e.enabled=!0)}t.tooltip=e}if(void 0===t["min-label-zoom"]&&t["map-key-position"]&&(t["min-label-zoom"]=1.5),t["map-key-position"]){let n="d3-maps-choropleth"===e?"hidden"!==t["map-key-position"]||!1===t["map-key-auto"]&&""===t["map-key-stops"]:!1!==t["show-map-key"];t.legend={enabled:n,orientation:"vertical",position:n?t["map-key-position"]:"mt",title:t["map-key-title"]||"",labelFormat:({"0,0.[00]":"0,0.[00]",f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".2%":"0.00%",".0s":"0a",".1s":"0.0a",".2s":"0.00a",".3s":"0.000a"})[l=t["map-key-format"]]||l,size:100,offsetY:0,offsetX:0,labels:"ranges",reverse:!1,interactive:!1},delete t["map-key-position"],delete t["map-key-title"],delete t["map-key-format"],delete t["map-key-position"]}if(void 0===t["zoom-button-pos"]&&(t["zoom-button-pos"]="inside-right-bottom"===cg(t,"legends.color.position")?"tr":"br"),t["cluster-symbols"]){let e=["noverlap","hexbin"].includes(t["cluster-symbols"]);t.clustering={enabled:e,type:e?t["cluster-symbols"]:"noverlap",showCount:cg(t,"cluster-count",!0),gridSize:cg(t,"hexbin-gridsize",15),aggregation:cg(t,"cluster-aggregation","none"),radius:cg(t,"cluster-radius",9),iterations:cg(t,"iterations",1),tolerance:cg(t,"tolerance",0),color:cg(t,"cluster-color",0)},delete t["cluster-color"],delete t["cluster-symbols"],delete t["cluster-count"],delete t["hexbin-gridsize"],delete t["cluster-aggregation"],delete t["cluster-radius"],delete t.iterations,delete t.tolerance}if(null===cg(t,"clustering.aggregationColor")&&cg(t,"clustering.aggregationColor",cg(t,"cluster-aggregation","none")),t["cluster-tooltip"]){let{title:e,body:n,fields:r}=cg(t,"cluster-tooltip",{});t.clusterTooltip=(e||n)&&r?{enabled:!0,sticky:!0,title:M_(e||"",r),body:M_(n||"",r),migrated:!0}:{enabled:e||n,sticky:!0,title:e||"",body:n||""},delete t["cluster-tooltip"]}if(t["map-align"]||(t["map-align"]="center"),o&&r&&!o.hasColumn(r.values)&&delete r.values,r.values&&t["map-key-stops"]&&"number"===o.column(r.values).type()){let e={},i=o.column(r.values).values(),a=!0;t["map-key-stops"].split("\n").forEach(t=>{let n=t.split(",");e[n[0]]=n[1]});for(let t=0;t<i.length;t++)if("number"==typeof i[t]&&isFinite(i[t])&&void 0===e[i[t]]){a=!1;break}if(a){n["column-format"][r.values]||(n["column-format"][r.values]={}),n["column-format"][r.values].type="text";let o=Mm({values:i,mode:"continuous",colors:t.colorscale.colors,stops:t.colorscale.interpolation.split("-")[0],stopCount:+(t.colorscale.interpolation.split("-")[1]||5),rangeMin:t.colorscale.rangeMin,rangeCenter:t.colorscale.rangeCenter,rangeMax:t.colorscale.rangeMax});for(let n in t.colorscale.map={},e)void 0!==n&&""!==n&&(t.colorscale.map[n]=o(Number(n)),t.colorscale.categoryLabels[n]=e[n],t.colorscale.categoryOrder.push(n))}delete t["map-key-stops"]}if(void 0===t["text-annotations"]&&(t["text-annotations"]=[]),void 0===t.labels){let e=!!r.labels;t.labels={},t.labels.enabled=e,t.labels.type=e?"column":"places",t.labels.places=[],t.labels.max=1}if("legends"in t||(t.legends={color:t.legend||{}},t.legends.color.position&&(t.legends.color.position=x_[t.legends.color.position]||"above"),delete t.legend),"number"==typeof cg(t,"legends.color.offsetLeft")&&(t.legends.color.offsetX=t.legends.color.offsetLeft,delete t.legends.color.offsetLeft),"number"==typeof cg(t,"legends.color.offsetTop")&&(t.legends.color.offsetY=t.legends.color.offsetTop,delete t.legends.color.offsetTop),"d3-maps-symbols"!==e||"size"in t.legends||(t.legends.size={enabled:!1,position:"above",type:"stacked",valuesSetting:"auto",values:null,titleEnabled:!0,title:null,titlePosition:"left",titleWidth:200,labelFormat:"auto",labelPosition:"right",offsetX:0,offsetY:0}),"d3-maps-choropleth"!==e||"mapView"in t||(t["hide-empty-regions"]?(t.mapView="crop",t.mapViewCropPadding=t["map-padding"]):t.mapView="full"),(null==t||null==(a=t.legends)?void 0:a.color)&&!("titleEnabled"in t.legends.color)){let e=t.legends.color.showTitle,n="boolean"==typeof e?e:!!t.legends.color.title;t.legends.color.titleEnabled=n,delete t.legends.color.showTitle}void 0!==t["text-annotations"]&&t["text-annotations"].forEach(e=>{void 0===e.position&&(e.position={}),void 0===e.position.x&&void 0!==e.x&&(e.position.x=e.x,delete e.x),void 0===e.position.y&&void 0!==e.y&&(e.position.y=e.y,delete e.y),void 0===e.position.plot&&void 0!==e.plot&&(e.position.plot=e.plot,delete e.plot)})}(v.get("type"),v.get("metadata"),m.dataset),function(e,{visualize:t={}},n={}){"d3-maps-choropleth"===e&&t.tooltip&&(n.keys&&(t.tooltip.title=String(t.tooltip.title).replace("%REGION_NAME%",`{{ ${kb(n.keys)} }}`)),n.values&&(t.tooltip.body=String(t.tooltip.body).replace("%REGION_VALUE%",`{{ ${kb(n.values)} }}`)))}(v.get("type"),v.get("metadata"),m.axes()),this.chart().dataset(!0);let M=m.get("zoomable",!0)||m.get("highlighted-series",[]).length>0?m.get("min-label-zoom",1):1,j=m.get("avoid-label-overlap",!0),S=m.axes(),E=v.createPostEvent(),$=!t||t!==m.get("basemap","bl");if($||f.forEach(e=>{void 0!==d[e]&&d[e]!==m.get(e)&&($=!0)}),$)f.forEach(e=>{d[e]=m.get(e)}),n=m.size(),r=m.get("max-map-height"),o=m.get("map-align","center"),g.innerHTML="",t=m.get("basemap","bl"),m.initBaseMap(g,t,w,function(t){(e=t).svgLayers.forEach(({id:e,selection:t})=>{h.set(e,t)}),e.canvasLayers.forEach(({id:e,style:t,features:n})=>{p.set(e,{style:t,features:n})}),e.highlight=t=>{(m.get("legends.color.interactive")||m.get("legends.pattern.interactive"))&&(l=t,e.canvas?e.draw():h.get("region").style("opacity",function(e){return!l||T(e)?1:.1}))},s=function({cont:e,vis:t}){let n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),a="",l="",s="",u={color:!1,size:!1,pattern:!1},c=[],d={updateNodePositions:function({width:f,theme:p,rtl:h}){var g;c.filter(({node:e})=>e.parentNode).forEach(({node:e})=>{e.removeAttribute("style"),e.className="",delete e.dataset.position,e.parentNode.removeChild(e)});let m=f<450,v=cg(p,"vis.base.legend.container.outsideChart.position",m?"below":"above");u.color=function(e){let t=e.get("legends.color.enabled",!0);if("d3-maps-choropleth"===e.id)return t;let n="arrow"===e.get("symbol-shape","circle");return e.axes().values&&t&&!n}(t),u.size=function(e){if("d3-maps-symbols"!==e.id)return!1;let t="arrow"===e.get("symbol-shape","circle");return e.get("legends.size.enabled")&&(t||e.axes().area)}(t),u.pattern="d3-maps-choropleth"===(g=t).id&&!!Mx(g).length;let y=e=>{let n=t.get(`legends.${e}.position`,v);return m&&n.includes("inside")&&(n=v),n};l=y("size"),a=y("color"),s=u.color&&t.get("legends.pattern.useColorLegendPosition",!0)?a:y("pattern");let b=[{type:"color",position:a},{type:"size",position:l},{type:"pattern",position:s}].filter(({type:e})=>!!u[e]),x=b.length>1&&!b.some(({position:e})=>e!==b[0].position);x&&b.forEach(({type:e})=>{let{node:t}=d[`${e}Legend`]();t.classList.add(`${e}-legend-container`),i.appendChild(t)}),c=[{name:"combined",node:i,position:a,enabled:x,xOffset:t.get("legends.color.offsetX",t.get("legends.size.offsetX",0)),yOffset:t.get("legends.color.offsetY",t.get("legends.size.offsetY",0))},{name:"category",node:n,position:a,enabled:!x&&u.color,xOffset:t.get("legends.color.offsetX",0),yOffset:t.get("legends.color.offsetY",0)},{name:"size",node:r,position:l,enabled:!x&&u.size,xOffset:t.get("legends.size.offsetX",0),yOffset:t.get("legends.size.offsetY",0)},{name:"pattern",node:o,position:s,enabled:!x&&u.pattern,xOffset:t.get("legends.pattern.offsetX",0),yOffset:t.get("legends.pattern.offsetY",0)}].filter(e=>e.enabled),i.className="legend-combined",i.classList.add(t.get("legends.combined.orientation","horizontal")),c.forEach(e=>{e.node.classList.add("legend-container"),e.node.dataset.position=e.position,cg(p,"vis.base.legend.container.outsideChart.center")&&!e.position.includes("inside")&&e.node.classList.add("align-center")}),c.filter(({position:e})=>e.includes("inside")).forEach(({node:e,position:t,xOffset:n,yOffset:r})=>{let o=t.split("-"),i=o[1],a=o[2];h&&("left"===i?i="right":"right"===i&&(i="left")),"center"!==i&&(e.style[i]=`${n}%`),e.style[a]=`${r}%`}),c.forEach(({node:t,position:n})=>{n.includes("inside")?e.querySelector(".map-outer").appendChild(t):"below"===n?e.appendChild(t):e.prepend(t)})},verticallyAlignCombinedLegend:function(){let e=[d.colorLegend(),d.patternLegend()];e.forEach(e=>e.node.style.marginTop=null);let n=t.get("legends.combined.orientation","horizontal");if(2!==e.filter(e=>e.enabled).length||e[0].position!==e[1].position||"horizontal"!==n||e[0].node.offsetTop!==e[1].node.offsetTop)return;let r=e.map(e=>t.chart().getElementBounds(e.node.querySelector(".legend-color:not(.buffer)")).top),o=r[0]!==r[1]&&e[+(r[0]>r[1])];if(o){let e=Math.abs(r[1]-r[0]);o.node.style.marginTop=`${e}px`}},colorLegend:()=>({node:n,enabled:u.color,position:a}),sizeLegend:()=>({node:r,enabled:u.size,position:l}),patternLegend:()=>({node:o,enabled:u.pattern,position:s}),node:()=>i};return d}({cont:g,vis:m}),A(),m.renderingComplete()});else{if(e.svg){let t=m.size(),i=m.get("max-map-height"),a=m.get("map-align","center");(n[0]!==t[0]||n[1]!==t[1]||i!==r||a!==o)&&(n=t,r=i,o=a,e.resizeMap(t)),A()}m.renderingComplete()}function A(){let t,n=[],r=m.colorMap(),o=m.get("highlighted-series");if(e.setThemeStyles(),e.setLayerThemeStyles(m.theme()),"crop"===m.get("mapView","full")?e.setUserPadding(m.get("mapViewCropPadding",0)/100):e.setUserPadding(m.get("map-padding",0)/100),!e.data)return;e.clearZoomLayer();let d=m.get("map-key-attr",function(){let e=JSON.parse(m.chart().asset(`${m.get("basemap")}.json`)),t=e.meta.keys?e.meta.keys:null;if(!t)return"id";let n=t[0]?t[0].value:null;return n||"id"}()),f=e.meta.keys,w=f.find(e=>e.value===d)||f[0],$=void 0===w.alphanum||w.alphanum?kv:ky,A=new Map(x.map(e=>[$(e[S.keys]),e]));e.data.forEach(e=>{e.data=A.get($(e.properties[w.value])),e.data&&n.push(e.data)});let z=n.map(aH(S.values)),O=function({column:e,vis:t,values:n,theme:r,cm:o}){let i="arrow"===t.get("symbol-shape","circle");if(e&&!i)return"text"===e.type()?function({theme:e,vis:t,cm:n,values:r}){let o=cg(e,"colors.categories.0",["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]),i=Object.fromEntries(Object.entries(t.get("colorscale.map",{})).map(([e,t])=>[e,n(t)])),a=t.get("colorscale.palette",0);return Mm({mode:"categories",palette:cg(e,"colors.categories",[o])[Number.isFinite(a)?a:0].map(e=>n(e,{noInvert:!0})),values:r,map:i,categoryOrder:t.get("colorscale.categoryOrder",[]),fallback:n(t.darkMode()?w7:w8,{noInvert:!0})})}({theme:r,vis:t,cm:o,values:n}):function({theme:e,vis:t,cm:n,values:r}){let o=cg(e,"colors.gradients.0",["#f0f9e8","#b6e3bb","#75c8c5","#4ba8c9","#2989bd","#0a6aad","#254b8c"]),i=o.map((e,t)=>({color:e,position:t/(o.length-1)})),a=e=>e.join(",").toLowerCase(),l=dp(t.get("colorscale.colors",i)),s=a(l.map(e=>e.color)),u=!1;if(t.get("dark-mode-invert",!0)&&cg(e,"_computed.origGradients")){let t=e._computed.origGradients.findIndex(e=>s===a(e)||s===a(e.slice().reverse()));if(t>-1){let n=e._computed.origGradients[t],r=cg(e,"colors.gradients",[])[t];if(n.length===r.length){u=!0;let n=s!==a(e._computed.origGradients[t]);for(let e=0;e<l.length;e++)l[e].color=r[n?l.length-e-1:e]}}}let c=l.map(({color:e,position:t})=>({color:n(e,{noInvert:u}),position:t}));if("discrete"===t.get("colorscale.mode","continuous")){let e=t.get("colorscale.stopCount",14),n=dp("custom"===t.get("colorscale.stops")?t.get("colorscale.customStops",[]):null);if(Array.isArray(n)){let t=1/0,o=-1/0;for(let e=r.length-1;e>=0;e--)r[e]<t&&(t=r[e]),r[e]>o&&(o=r[e]);let i=(n=n.slice(1,e).map(e=>+e))[n.length-1];n=[Math.min(t,n[0]),...n,Math.max(o,i)]}return Mm({values:r,mode:"discrete",colors:c,stops:t.get("colorscale.stops","equidistant"),customStops:n,stopCount:e,rangeMin:t.get("colorscale.rangeMin"),rangeCenter:t.get("colorscale.rangeCenter"),rangeMax:t.get("colorscale.rangeMax"),fallback:t.darkMode()?w7:w8})}return Mm({values:r,mode:"continuous",colors:c,stops:t.get("colorscale.interpolation","equidistant").split("-")[0],stopCount:+(t.get("colorscale.interpolation","equidistant").split("-")[1]||5),rangeMin:t.get("colorscale.rangeMin"),rangeCenter:t.get("colorscale.rangeCenter"),rangeMax:t.get("colorscale.rangeMax"),fallback:t.darkMode()?w7:w8})}({theme:r,vis:t,cm:o,values:n});{let e=o(My(t.get("symbol-color",0),r));if(!i)return()=>e;{let n=o(My(t.get("symbol-color-negative",cg(r,"colors.negative","#E31A1C")),r));return t=>t<0?n:e}}}({vis:m,theme:y,column:m.axes(!0).values,values:z,cm:r}),N=e.regionFill,C=function(e){let t=e.axes(!0),n=e.libraries().numeral,r=e.axes().values,o=e.chart().getMetadata("data.column-format",{})[r]||{},i={prepend:o["number-prepend"]||"",append:o["number-append"]||"",minusChar:cg(e.theme(),"vis.base.format.minusCharacter","â"),plusMinusChar:cg(e.theme(),"vis.base.format.plusMinusCharacter"),format:e.get("map-label-format","0,0.[00]"),multiply:Math.pow(10,-o["number-divisor"]||0)};return e=>{if(!e.data)return"";let r=e.data[t.labels.name()],o=t.labels.type();return("number"===o?isFinite(r):r)?"text"===o?r.replace(/-/g,"- "):kt(n,r,i):""}}(m),L=function({vis:e,map:t,colorScale:n,matchingKey:r,regionLabelFormatter:o}){var i,a,l;let s=e.axes(!0),u=e.get("legends",{}),c=(null==(i=u.color)?void 0:i.enabled)&&u.color.titleEnabled&&u.color.title||s.values.title(),d={t:t=>e.chart().translate(`accessibility / ${t}`),mapName:t.meta.label,axes:e.axes(),axesCols:s,regionMatchingKey:r.label,hasCustomLabels:s.labels&&s.labels.name()!==s.keys.name(),values:{title:dw.utils.purifyHtml(c,"").trim(),type:s.values.type(),formatter:t.getValueLabelFormatter()},dataCount:t.data.filter(e=>!t.hasNoData(e)).length,locale:e.lang.split("-")[0],regionLabelFormatter:o},f=e.get("tooltip",{});if(d.isInteractive=f.enabled,d.hasTooltip=f.enabled&&(f.title||f.body),d.hasCustomLabels&&(d.labelColumnTitle=s.labels.title()),"number"===s.values.type())d.values.range=s.values.range().map(e=>t.getValueLabelFormatter()(e));else{let t=e.get("colorscale.categoryOrder",[]),r=e.get("colorscale.categoryLabels",{}),o=n._labels.sort((e,n)=>t.indexOf(e)-t.indexOf(n)).map(e=>({label:r[e]||e,value:e}));d.values.categories=o,d.values.categoryLabelMap=Object.fromEntries(o.map(({value:e,label:t})=>[e,t]))}let p=e.get("patterns.enabled",!1);if(s.pattern&&p){let t=(null==(a=u.pattern)?void 0:a.enabled)&&u.pattern.titleEnabled&&u.pattern.title||s.pattern.title(),n=e.get("patterns.map",{}),r=e.get("patterns.order",[]),o=w9(null!=(l=s.pattern.values())?l:[]);if(o.length>0){let e=o.filter(e=>e in n).sort((e,t)=>r.indexOf(e)-r.indexOf(t)).map(e=>{var t,r;return{label:(null==(t=n[e])?void 0:t.label)||e,key:e,excludeFromLegend:null==(r=n[e])?void 0:r.excludeFromLegend}});e.length>0&&(d.pattern={title:t,keys:o,categories:e,keyLabelMap:Object.fromEntries(e.map(({key:e,label:t})=>[e,t]))})}}return d}({vis:m,map:e,colorScale:O,matchingKey:w,regionLabelFormatter:C});e.mapOuter.attr("aria-label",function(e){let{values:t,dataCount:n,mapName:r,pattern:o,locale:i,isInteractive:a,hasTooltip:l,t:s}=e,u=s(`d3-maps-choropleth / overview / ${t.type}`).replace("%mapName%",r).replace("%dataCount%",n).replace("%valueTitle%",t.title);if(u="number"===t.type?u.replace("%range1%",t.range[0]).replace("%range2%",t.range[1]):u.replace("%nCategories%",t.categories.length).replace("%categories%",Mw(t.categories.map(({label:e})=>e),i)),o&&o.keys.length>0){let e=o.categories;u+=` ${s(`d3-maps-choropleth / overview / pattern-${1===e.length?"single":"multiple"}`).replace("%category%",e[0].label).replace("%patternTitle%",o.title).replace("%categories%",Mw(e.map(({label:e})=>e),i))}`}return a&&(u+=` ${s("d3-maps / interactive")}`.replace("%interactionContent%",s(`d3-maps / interactive / ${l?"tooltip":"no-tooltip"}`)).replace("%element%",s("d3-maps-choropleth / interactive / element"))),u}(L));let P=m.get("mapView","full"),D="crop"===P&&m.get("hide-empty-regions");D?e.canvas?p.get("region").features.forEach(t=>{e.hasNoData(t)&&(t.__hidden=!0)}):(h.get("gregion").classed("hidden",e.hasNoData),h.get("outlines").classed("hidden",e.hasNoData)):e.canvas?p.get("region").features.forEach(e=>{e.__hidden=!1}):(h.get("gregion").classed("hidden",!1),h.get("outlines").classed("hidden",!1)),"crop"===P&&e.zoomRegionsWithData();let R=w6(y),I=(t,n)=>{let o=t.fill=e.hasNoData(t)?N:O(t.data[S.values]),{r:i,g:a,b:s}=ox(o),u=l&&!T(t),c=null;if(m.get("patterns.enabled",!1)){let e=m.axes().pattern,n=!!t.data&&e in t.data&&(t.data[e]||""),i=m.get("patterns.map",{});if(c=!1!==n&&i[n]?t8(t8({},R),i[n]):null){let e=m.get("patterns.colorType","auto-contrast");c.opacity=m.get("patterns.opacity",50),c.color="background"===e?y.colors.background:e.includes("greyscale")?r(w4[e]):W({fill:r(o)})?"#ffffff":"#000000",c.id=[c.type,c.width,c.gap,c.opacity,m.libraries().chroma(c.color).hex().replace("#","")].join("-").replace(/\./gm,"-"),u&&(c.opacity=.1)}}return{fill:n?`rgba(${i},${a},${s},${u?.1:1})`:o,pattern:c}};if(e.canvas)e.canvasLayers.find(e=>"region"===e.id).style=function(e){return I(e,!0)},e.draw();else{let t=new Map;h.get("region").style("fill",function(e){let t=I(e,!1);return e.pattern=t.pattern,e.fill=t.fill}),h.get("gregion").selectAll(".pattern-layer").remove(),h.get("region").filter(e=>e.pattern).clone().classed("pattern-layer",!0).style("fill",function(n){return t.has(n.pattern.id)||t.set(n.pattern.id,e.addFillPattern(n.pattern.id,n.pattern)),`url(#${t.get(n.pattern.id)})`}),h.get("outlines").classed("has-data",function(t){return!e.hasNoData(t)})}let B=m.get("labels.enabled"),F=m.get("labels.type");if(S.labels&&B&&"column"===F){let t=cg(y,"vis.d3-maps-choropleth.labels.outline.color.inverted")?null:m.darkMode()?w$("rgb(50, 50, 50)",y._computed.bgDark,y._computed.bgLight):"rgb(50, 50, 50)",n=/<br *\/?>|\n/g,r=m.axes(!0).labels.type();if("number"===r){let e=_[S.labels]||{};e["number-prepend"],e["number-append"],cg(m.theme(),"vis.base.format.minusCharacter","â"),cg(m.theme(),"vis.base.format.plusMinusCharacter"),m.get("map-label-format","0,0.[00]"),e["number-divisor"]}e.data.forEach(function(t){t.__area=e.path.area(t)});let o=e.data.sort(function(e,t){return t.__area-e.__area}),i=e.g.append("g.labels"),a=i.selectAll("g.label").data(o).enter().append("g.label").classed("inverted",W).each(function(e){let t=C(e);e.__lines=(!t?[]:t.match(n)?t.trim().split(n):wF(t,10)).map(function(e){return"text"===r?e.replace(/- /g,"-"):e})});a.append("text.buffer"),a.append("text.label"),a=i.selectAll("text").filter(e=>e.anchor&&isFinite(e.anchor[0])&&isFinite(e.anchor[1])).translate(e=>e.anchor),D?a.classed("hidden",e.hasNoData):a.classed("hidden",!1),a.tspans(aH("__lines"),12),i.selectAll("g.label").each(function(n){let r=rL(this);r.select("text.label").selectAll("tspan").style("fill",function(t){let n=W(t),r=e.darkThemeBackground?-1:1;return cg(y,`vis.d3-maps-choropleth.labels.color.${n?"inverted":"normal"}`,n?oD(t.fill).darker((n?-4:2.5)*r):null)}(n)),r.classed("inverted")&&r.selectAll("text.buffer").attr("stroke",t)}),e.updateLabelOverlaps(i,"g.label"),a.classed("lbl-hidden",q),e.addZoomLayer("labels",i,a),e.onZoom(function(){e.updateLabelOverlaps(i,"g.label"),a.classed("lbl-hidden",q)})}function q(t){var n;return!((n=t)&&n.data&&o&&o.length&&S.labels&&o.indexOf(n.data[S.labels])>-1)&&(e.scale<M||!!j&&!t._visible)}function W(t){let n=oD(t.fill).l;return e.darkThemeBackground?n>50:n<50}B&&"places"===F&&e.renderPlaces();let H=a&&a.title&&(a.title!==m.get("tooltip.title")||a.body!==m.get("tooltip.body"));if((a=t8({},m.get("tooltip",{title:"",body:"",enabled:!1}))).enabled){try{a.template=dw.utils.htmlTemplate((a.title?`<h2>${a.title}</h2>`:"")+a.body)}catch(t){e.isDatawrapperEditor?a.template=dw.utils.htmlTemplate(kX(t)):a.template=()=>{throw Error()}}if(i&&c&&i.attr("d",e.path),(t=rL(g.querySelector(".dw-tooltip"))).node())H&&G(u,{updateContent:!0,updatePosition:!1});else if(t=rL(g).append("div.dw-tooltip").attr("aria-hidden",!0).style("max-height",.55*b[1]+"px").style("overflow-y","auto"),i=e.g.append("path.region-outline.hover-outline.has-data").st({vectorEffect:"non-scaling-stroke",strokeWidth:cg(y,"vis.d3-maps-choropleth.borders.hoverOutline.scale",2)*e.SVG_TO_CANVAS_SCALE,strokeLinejoin:"round",fill:"none"}).attr("d","M0,0"),e.onZoom(()=>{i.datum()&&(i.attr("d",e.path),Y())}),e.canvas){let n=function(e,t,n){kG(e,t,n);let r=kW(e,e=>e.properties.__centroid[0],e=>e.properties.__centroid[1]);return e=>{let t=r.copy(),n=t.find(e[0],e[1]);if(!n)return;let o=300;for(;t.size()&&!function(t){if(!t)return!1;let n=t.properties.__bbox;return e[0]>=n[0][0]&&e[0]<=n[1][0]&&e[1]>=n[0][1]&&e[1]<=n[1][1]&&function(e,t){if("MultiPolygon"===e.geometry.type||"Polygon"===e.geometry.type){let n="MultiPolygon"===e.geometry.type?e.geometry.coordinates:[e.geometry.coordinates];for(let e=0;e<n.length;e++){let r=n[e];for(let e=0;e<r.length;e++)if(function(e,t){for(var n,r,o=e.length,i=e[o-1],a=t[0],l=t[1],s=i[0],u=i[1],c=!1,d=0;d<o;++d)n=(i=e[d])[0],(r=i[1])>l!=u>l&&a<(s-n)*(l-r)/(u-r)+n&&(c=!c),s=n,u=r;return c}(r[e],t))return!0}return!1}console.warn(e.geometry.type,"is not supported")}(t,e)}(n)&&--o>0;)t.remove(n),n=t.find(e[0],e[1]);if(o&&t.size())return n}}(p.get("region").features,e.mapProj,e.proj);e.mapOuter.on("mousemove",()=>{if(c||!a.enabled&&!m.get("legends.color.interactive")&&!m.get("legends.pattern.interactive")||Mb)return;let r=e.getRelativeMousePosition(rS,e.mapOuter.node()),o=e.getZoom().invert(r),l=n(e.proj.invert(o));l&&l.data&&null!==l.data[S.values]?(a.enabled&&G(l),i.datum(l).attr("d",e.path),E("region.mouseenter",dp(l.data)),e.onHighlight&&e.onHighlight(l)):"keyboard"!==a.source&&(E("region.mouseleave"),e.onHighlight&&e.onHighlight(null),t.style("visibility","hidden"),i.datum(null).attr("d","M0,0"))}).on("click",()=>{if(c)return Y();let r=e.getRelativeMousePosition(rS,e.mapOuter.node()),o=e.getZoom().invert(r),a=n(e.proj.invert(o));a&&E("region.click",dp(a.data)),(m.get("tooltip.sticky")||Mb)&&a&&a!==c&&a.data&&null!==a.data[S.values]&&(c=a,t.classed("sticky",!0),i.datum(a).attr("d",e.path),G(a))})}else v.flags().static||kG(e.data.filter(t=>!e.hasNoData(t)&&t.geometry),e.mapProj,e.proj),h.get("outlines").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",function(t){c||Mb||(G(t),e.onHighlight&&e.onHighlight(t),rL(this).classed("hovered-region",!0))}).on("mousemove",function(e){c||Mb||G(e,{updateContent:!1})}).on("mouseout",function(){c||Mb||(e.onHighlight&&e.onHighlight(null),t.style("visibility","hidden"))}).on("click",function(t){m.get("tooltip.sticky")&&(""!==a.title||""!==a.body)&&(h.get("outlines").classed("sticky",!1),c===t||e.hasNoData(t)?(c&&e.hasNoData(t)||c===t)&&Y():(rL(this).classed("sticky",!0),c=t,G(t)))}),rL(g).selectAll("rect.background").on("click",Y);!function({map:e,tooltip:t,hoverPath:n,postEvent:r,getLabel:o,ariaLabel:i,hintText:a,features:l}){if(e.featureFocus)return;let s=l,u=null,c=null,d=e.mapOuter.insert("div.feature-focus",".annotations + *").attr("tabindex",0).attr("role","img"),f=d.append("div.hint").attr("aria-hidden",!0).html(a.replace("%KEYS%",'<span class="kbd-group"><kbd>â</kbd><kbd>â</kbd><kbd>â</kbd><kbd>â</kbd></span>')).style("display","none"),p=e.mapOuter.append("div.sr-focus-announcer.sr-only").attr("aria-live","assertive").text("");d.on("keydown",function(i,a){if(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Escape"].includes(rS.key))if(rS.preventDefault(),rS.key.includes("Arrow")){var l;let i=!c;c=i?null!=(l=u)?l:function(e,t){let n=t.getZoom(),r=t.getContainerBounds();return e.reduce((e,o)=>{if(!e)return o;if(!kV({feature:o,containerBBox:r,map:t}))return e;if(!kV({feature:e,containerBBox:r,map:t}))return o;let[i,a]=n.apply([o.properties._x,o.properties._y]),[l,s]=n.apply([e.properties._x,e.properties._y]);return a<s||a===s&&i<l?o:e},null)}(s,e):function(e,t,n){let[r,o]=[e.properties._x,e.properties._y],[i,a]={ArrowRight:[1,0],ArrowLeft:[-1,0],ArrowDown:[0,1],ArrowUp:[0,-1]}[n];if(!i&&!a)return e;let l=e,s=1/0;for(let n of t){if(n===e)continue;let[t,u]=[n.properties._x,n.properties._y],c=t-r,d=u-o;if(c*i+d*a<=0)continue;let f=Math.sqrt(c*c+d*d)+2*Math.abs(c*a-d*i);f<s&&(l=n,s=f)}return l}(c,s,rS.key),i||function(e,t,n,r=20){let o=kZ(e,n);if(kV({featureBbox:o,containerBBox:t,map:n}))return;let{left:i,top:a,width:l,height:s}=o,u=t.width-r-l,c=t.height-r-s,d=Math.min(0,u-i)+Math.max(0,r-i),f=Math.min(0,c-a)+Math.max(0,r-a);if(n.zoomBehavior&&(0!==d||0!==f)){let e=n.getZoom();n.zoomBehavior.translateBy(n.svg,d/e.k,f/e.k)}}(c,e.getContainerBounds(),e),e.featureFocus.hint.hide(),e.featureFocus.outlineFeature(),t.show(c,{isKeyboardFocus:!0}),n.show(c),p.html(o(c)),r("region.focus",dp(c.data)),e.onHighlight&&e.onHighlight(c)}else c?e.featureFocus.reset():e.featureFocus.node.blur()}),d.on("focus",()=>{e.featureFocus.reset(!1,!0)}),d.on("blur",()=>{e.featureFocus.reset(!0)}),e.featureFocus={node:d.node(),hint:{show:()=>f.style("display","block"),hide:()=>f.style("display","none")},getTooltipAnchor:()=>{if(!c)return null;let t=kZ(c,e),n=e.getContainerBounds();return[t.left+t.width/2+n.left,t.top+t.height/2+n.top]},outlineFeature:()=>{c&&e.featureFocus.setBBox(kZ(c,e))},setBBox:(t,n=!0)=>{let r=e.getContainerBounds(),o=+!!n,i=Math.max(o,t.left),a=Math.max(o,t.top),l=Math.min(r.width-o,t.left+t.width),s=Math.min(r.height-o,t.top+t.height),u=Math.max(0,l-i),c=Math.max(0,s-a);d.st({left:i+"px",top:a+"px",width:u+"px",height:c+"px"})},reset:(o=!1,a=!1)=>{p.text(""),d.attr("aria-label",i);let l=!!c;if(l&&(u=c,c=null,r("region.unfocus"),e.onHighlight&&e.onHighlight(null),t.node.style("visibility","hidden"),n.hide()),l&&!o||a){var s,f;e.featureFocus.setBBox(kK(e.getBasemapBounds(),e,{padding:null!=(s=e.extraPadding)?s:0,verticalShift:-(null!=(f=e.verticalShift)?f:0)})),e.featureFocus.hint.show()}else e.featureFocus.setBBox({left:0,top:0,width:0,height:0},!1),e.featureFocus.hint.hide()},remove:()=>{d.remove(),p.remove(),e.featureFocus=null},updateFeatures:e=>{s=e}},e.featureFocus.reset(!0)}({map:e,tooltip:{node:t,show:G},getLabel:e=>t.html()||function(e,t){let{axes:n,regionLabelFormatter:r,hasCustomLabels:o,labelColumnTitle:i,values:a,pattern:l,regionMatchingKey:s,t:u}=t,c=u("d3-maps-choropleth / region / location").replace("%region%",e.data[n.keys]).replace("%regionType%",s);return o&&(c+=` ${u("d3-maps-choropleth / region / label").replace("%label%",r(e)).replace("%column%",i)}`),c+=` ${u(`d3-maps-choropleth / region / value / ${a.type}`).replace("%title%",a.title).replace("%value%","number"===a.type?a.formatter(e.data[n.values]):a.categoryLabelMap[e.data[n.values]])}`,l&&(c+=e.data[n.pattern]?` ${u("d3-maps-choropleth / region / value / text").replace("%title%",l.title).replace("%value%",l.keyLabelMap[e.data[n.pattern]])}`:` ${u("d3-maps-choropleth / region / no-pattern").replace("%title%",l.title)}`),dw.utils.purifyHtml(c,"")}(e,L),hoverPath:{show:t=>{e.canvas?i.datum(t).attr("d",e.path):h.get("outlines").classed("hover-outline",e=>e===t)},hide:()=>{e.canvas?i.datum(null).attr("d","M0,0"):h.get("outlines").classed("hover-outline",!1)}},postEvent:E,features:e.data.filter(t=>!e.hasNoData(t)&&t.geometry),ariaLabel:m.chart().translate("accessibility / d3-maps-choropleth / focus-element"),hintText:m.chart().translate("d3-maps-choropleth / focus-element")})}else{var U;let t=g.querySelector(".dw-tooltip");t&&t.parentNode.removeChild(t),null==(U=e.featureFocus)||U.remove()}function Y(){c=!1,t.style("visibility","hidden").classed("sticky",!1)}function G(n,{updateContent:r=!0,updatePosition:o=!0,isKeyboardFocus:i=!1}={}){if((u=n,!e.hasNoData(n))&&(""!==a.title||""!==a.body)){if(a.source=i?"keyboard":"mouse",r){let r,o,{numeral:i}=m.libraries(),l={FORMAT:kR.bind(this,i)};!function({ctx:e,columns:t,data:n,colFmts:r,useKeys:o=!1}){let i=new Set,a=new Map;t.forEach(e=>{let t=kb(e.name()),n=t,r=0;for(;i.has(n);)n=`${t}_${++r}`;i.add(n),a.set(e.name(),n)}),t.forEach(t=>{let i=kb(t.name()),l=a.get(t.name()),s=Math.pow(10,-((r[t.name()]||{})["number-divisor"]||0));if(e[l]=n[o?i:t.name()],"number"===t.type()){e[l]*=s;let[n,r]=t.range(),o={min:n,max:r,sum:t.sum(),mean:t.mean(),median:t.median()};Object.keys(o).forEach(t=>{e[`${l}__${t}`]=o[t]})}})}({ctx:l,columns:m.dataset.columns(),data:n.data,colFmts:_});try{r=a.template(l).replace(/\n\n/g,"<br>")}catch(t){if(!e.isDatawrapperEditor)return;r=kX(t)}if(o=Mb?r+'<div class="dw-tooltip-close">&#x2715;</div>':r,""===r)return;t.style("visibility","visible").html(o)}if(t.select(".dw-tooltip-close").on("click",Y),o){let n=i?e.featureFocus.getTooltipAnchor():e.getRelativeMousePosition(rS,g),r=g.clientWidth<450?.55:.45;e.sizeTooltip(n,g,t),t.style("max-height",g.clientHeight*r+"px")}}}s.updateNodePositions({width:b[0],theme:y,rtl:k});let X=[];m.get("legends.color.enabled",!0)&&X.push(m.mapKey.update({legendContainer:s,colorScale:O,map:e})),X.push(function({vis:e,map:t,legendContainer:n}){let r=e.get("legends.pattern",{}),{node:o,position:i}=n.patternLegend(),a=e.axes(!0).pattern,l=a?a.title():"",s=Mx(e);if(rL(o).html(""),!s||0===s.length)return;let u=cg(r,"interactive",!1),c={title:cg(r,"titleEnabled",!1)?cg(r,"title","")||l:"",swatches:s,width:i.includes("inside")?cg(r,"size",170):null,horizontal:"horizontal"===cg(r,"orientation","horizontal")||1===s.length,position:"below"===i?"below":"above",interactive:u,highlight:u,noPadding:!0,theme:e.theme(),rtl:"rtl"===e.textDirection,buffer:!!i.includes("inside"),emotion:e.chart().emotion,chroma:e.libraries().chroma,purifyHtml:dw.utils.purifyHtml,translate:e.chart().translate,locale:e.chart().locale},d={};if(u){let e=yG(e=>{e?t.highlight(e):t.highlight(null)},700);d.mouseenter=({detail:t})=>{e.set(t8(t8({},t),{},{patternKey:t.key}),!0)},d.mouseleave=()=>{e.clear()}}let f=xc(o,c,d);return u&&t.highlightCallbacks.add(e=>{if(!e||!e.data)return void f.highlight(null);f.highlight(`pattern-${e.data[a.name()]||""}`)},"pattern-legend"),f.rendered}({vis:m,map:e,legendContainer:s})),Promise.all(X.filter(Boolean)).then(()=>{s.verticallyAlignCombinedLegend(),e.resizeMap(m.size())}),e.fixZoom(),e.resizeMap(m.size()),e.insetMap.render()}function T(e){if(!e.data)return!1;if(void 0!==l.min){let t=e.data[S.values];return t>=l.min&&t<l.max}if("patternKey"in l)return`pattern-${e.data[S.pattern]||""}`===l.patternKey;if(l.value){let t=m.get("colorscale.categoryLabels",{}),n=e.data[S.values],r=null!=t[n]?t[n]:n;return`${e.fill}///${r}`===l.value}}},reset:function(){}}},...dw.visualization.hasVisHash?["33acae1d","%%0ab6dd6d%%".slice(2,-2)]:[])}();

